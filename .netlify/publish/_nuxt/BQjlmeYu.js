import N from"./NY8DXe15.js";import{u as Y}from"./DekLO5mZ.js";import{r as I,c,o as s,a as e,b as $,t as m,$ as le,a0 as ce,aj as M,Z as H,h as _e,n as X,_ as ue,l as S,g as E,f as v,ag as F,ah as B,j as A,w as K,k as ee,e as te,af as ve,a2 as de,a6 as Q,u as D,a3 as R,m as me}from"./B68XTRoa.js";import{u as oe}from"./BZNdWMhY.js";import{u as Ie,M as Ee}from"./Dy1c3Y_b.js";const Pe={class:"flex flex-col items-center justify-center w-full px-4 py-12"},Se={class:"text-center w-full max-w-md"},Te={class:"w-16 h-16 mx-auto mb-6 rounded-xl flex items-center justify-center",style:{"background-color":"var(--bg-border)"}},Le={class:"text-2xl font-bold mb-3 transition-colors duration-200 tracking-tight",style:{color:"var(--text-primary)"}},Ae={class:"text-sm mb-6 transition-colors duration-200 leading-relaxed max-w-sm mx-auto",style:{color:"var(--text-secondary)"}},qe={class:"w-full mx-auto space-y-4"},De={for:"project-name",class:"block text-sm font-semibold mb-2 transition-colors duration-200",style:{color:"var(--text-primary)"}},Me=["placeholder"],Fe={for:"project-description",class:"block text-sm font-semibold mb-2 transition-colors duration-200",style:{color:"var(--text-primary)"}},Ne=["placeholder"],Be=["onKeydown","disabled","aria-label"],ze={__name:"DashboardEmptyState",emits:["create-project"],setup(t,{emit:n}){const r=n,i=Y(),{currentUser:d}=oe(),y=I(""),b=I(""),h=I(null),_=async()=>{if(!(!y.value.trim()||!d.value))try{const x=await i.addProjectRemote(d.value.uid,{name:y.value.trim(),description:b.value.trim(),checklistType:h.value});i.setCurrentProject(x.id),r("create-project",x),x.checklistType||await X("/select-checklist")}catch(x){console.error("Erreur lors de la création du projet:",x)}};return(x,k)=>{const P=N;return s(),c("div",Pe,[e("div",Se,[e("div",Te,[$(P,{name:"fluent-emoji:snake",class:"w-8 h-8",style:{color:"var(--accent-primary)"},"aria-hidden":"true"})]),e("h1",Le,m(x.$t("emptyState.title")),1),e("p",Ae,m(x.$t("emptyState.description")),1),e("div",qe,[e("div",null,[e("label",De,m(x.$t("projects.name")),1),le(e("input",{id:"project-name","onUpdate:modelValue":k[0]||(k[0]=C=>y.value=C),type:"text",placeholder:x.$t("projects.namePlaceholder"),class:"input w-full h-10",onKeydown:M(_,["enter"])},null,40,Me),[[ce,y.value]])]),e("div",null,[e("label",Fe,m(x.$t("projects.description")),1),le(e("textarea",{id:"project-description","onUpdate:modelValue":k[1]||(k[1]=C=>b.value=C),placeholder:x.$t("projects.descriptionPlaceholder"),rows:"3",class:"input w-full h-20 resize-none"},null,8,Ne),[[ce,b.value]])]),e("button",{onClick:_,onKeydown:[M(_,["enter"]),M(H(_,["prevent"]),["space"])],disabled:!y.value.trim(),class:"btn btn-primary w-full h-10 text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed","aria-label":x.$t("emptyState.createButton"),role:"button",tabindex:"0"},[$(P,{name:"heroicons:plus",class:"w-4 h-4 inline mr-2","aria-hidden":"true"}),_e(" "+m(x.$t("emptyState.createButton")),1)],40,Be)])])])}}},He=["aria-expanded","aria-controls","aria-label"],Ke={class:"flex items-center justify-between"},Oe={class:"flex items-center space-x-4 flex-1"},Re=["aria-checked","aria-label"],Ue={class:"flex-1 min-w-0"},Ve=["innerHTML"],Je={class:"text-base transition-colors duration-200",style:{color:"var(--text-secondary)"}},We=["aria-expanded","aria-label"],Ze={__name:"ChecklistItemHeader",props:{item:{type:Object,required:!0},isItemChecked:{type:Boolean,required:!0},isExpanded:{type:Boolean,required:!0}},emits:["toggle-accordion","toggle-item"],setup(t){return(n,r)=>{const i=N;return s(),c("div",{class:"p-4 cursor-pointer transition-all duration-200 hover:bg-opacity-80",onClick:r[3]||(r[3]=d=>n.$emit("toggle-accordion")),onKeydown:[r[4]||(r[4]=M(d=>n.$emit("toggle-accordion"),["enter"])),r[5]||(r[5]=M(H(d=>n.$emit("toggle-accordion"),["prevent"]),["space"]))],role:"button","aria-expanded":t.isExpanded,"aria-controls":`item-details-${t.item.id}`,"aria-label":`${t.isExpanded?n.$t("items.accordion.closeDetails"):n.$t("items.accordion.openDetails")} de ${t.item.label}`,tabindex:"0"},[e("div",Ke,[e("div",Oe,[e("button",{onClick:r[0]||(r[0]=H(d=>n.$emit("toggle-item"),["stop"])),onKeydown:[r[1]||(r[1]=M(H(d=>n.$emit("toggle-item"),["stop"]),["enter"])),r[2]||(r[2]=M(H(d=>n.$emit("toggle-item"),["stop","prevent"]),["space"]))],class:S(["flex-shrink-0 w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-300 hover:scale-105 relative overflow-hidden",{"bg-gradient-to-br from-green-400 to-green-600 shadow-lg shadow-green-500/30":t.isItemChecked,"border-gray-300 hover:border-gray-400":!t.isItemChecked}]),"aria-checked":t.isItemChecked,"aria-label":`${t.isItemChecked?n.$t("items.accordion.uncheck"):n.$t("items.accordion.check")} ${t.item.label}`,role:"checkbox",tabindex:"0"},[t.isItemChecked?(s(),E(i,{key:0,name:"heroicons:check",class:S(["w-3 h-3 transition-all duration-300 text-white drop-shadow-sm",{"animate-bounce-in":t.isItemChecked}]),"aria-hidden":"true"},null,8,["class"])):v("",!0)],42,Re),e("div",Ue,[e("h3",{class:"text-lg font-semibold leading-tight transition-colors duration-200 mb-2",style:{color:"var(--text-primary)"},innerHTML:t.item.label},null,8,Ve),e("p",Je,m(t.item.description),1)])]),e("button",{class:S(["flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-200 hover:bg-opacity-80",{"rotate-180":t.isExpanded&&!t.isItemChecked}]),"aria-expanded":t.isExpanded,"aria-label":`${t.isExpanded?n.$t("items.accordion.close"):n.$t("items.accordion.open")} les détails`,"aria-hidden":"true"},[t.isItemChecked?(s(),E(i,{key:0,name:"heroicons:check-circle",class:"w-5 h-5 transition-colors duration-200",style:{color:"var(--accent-primary)"},"aria-hidden":"true"})):(s(),E(i,{key:1,name:"heroicons:chevron-down",class:"w-5 h-5 transition-colors duration-200",style:{color:"var(--text-muted)"},"aria-hidden":"true"}))],10,We)])],40,He)}}},Ge=ue(Ze,[["__scopeId","data-v-1971e5f8"]]),Qe={key:0,class:"space-y-3"},Xe={class:"text-lg font-semibold transition-colors duration-200",style:{color:"var(--accent-primary)"}},Ye={class:"text-base leading-relaxed transition-colors duration-200",style:{color:"var(--text-secondary)"}},et={__name:"ChecklistItemExplication",props:{explication:{type:String,default:null}},setup(t){return(n,r)=>t.explication?(s(),c("div",Qe,[e("h4",Xe,m(n.$t("items.details.explication")),1),e("p",Ye,m(t.explication),1)])):v("",!0)}},tt={key:0,class:"space-y-2"},ot={class:"space-y-1",role:"list"},st=["innerHTML"],at={__name:"ChecklistItemCommentFaire",props:{commentFaire:{type:Array,default:()=>[]}},setup(t){return(n,r)=>{const i=N;return t.commentFaire&&t.commentFaire.length>0?(s(),c("div",tt,[r[0]||(r[0]=e("h4",{class:"text-lg font-semibold transition-colors duration-200",style:{color:"var(--accent-primary)"}}," Comment faire ",-1)),e("ul",ot,[(s(!0),c(F,null,B(t.commentFaire,(d,y)=>(s(),c("li",{key:y,class:"text-sm leading-relaxed transition-colors duration-200 flex items-start space-x-2",style:{color:"var(--text-secondary)"},role:"listitem"},[$(i,{name:"heroicons:arrow-right",class:"w-4 h-4 flex-shrink-0 mt-0.5 transition-colors duration-200",style:{color:"var(--accent-primary)",position:"relative","z-index":"0"},"aria-hidden":"true"}),e("span",{innerHTML:d},null,8,st)]))),128))])])):v("",!0)}}},rt={key:0,class:"space-y-3"},it={class:"text-lg font-semibold transition-colors duration-200",style:{color:"var(--accent-primary)"}},nt={class:"space-y-4"},lt={key:0,class:"space-y-1"},ct={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple"},dt={style:{color:"var(--text-code)"}},mt={key:1,class:"space-y-4"},ut={key:0,class:"text-sm transition-colors duration-200",style:{color:"var(--text-muted)"}},vt={key:1,class:"space-y-1"},ht={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple"},pt={style:{color:"var(--text-code)"}},xt={key:2,class:"space-y-2"},yt={key:0,class:"space-y-1"},gt={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple HTML"},ft={style:{color:"var(--text-code)"}},bt={key:1,class:"space-y-1"},kt={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple CSS"},wt={style:{color:"var(--text-code)"}},$t={key:2,class:"space-y-1"},Ct={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple JavaScript"},jt={style:{color:"var(--text-code)"}},_t={key:3,class:"space-y-1"},It={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple PHP"},Et={style:{color:"var(--text-code)"}},Pt={key:4,class:"space-y-1"},St={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple Node.js"},Tt={style:{color:"var(--text-code)"}},Lt={key:5,class:"space-y-1"},At={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple Apache"},qt={style:{color:"var(--text-code)"}},Dt={key:6,class:"space-y-1"},Mt={class:"text-xs p-3 rounded overflow-x-auto",style:{"background-color":"var(--bg-code)"},role:"code","aria-label":"Exemple Nginx"},Ft={style:{color:"var(--text-code)"}},Nt={key:3,class:"rounded-xl overflow-hidden",style:{"background-color":"var(--bg-code)"}},Bt=["src","alt"],zt={__name:"ChecklistItemExemple",props:{exemple:{type:[String,Object],default:null}},setup(t){const n=t;return A(()=>n.exemple?typeof n.exemple=="string"?!0:n.exemple.code||n.exemple.exemple||n.exemple.html||n.exemple.css||n.exemple.javascript||n.exemple.php||n.exemple.nodejs||n.exemple.apache||n.exemple.nginx:!1),(r,i)=>t.exemple?(s(),c("div",rt,[e("h4",it,m(r.$t("items.details.exemple")),1),e("div",nt,[typeof t.exemple=="string"?(s(),c("div",lt,[i[0]||(i[0]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"Exemple",-1)),e("pre",ct,[e("code",dt,m(t.exemple),1)])])):typeof t.exemple=="object"?(s(),c("div",mt,[t.exemple.description?(s(),c("div",ut,m(t.exemple.description),1)):v("",!0),t.exemple.exemple?(s(),c("div",vt,[i[1]||(i[1]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"Exemple",-1)),e("pre",ht,[e("code",pt,m(t.exemple.exemple),1)])])):v("",!0),t.exemple.code?(s(),c("div",xt,[t.exemple.code.html?(s(),c("div",yt,[i[2]||(i[2]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"HTML",-1)),e("pre",gt,[e("code",ft,m(t.exemple.code.html),1)])])):v("",!0),t.exemple.code.css?(s(),c("div",bt,[i[3]||(i[3]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"CSS",-1)),e("pre",kt,[e("code",wt,m(t.exemple.code.css),1)])])):v("",!0),t.exemple.code.javascript?(s(),c("div",$t,[i[4]||(i[4]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"JavaScript",-1)),e("pre",Ct,[e("code",jt,m(t.exemple.code.javascript),1)])])):v("",!0),t.exemple.code.php?(s(),c("div",_t,[i[5]||(i[5]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"PHP",-1)),e("pre",It,[e("code",Et,m(t.exemple.code.php),1)])])):v("",!0),t.exemple.code.nodejs?(s(),c("div",Pt,[i[6]||(i[6]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"Node.js",-1)),e("pre",St,[e("code",Tt,m(t.exemple.code.nodejs),1)])])):v("",!0),t.exemple.code.apache?(s(),c("div",Lt,[i[7]||(i[7]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"Apache",-1)),e("pre",At,[e("code",qt,m(t.exemple.code.apache),1)])])):v("",!0),t.exemple.code.nginx?(s(),c("div",Dt,[i[8]||(i[8]=e("div",{class:"text-xs font-medium transition-colors duration-200",style:{color:"var(--text-muted)"}},"Nginx",-1)),e("pre",Mt,[e("code",Ft,m(t.exemple.code.nginx),1)])])):v("",!0)])):v("",!0),t.exemple.image?(s(),c("div",Nt,[e("img",{src:t.exemple.image,alt:t.exemple.imageAlt||"Exemple visuel",class:"w-full h-auto",loading:"lazy"},null,8,Bt)])):v("",!0)])):v("",!0)])])):v("",!0)}},Ht={key:0,class:"space-y-2"},Kt={class:"text-lg font-semibold transition-colors duration-200",style:{color:"var(--accent-primary)"}},Ot={class:"space-y-1",role:"list"},Rt={__name:"ChecklistItemBonnesPratiques",props:{bonnesPratiques:{type:Array,default:()=>[]}},setup(t){return(n,r)=>{const i=N;return t.bonnesPratiques&&t.bonnesPratiques.length>0?(s(),c("div",Ht,[e("h4",Kt,m(n.$t("items.details.bonnesPratiques")),1),e("ul",Ot,[(s(!0),c(F,null,B(t.bonnesPratiques,(d,y)=>(s(),c("li",{key:y,class:"text-sm leading-relaxed transition-colors duration-200 flex items-start space-x-2",style:{color:"var(--text-secondary)"},role:"listitem"},[$(i,{name:"heroicons:check-circle",class:"w-4 h-4 flex-shrink-0 mt-0.5 transition-colors duration-200",style:{color:"var(--accent-primary)",position:"relative","z-index":"0"},"aria-hidden":"true"}),e("span",null,m(d),1)]))),128))])])):v("",!0)}}},Ut={key:0,class:"space-y-3"},Vt={class:"text-lg font-semibold transition-colors duration-200",style:{color:"var(--accent-primary)"}},Jt={class:"space-y-3"},Wt=["href","title"],Zt={class:"flex-1 min-w-0"},Gt={class:"font-medium transition-colors duration-200",style:{color:"var(--text-primary)"}},Qt={class:"text-sm transition-colors duration-200",style:{color:"var(--text-muted)"}},Xt={__name:"ChecklistItemRessources",props:{ressources:{type:Array,default:()=>[]}},setup(t){return(n,r)=>{const i=N;return t.ressources&&t.ressources.length>0?(s(),c("div",Ut,[e("h4",Vt,m(n.$t("items.details.ressources")),1),e("div",Jt,[(s(!0),c(F,null,B(t.ressources,d=>(s(),c("a",{key:d.url,href:d.url,target:"_blank",rel:"noopener noreferrer",class:"flex items-center space-x-3 p-4 rounded-xl transition-all duration-200 hover:bg-opacity-80",style:{"background-color":"var(--bg-surface)",border:"1px solid var(--bg-border)"},title:d.title},[$(i,{name:"heroicons:arrow-top-right-on-square",class:"w-5 h-5 flex-shrink-0 transition-colors duration-200",style:{color:"var(--accent-primary)"},"aria-hidden":"true"}),e("div",Zt,[e("div",Gt,m(d.title),1),e("div",Qt,m(d.description),1)])],8,Wt))),128))])])):v("",!0)}}},Yt={key:0,class:"space-y-3"},eo={class:"text-lg font-semibold transition-colors duration-200",style:{color:"var(--accent-primary)"}},to={class:"space-y-3"},oo={class:"text-base transition-colors duration-200",style:{color:"var(--text-secondary)"}},so={__name:"ChecklistItemConseils",props:{conseils:{type:Array,default:()=>[]}},setup(t){return(n,r)=>{const i=N;return t.conseils&&t.conseils.length>0?(s(),c("div",Yt,[e("h4",eo,m(n.$t("items.details.conseils")),1),e("div",to,[(s(!0),c(F,null,B(t.conseils,d=>(s(),c("div",{key:d,class:"flex items-start space-x-3 p-4 rounded-xl",style:{"background-color":"var(--bg-surface)",border:"1px solid var(--bg-border)"}},[$(i,{name:"heroicons:light-bulb",class:"w-5 h-5 flex-shrink-0 mt-0.5 transition-colors duration-200",style:{color:"var(--accent-primary)"},"aria-hidden":"true"}),e("p",oo,m(d),1)]))),128))])])):v("",!0)}}},ao=["id","aria-label"],ro={class:"p-6 space-y-6"},io={key:0,class:"text-center py-8"},no={class:"text-base transition-colors duration-200",style:{color:"var(--text-muted)"}},lo={__name:"ChecklistItemDetails",props:{item:{type:Object,required:!0},isExpanded:{type:Boolean,required:!0}},setup(t){return(n,r)=>(s(),c("div",{id:`item-details-${t.item.id}`,class:S(["border-t transition-all duration-700 ease-out overflow-hidden",{"max-h-0 opacity-0":!t.isExpanded,"max-h-[10000px] opacity-100":t.isExpanded}]),style:{"border-color":"var(--bg-border)","background-color":"var(--bg-primary)"},role:"region","aria-label":`Détails de ${t.item.label}`},[e("div",ro,[t.item.details?v("",!0):(s(),c("div",io,[e("p",no,m(n.$t("items.details.noDetails")),1)])),t.item.details&&t.item.details.explication?(s(),E(et,{key:1,explication:t.item.details.explication},null,8,["explication"])):v("",!0),t.item.details&&t.item.details.commentFaire?(s(),E(at,{key:2,"comment-faire":t.item.details.commentFaire},null,8,["comment-faire"])):v("",!0),t.item.details&&t.item.details.exemple?(s(),E(zt,{key:3,exemple:t.item.details.exemple},null,8,["exemple"])):v("",!0),t.item.details&&t.item.details.bonnesPratiques?(s(),E(Rt,{key:4,"bonnes-pratiques":t.item.details.bonnesPratiques},null,8,["bonnes-pratiques"])):v("",!0),t.item.details&&t.item.details.ressources?(s(),E(Xt,{key:5,ressources:t.item.details.ressources},null,8,["ressources"])):v("",!0),t.item.details&&t.item.details.conseils?(s(),E(so,{key:6,conseils:t.item.details.conseils},null,8,["conseils"])):v("",!0)])],10,ao))}},co=["aria-label"],mo={__name:"ChecklistItemAccordion",props:{item:{type:Object,required:!0},isItemChecked:{type:Boolean,required:!0}},emits:["toggle-item","accordion-opened","accordion-closed"],setup(t,{emit:n}){const r=t,i=n,d=I(!1),y=()=>{r.isItemChecked||(d.value=!d.value,d.value?i("accordion-opened",r.item.id):i("accordion-closed",r.item.id))},b=()=>{r.isItemChecked?d.value=!0:d.value=!1,i("toggle-item",r.item.id)},h=k=>{k.detail.itemId===r.item.id&&(d.value=!1)},_=k=>{k.detail.itemId===r.item.id&&(d.value=!0)},x=()=>{d.value=!1};return K(()=>r.isItemChecked,(k,P)=>{k&&!P?d.value=!1:!k&&P&&(d.value=!0)}),ee(()=>{window.addEventListener("close-item-accordion",h),window.addEventListener("open-item-accordion",_),window.addEventListener("reset-all-item-accordions",x)}),te(()=>{window.removeEventListener("close-item-accordion",h),window.removeEventListener("open-item-accordion",_),window.removeEventListener("reset-all-item-accordions",x)}),(k,P)=>(s(),c("div",{class:"card",role:"region","aria-label":k.$t("common.item",{label:t.item.label})},[$(Ge,{item:t.item,"is-item-checked":t.isItemChecked,"is-expanded":d.value,onToggleAccordion:y,onToggleItem:b},null,8,["item","is-item-checked","is-expanded"]),$(lo,{item:t.item,"is-expanded":d.value},null,8,["item","is-expanded"])],8,co))}},uo={class:"card p-12 max-w-4xl mx-auto mb-12 relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",border:"1px solid var(--bg-border)"}},vo={class:"relative z-10 text-center"},ho={class:"mb-4 flex items-center justify-center gap-3"},po={__name:"ChecklistDeploymentReadyCard",props:{totalItems:{type:Number,required:!1,default:0},totalCategories:{type:Number,required:!1,default:0}},setup(t){return(n,r)=>{const i=N;return s(),c("div",uo,[e("div",vo,[e("div",ho,[$(i,{name:"fluent-emoji:check-mark-button",class:"w-8 h-8","aria-hidden":"true"}),r[0]||(r[0]=e("h1",{class:"text-4xl md:text-5xl font-bold text-white"}," Félicitations ! ",-1))]),r[1]||(r[1]=e("h2",{class:"text-2xl md:text-3xl font-semibold mb-6 text-white/90"}," Votre site est prêt pour le déploiement ",-1)),r[2]||(r[2]=e("p",{class:"text-lg md:text-xl text-white/90 max-w-2xl mx-auto leading-relaxed"}," Toutes les catégories sont complétées. Vous pouvez lancer le déploiement en toute confiance. ",-1))])])}}},xo={class:"rounded-lg border animate-pulse",style:{"background-color":"var(--bg-primary)","border-color":"var(--bg-border)"}},yo={__name:"CommonSkeletonCategory",setup(t){return(n,r)=>(s(),c("div",xo,r[0]||(r[0]=[ve('<div class="p-6"><div class="flex items-center justify-between"><div class="flex items-center space-x-4"><div class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 animate-pulse"></div><div class="space-y-2"><div class="h-6 w-32 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"></div><div class="h-4 w-48 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"></div></div></div><div class="flex items-center space-x-4"><div class="text-right space-y-1"><div class="h-4 w-12 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"></div><div class="h-3 w-16 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"></div></div><div class="w-8 h-8 rounded-full bg-gray-300 dark:bg-gray-600 animate-pulse"></div></div></div></div>',1)])))}},go={class:"rounded-lg border animate-pulse",style:{"background-color":"var(--bg-primary)","border-color":"var(--bg-border)"}},fo={__name:"CommonSkeletonItem",setup(t){return(n,r)=>(s(),c("div",go,r[0]||(r[0]=[ve('<div class="p-4"><div class="flex items-center justify-between"><div class="flex items-center space-x-3 flex-1"><div class="w-6 h-6 rounded border-2 bg-gray-300 dark:bg-gray-600 animate-pulse"></div><div class="flex-1 min-w-0 space-y-2"><div class="h-4 w-3/4 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"></div><div class="h-3 w-1/2 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"></div></div></div><div class="w-8 h-8 rounded bg-gray-300 dark:bg-gray-600 animate-pulse"></div></div></div>',1)])))}},bo={class:"w-full",style:{"min-height":"calc(100vh + 200px)"}},ko={class:"space-y-6",role:"region","aria-label":"Catégories de la checklist"},wo=["aria-label"],$o=["onClick","onKeydown","aria-expanded","aria-controls","aria-label"],Co={class:"flex items-center justify-between relative z-10"},jo={class:"flex items-center space-x-4"},_o={class:"flex-shrink-0"},Io={class:"flex-1 min-w-0"},Eo={class:"flex items-center space-x-3"},Po={class:"text-right"},So=["aria-expanded","aria-label"],To=["id","aria-label"],Lo={class:"p-4 md:p-5 space-y-4"},Ao={__name:"ChecklistSeoChecklist",props:{currentProjectId:{type:String,default:"default"},checklistType:{type:String,default:"web-prelaunch"}},emits:["categories-loaded"],setup(t,{expose:n,emit:r}){const{t:i}=de(),d=r,{locale:y}=de(),b=Y(),h=t,{getAllCategories:_,getCategoryData:x,setChecklistType:k,waitForData:P}=Ie(h.checklistType),{currentUser:C}=oe(),f=I([]),j=I(new Set),u=I(new Set),w=I(new Set),z=I(!0),J=A(()=>f.value.reduce((o,l)=>o+(l.items?.length||0),0));A(()=>b.getProjectScores(h.currentProjectId).completedItems);const he=A(()=>b.getProjectScores(h.currentProjectId).percentage),pe=A(()=>f.value.length>0&&f.value.every(o=>g(o))),xe=A(()=>f.value.length),U=async()=>{try{z.value=!0,await P();const o=_();f.value=o.map(l=>{const p=x(l),a=i(`categories.${l}.name`),L=i(`categories.${l}.description`);return{id:l,name:a,description:L,items:p.items,icon:se(l),isLoading:!1}}),await O(),d("categories-loaded",f.value)}catch{f.value=[]}finally{z.value=!1}},ye=()=>{window.dataLayer&&window.dataLayer.push({event:"deployment_ready",category:"checklist",action:"deploy_click",label:"all_categories_completed"})},se=o=>({seo:"fluent-emoji:magnifying-glass-tilted-left",accessibilite:"fluent-emoji:wheelchair-symbol",performance:"fluent-emoji:high-voltage","eco-conception":"fluent-emoji:seedling","responsive-ux":"fluent-emoji:mobile-phone",securite:"fluent-emoji:locked",analytics:"fluent-emoji:bar-chart","reseau-chiffrement":"fluent-emoji:shield","authentification-acces":"fluent-emoji:key","protection-attaques":"fluent-emoji:crossed-swords","fichiers-donnees":"fluent-emoji:file-folder","maintenance-surveillance":"fluent-emoji:eye","app-store":"fluent-emoji:red-apple","play-store":"fluent-emoji:robot",technical:"fluent-emoji:gear",legal:"fluent-emoji:balance-scale"})[o]||"fluent-emoji:clipboard",W=async()=>{try{if(!C.value||!h.currentProjectId){j.value=new Set;return}await b.loadProjectChecked(C.value.uid,h.currentProjectId),j.value=b.getCheckedSet(h.currentProjectId)}catch{j.value=new Set}},ge=async()=>{try{if(!C.value||!h.currentProjectId)return;b.setCheckedForProject(h.currentProjectId,j.value),await b.saveProjectChecked(C.value.uid,h.currentProjectId),await O()}catch{}},O=async()=>{try{if(!h.currentProjectId)return;const o=[];f.value.forEach(l=>{l.items&&o.push(...l.items)}),b.calculateScoresFromItems(h.currentProjectId,o,j.value)}catch(o){console.error("Erreur lors du calcul des scores:",o)}},ae=async o=>{try{if(!C.value||!o.detail?.projectId)return;await W(),await U(),await O()}catch(l){console.error("Erreur lors du changement de projet:",l)}},re=async o=>{try{if(!C.value||!h.currentProjectId)return;await b.loadProjectChecked(C.value.uid,h.currentProjectId),j.value=b.getCheckedSet(h.currentProjectId),await O()}catch(l){console.error("Erreur lors de la mise à jour des éléments cochés:",l)}},fe=o=>w.value.has(o),ie=o=>{w.value.add(o)},be=o=>{w.value.delete(o)},ke=o=>{ie(o)},we=o=>{be(o)},$e=async o=>{const l=j.value.has(o);l?j.value.delete(o):j.value.add(o),await ge();const p=f.value.find(a=>a.items?.some(L=>L.id===o));if(p){if(!l&&g(p))Q(()=>{ne(p.id)}),u.value.delete(p.id);else if(l&&!g(p))u.value.add(p.id);else if(!l){const a=p.items.findIndex(L=>L.id===o);if(a!==-1&&a<p.items.length-1){const L=p.items[a+1];fe(o)&&L&&!V(L.id)&&(u.value.has(p.id)||u.value.add(p.id),Q(()=>{ie(L.id),window.dispatchEvent(new CustomEvent("open-item-accordion",{detail:{itemId:L.id}}))}))}}}},V=o=>j.value.has(o),g=o=>!o.items||o.items.length===0?!1:o.items.every(l=>V(l.id)),Ce=I(null);A(()=>{const o=[];for(let l=0;l<12;l++)o.push({id:l,angle:l/12*360,delay:l*40,distance:80+Math.random()*40});return o});const ne=o=>{Ce.value=o},T=o=>u.value.has(o),je=o=>o.items?o.items.filter(l=>V(l.id)).length:0,Z=o=>{if(u.value.has(o)){u.value.delete(o);const l=f.value.find(p=>p.id===o);l&&l.items&&l.items.forEach(p=>{window.dispatchEvent(new CustomEvent("close-item-accordion",{detail:{itemId:p.id}}))})}else f.value.forEach(l=>{l.items&&l.items.forEach(p=>{window.dispatchEvent(new CustomEvent("close-item-accordion",{detail:{itemId:p.id}}))})}),u.value.clear(),u.value.add(o),g(f.value.find(l=>l.id===o))&&ne(o)},G=o=>{f.value.forEach(l=>{l.items&&l.items.forEach(p=>{window.dispatchEvent(new CustomEvent("close-item-accordion",{detail:{itemId:p.id}}))})}),u.value.clear(),u.value.add(o)};return K(he,o=>{window.dispatchEvent(new CustomEvent("progress-updated",{detail:{percentage:Math.round(o)}}))},{immediate:!0}),K(y,async()=>{await U()},{immediate:!1}),K(()=>h.checklistType,async o=>{k(o),await U()},{immediate:!1}),K(()=>h.currentProjectId,async(o,l)=>{if(o&&o!==l)try{u.value.clear(),window.dispatchEvent(new CustomEvent("reset-all-item-accordions")),await W(),await O(),f.value.length>0&&u.value.add(f.value[0].id)}catch(p){console.error("Erreur lors du changement de projet (watcher):",p)}},{immediate:!1}),ee(()=>{Q().then(async()=>{await W(),await U(),f.value.length>0&&u.value.add(f.value[0].id),window.addEventListener("open-category",o=>{o.detail&&o.detail.categoryId&&G(o.detail.categoryId)}),window.addEventListener("project-checklist-changed",ae),window.addEventListener("checked-items-updated",re)})}),te(()=>{window.removeEventListener("open-category",o=>{o.detail&&o.detail.categoryId&&G(o.detail.categoryId)}),window.removeEventListener("project-checklist-changed",ae),window.removeEventListener("checked-items-updated",re)}),n({openCategory:G,resetProgress:async()=>{j.value=new Set,C.value&&h.currentProjectId&&(b.setCheckedForProject(h.currentProjectId,new Set),b.resetProjectScores(h.currentProjectId),await b.saveProjectChecked(C.value.uid,h.currentProjectId)),window.dispatchEvent(new CustomEvent("progress-updated",{detail:{percentage:0}}))}}),(o,l)=>{const p=N;return s(),c("div",bo,[pe.value&&!z.value?(s(),E(po,{key:0,"total-items":J.value,"total-categories":xe.value,onDeployClick:ye},null,8,["total-items","total-categories"])):v("",!0),e("div",ko,[z.value?(s(),c(F,{key:0},B(3,a=>$(yo,{key:`skeleton-category-${a}`})),64)):(s(!0),c(F,{key:1},B(f.value,(a,L)=>(s(),c("div",{key:a.id,class:"card",role:"region","aria-label":`Catégorie ${a.name}`},[e("div",{class:S(["p-4 md:p-5 cursor-pointer transition-all duration-300 hover:bg-opacity-80 relative overflow-hidden",{"bg-gradient-to-br from-green-400 to-green-600 shadow-lg shadow-green-500/30 rounded-t-xl":g(a)&&T(a.id),"bg-gradient-to-br from-green-400 to-green-600 shadow-lg shadow-green-500/30 rounded-xl":g(a)&&!T(a.id),"hover:bg-opacity-80 rounded-t-xl":!g(a)&&T(a.id),"hover:bg-opacity-80 rounded-xl":!g(a)&&!T(a.id)}]),onClick:q=>Z(a.id),onKeydown:[M(q=>Z(a.id),["enter"]),M(H(q=>Z(a.id),["prevent"]),["space"])],role:"button","aria-expanded":T(a.id),"aria-controls":`category-${a.id}`,"aria-label":`${T(a.id)?D(i)("common.closeCategory",{name:a.name}):D(i)("common.openCategory",{name:a.name})}`,tabindex:"0"},[e("div",Co,[e("div",jo,[e("div",_o,[$(p,{name:se(a.id),class:S(["w-8 h-8 transition-colors duration-200",{"text-white drop-shadow-sm":g(a)}]),style:R({color:g(a)?"white":"var(--accent-primary)"}),"aria-hidden":"true"},null,8,["name","class","style"])]),e("div",Io,[e("h2",{class:S(["text-xl font-semibold leading-tight transition-colors duration-200 mb-1",{"text-white":g(a)}]),style:R({color:g(a)?"white":"var(--text-primary)"})},m(a.name),7),e("p",{class:S(["text-sm transition-colors duration-200",{"text-green-100":g(a)}]),style:R({color:g(a)?"#dcfce7":"var(--text-secondary)"})},m(a.description),7)])]),e("div",Eo,[e("div",Po,[e("div",{class:S(["text-sm font-medium transition-colors duration-200",{"text-white":g(a)}]),style:R({color:g(a)?"white":"var(--text-primary)"})},m(je(a))+" / "+m(a.items?.length||0),7),e("div",{class:S(["text-xs transition-colors duration-200",{"text-green-100":g(a)}]),style:R({color:g(a)?"#dcfce7":"var(--text-muted)"})},m(D(i)("common.completed")),7)]),e("button",{class:S(["flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 hover:bg-opacity-80",{"rotate-180":T(a.id)&&!g(a),"bg-white/20 hover:bg-white/30":g(a)}]),"aria-expanded":T(a.id),"aria-label":`${T(a.id)?D(i)("common.closeCategory",{name:a.name}):D(i)("common.openCategory",{name:a.name})}`,"aria-hidden":"true"},[g(a)?(s(),E(p,{key:0,name:"heroicons:check-circle",class:"w-6 h-6 transition-colors duration-200 text-white","aria-hidden":"true"})):(s(),E(p,{key:1,name:"heroicons:chevron-down",class:"w-5 h-5 transition-colors duration-200",style:{color:"var(--text-muted)"},"aria-hidden":"true"}))],10,So)])])],42,$o),e("div",{id:`category-${a.id}`,class:S(["border-t transition-all duration-500 ease-out overflow-hidden",{"max-h-0 opacity-0 transform -translate-y-2":!T(a.id),"max-h-[10000px] opacity-100 transform translate-y-0":T(a.id)}]),style:{"border-color":"var(--bg-border)","background-color":"var(--bg-primary)"},role:"region","aria-label":`Contenu de la catégorie ${a.name}`},[e("div",Lo,[a.isLoading?(s(),c(F,{key:0},B(3,q=>$(fo,{key:`skeleton-item-${q}`})),64)):(s(!0),c(F,{key:1},B(a.items,q=>(s(),E(mo,{key:q.id,item:q,"is-item-checked":V(q.id),onToggleItem:$e,onAccordionOpened:ke,onAccordionClosed:we},null,8,["item","is-item-checked"]))),128))])],10,To)],8,wo))),128))])])}}},qo=ue(Ao,[["__scopeId","data-v-35b3c1e3"]]),Do={class:"px-4 lg:px-6 py-6 pb-24 w-full bg-[var(--bg-primary)]",style:{height:"calc(100vh - 77px)"}},Mo={key:0,class:"card p-6 mb-6",style:{"background-color":"var(--bg-surface)",border:"1px solid var(--bg-border)"}},Fo={class:"flex items-start justify-between mb-4"},No=["title","aria-label"],Bo={class:"text-sm font-semibold"},zo={class:"flex items-center justify-center gap-6 text-sm"},Ho={class:"text-center"},Ko={class:"text-2xl font-bold",style:{color:"var(--text-primary)"}},Oo={class:"text-xs font-medium",style:{color:"var(--text-secondary)"}},Ro={class:"text-center"},Uo={class:"text-2xl font-bold",style:{color:"var(--text-primary)"}},Vo={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start"},Jo={class:"lg:col-span-2"},Wo={key:2,class:"min-h-[calc(100vh-200px)] flex items-center justify-center"},Zo={class:"text-base text-gray-600 dark:text-gray-300"},os={__name:"dashboard",setup(t,{expose:n}){const r=I(null),i=I(!1),d=I(!1),y=Y(),{currentUser:b}=oe(),h=A(()=>y.hasProjects),_=A(()=>y.currentProjectId),x=A(()=>y.currentProject);K([x,h],([u,w])=>{w&&u&&!u.checklistType&&X("/select-checklist")},{immediate:!0}),ee(()=>{i.value=!0,window.addEventListener("reset-checklist-progress",P)});const k=u=>{u&&!u.checklistType&&X("/select-checklist")},P=()=>{r.value&&r.value.resetProgress&&r.value.resetProgress()},C=()=>{d.value=!0},f=()=>{r.value&&r.value.resetProgress&&(r.value.resetProgress(),window.dispatchEvent(new CustomEvent("reset-checklist-progress"))),d.value=!1},j=()=>{d.value=!1};return te(()=>{window.removeEventListener("reset-checklist-progress",P)}),n({handleResetProgress:P}),(u,w)=>{const z=N;return s(),c(F,null,[e("div",Do,[i.value&&_.value&&x.value?.checklistType?(s(),c("div",Mo,[e("div",Fo,[w[1]||(w[1]=e("div",{class:"flex-1"},[e("div",{class:"text-center mb-2"},[e("h1",{class:"text-2xl font-bold",style:{color:"var(--text-primary)"}},"Checklist Pré-Déploiement"),e("p",{class:"text-sm",style:{color:"var(--text-secondary)"}},"Vérifiez tous les aspects essentiels avant de mettre votre site en ligne")])],-1)),e("button",{onClick:C,class:"flex items-center space-x-3 px-5 py-3 rounded-xl transition-all duration-200 hover:shadow-lg hover:bg-opacity-90",style:{backgroundColor:"var(--button-bg)",borderColor:"var(--button-border)",color:"var(--text-primary)"},title:u.$t("common.resetTitle"),"aria-label":u.$t("common.resetDescription")},[$(z,{name:"heroicons:arrow-path",class:"w-5 h-5",style:{color:"var(--text-secondary)"},"aria-hidden":"true"}),e("span",Bo,m(u.$t("common.reset")),1)],8,No)]),e("div",zo,[e("div",Ho,[e("div",Ko,m(D(y).currentProjectScores?.completedItems||0),1),e("div",Oo,"sur "+m(D(y).currentProjectScores?.totalItems||44)+" complétés",1)]),w[3]||(w[3]=e("div",{class:"w-px h-8",style:{"background-color":"var(--bg-border)"}},null,-1)),e("div",Ro,[e("div",Uo,m(Math.round(D(y).currentProjectScores?.percentage||0))+"%",1),w[2]||(w[2]=e("div",{class:"text-xs font-medium",style:{color:"var(--text-secondary)"}},"progression",-1))])])])):v("",!0),i.value&&_.value&&x.value?.checklistType?(s(),c("div",Vo,[e("div",Jo,[$(qo,{ref_key:"seoChecklist",ref:r,"current-project-id":_.value,"checklist-type":D(y).currentProject?.checklistType||"web-prelaunch"},null,8,["current-project-id","checklist-type"])]),w[4]||(w[4]=e("div",{class:"lg:col-span-1"},[e("div",{class:"p-4 text-center text-sm text-gray-500"},[e("p",null,"Composants d'accordéon à implémenter")])],-1))])):(s(),c("div",Wo,[$(ze,{onCreateProject:k})]))]),$(Ee,{"is-open":d.value,"onUpdate:isOpen":w[0]||(w[0]=J=>d.value=J),title:u.$t("common.resetTitle"),onClose:j},{footer:me(()=>[e("button",{onClick:j,class:"px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"},m(u.$t("common.cancel")),1),e("button",{onClick:f,class:"px-4 py-2 rounded-lg font-medium transition-colors duration-200 bg-emerald-500 text-white hover:bg-emerald-600"},m(u.$t("common.reset")),1)]),default:me(()=>[e("p",Zo,m(u.$t("common.resetConfirm")),1)]),_:1},8,["is-open","title"])],64)}}};export{os as default};
