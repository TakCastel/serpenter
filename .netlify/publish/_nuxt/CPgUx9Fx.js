const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DJ2VyGXr.js","./B4DmehYQ.js","./V69RRtU6.js","./B-c2zy6i.js","./index.Bxn4yu6R.css","./CGMuy4_C.js","./CGAsmCFu.js","./DyYaR0YO.js","./C5ouHAtW.js","./2xPT9d73.js","./BOJQtPCZ.js","./Br4QNMLg.js","./Bj-8qcqT.js","./H7N3nqWo.js","./BCzsGryo.js","./Modal.DQAvYsIu.css","./dashboard.CUnCaWFz.css","./449Gn2Gz.js","./BWArD8UC.js","./CHzgH_-n.js","./Dvqjf43t.js","./DLMl8wZk.js","./B2OI6EWk.js","./D-rdky6B.js","./C_IwXNAj.js","./error-404.DlVPZ4GE.css","./CCqoo6A-.js","./error-500.DjyirMQI.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nm(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Je={},bo=[],cr=()=>{},ek=()=>!1,al=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xm=t=>t.startsWith("onUpdate:"),Ut=Object.assign,Dm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},tk=Object.prototype.hasOwnProperty,Fe=(t,e)=>tk.call(t,e),me=Array.isArray,Ao=t=>ga(t)==="[object Map]",ma=t=>ga(t)==="[object Set]",Ny=t=>ga(t)==="[object Date]",nk=t=>ga(t)==="[object RegExp]",Ee=t=>typeof t=="function",ot=t=>typeof t=="string",Gn=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",wT=t=>(We(t)||Ee(t))&&Ee(t.then)&&Ee(t.catch),IT=Object.prototype.toString,ga=t=>IT.call(t),rk=t=>ga(t).slice(8,-1),vT=t=>ga(t)==="[object Object]",Lm=t=>ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ro=Nm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sk=/-(\w)/g,Dn=Kh(t=>t.replace(sk,(e,n)=>n?n.toUpperCase():"")),ik=/\B([A-Z])/g,Hs=Kh(t=>t.replace(ik,"-$1").toLowerCase()),Gh=Kh(t=>t.charAt(0).toUpperCase()+t.slice(1)),dd=Kh(t=>t?`on${Gh(t)}`:""),Rs=(t,e)=>!Object.is(t,e),So=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},rp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Zu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},TT=t=>{const e=ot(t)?Number(t):NaN;return isNaN(e)?t:e};let xy;const zh=()=>xy||(xy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qh(t){if(me(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ot(r)?lk(r):Qh(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ot(t)||We(t))return t}const ok=/;(?![^(]*\))/g,ak=/:([^]+)/,ck=/\/\*[^]*?\*\//g;function lk(t){const e={};return t.replace(ck,"").split(ok).forEach(n=>{if(n){const r=n.split(ak);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Jh(t){let e="";if(ot(t))e=t;else if(me(t))for(let n=0;n<t.length;n++){const r=Jh(t[n]);r&&(e+=r+" ")}else if(We(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function uk(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ot(e)&&(t.class=Jh(e)),n&&(t.style=Qh(n)),t}const hk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fk=Nm(hk);function bT(t){return!!t||t===""}function dk(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Pi(t[r],e[r]);return n}function Pi(t,e){if(t===e)return!0;let n=Ny(t),r=Ny(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Gn(t),r=Gn(e),n||r)return t===e;if(n=me(t),r=me(e),n||r)return n&&r?dk(t,e):!1;if(n=We(t),r=We(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Pi(t[o],e[o]))return!1}}return String(t)===String(e)}function Om(t,e){return t.findIndex(n=>Pi(n,e))}const AT=t=>!!(t&&t.__v_isRef===!0),pk=t=>ot(t)?t:t==null?"":me(t)||We(t)&&(t.toString===IT||!Ee(t.toString))?AT(t)?pk(t.value):JSON.stringify(t,RT,2):String(t),RT=(t,e)=>AT(e)?RT(t,e.value):Ao(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[pd(r,i)+" =>"]=s,n),{})}:ma(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>pd(n))}:Gn(e)?pd(e):We(e)&&!me(e)&&!vT(e)?String(e):e,pd=(t,e="")=>{var n;return Gn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class ST{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Zt,!e&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Zt;try{return Zt=this,e()}finally{Zt=n}}}on(){++this._on===1&&(this.prevScope=Zt,Zt=this)}off(){this._on>0&&--this._on===0&&(Zt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function cl(t){return new ST(t)}function ll(){return Zt}function eh(t,e=!1){Zt&&Zt.cleanups.push(t)}let et;const md=new WeakSet;class PT{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Zt&&Zt.active&&Zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,md.has(this)&&(md.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||kT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dy(this),NT(this);const e=et,n=Hn;et=this,Hn=!0;try{return this.fn()}finally{xT(this),et=e,Hn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Fm(e);this.deps=this.depsTail=void 0,Dy(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?md.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sp(this)&&this.run()}get dirty(){return sp(this)}}let CT=0,hc,fc;function kT(t,e=!1){if(t.flags|=8,e){t.next=fc,fc=t;return}t.next=hc,hc=t}function Vm(){CT++}function Mm(){if(--CT>0)return;if(fc){let e=fc;for(fc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;hc;){let e=hc;for(hc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function NT(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function xT(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Fm(r),mk(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function sp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(DT(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function DT(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===xc)||(t.globalVersion=xc,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!sp(t))))return;t.flags|=2;const e=t.dep,n=et,r=Hn;et=t,Hn=!0;try{NT(t);const s=t.fn(t._value);(e.version===0||Rs(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{et=n,Hn=r,xT(t),t.flags&=-3}}function Fm(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Fm(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function mk(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Hn=!0;const LT=[];function Fr(){LT.push(Hn),Hn=!1}function Ur(){const t=LT.pop();Hn=t===void 0?!0:t}function Dy(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=et;et=void 0;try{e()}finally{et=n}}}let xc=0;class gk{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!et||!Hn||et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==et)n=this.activeLink=new gk(et,this),et.deps?(n.prevDep=et.depsTail,et.depsTail.nextDep=n,et.depsTail=n):et.deps=et.depsTail=n,OT(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=et.depsTail,n.nextDep=void 0,et.depsTail.nextDep=n,et.depsTail=n,et.deps===n&&(et.deps=r)}return n}trigger(e){this.version++,xc++,this.notify(e)}notify(e){Vm();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Mm()}}}function OT(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)OT(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const th=new WeakMap,Ii=Symbol(""),ip=Symbol(""),Dc=Symbol("");function tn(t,e,n){if(Hn&&et){let r=th.get(t);r||th.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Yh),s.map=r,s.key=n),s.track()}}function Pr(t,e,n,r,s,i){const o=th.get(t);if(!o){xc++;return}const a=c=>{c&&c.trigger()};if(Vm(),e==="clear")o.forEach(a);else{const c=me(t),l=c&&Lm(n);if(c&&n==="length"){const h=Number(r);o.forEach((f,d)=>{(d==="length"||d===Dc||!Gn(d)&&d>=h)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(Dc)),e){case"add":c?l&&a(o.get("length")):(a(o.get(Ii)),Ao(t)&&a(o.get(ip)));break;case"delete":c||(a(o.get(Ii)),Ao(t)&&a(o.get(ip)));break;case"set":Ao(t)&&a(o.get(Ii));break}}Mm()}function _k(t,e){const n=th.get(t);return n&&n.get(e)}function oo(t){const e=De(t);return e===t?e:(tn(e,"iterate",Dc),Nn(t)?e:e.map(Ht))}function Xh(t){return tn(t=De(t),"iterate",Dc),t}const yk={__proto__:null,[Symbol.iterator](){return gd(this,Symbol.iterator,Ht)},concat(...t){return oo(this).concat(...t.map(e=>me(e)?oo(e):e))},entries(){return gd(this,"entries",t=>(t[1]=Ht(t[1]),t))},every(t,e){return Tr(this,"every",t,e,void 0,arguments)},filter(t,e){return Tr(this,"filter",t,e,n=>n.map(Ht),arguments)},find(t,e){return Tr(this,"find",t,e,Ht,arguments)},findIndex(t,e){return Tr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Tr(this,"findLast",t,e,Ht,arguments)},findLastIndex(t,e){return Tr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Tr(this,"forEach",t,e,void 0,arguments)},includes(...t){return _d(this,"includes",t)},indexOf(...t){return _d(this,"indexOf",t)},join(t){return oo(this).join(t)},lastIndexOf(...t){return _d(this,"lastIndexOf",t)},map(t,e){return Tr(this,"map",t,e,void 0,arguments)},pop(){return Ha(this,"pop")},push(...t){return Ha(this,"push",t)},reduce(t,...e){return Ly(this,"reduce",t,e)},reduceRight(t,...e){return Ly(this,"reduceRight",t,e)},shift(){return Ha(this,"shift")},some(t,e){return Tr(this,"some",t,e,void 0,arguments)},splice(...t){return Ha(this,"splice",t)},toReversed(){return oo(this).toReversed()},toSorted(t){return oo(this).toSorted(t)},toSpliced(...t){return oo(this).toSpliced(...t)},unshift(...t){return Ha(this,"unshift",t)},values(){return gd(this,"values",Ht)}};function gd(t,e,n){const r=Xh(t),s=r[e]();return r!==t&&!Nn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Ek=Array.prototype;function Tr(t,e,n,r,s,i){const o=Xh(t),a=o!==t&&!Nn(t),c=o[e];if(c!==Ek[e]){const f=c.apply(t,i);return a?Ht(f):f}let l=n;o!==t&&(a?l=function(f,d){return n.call(this,Ht(f),d,t)}:n.length>2&&(l=function(f,d){return n.call(this,f,d,t)}));const h=c.call(o,l,r);return a&&s?s(h):h}function Ly(t,e,n,r){const s=Xh(t);let i=n;return s!==t&&(Nn(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,Ht(a),c,t)}),s[e](i,...r)}function _d(t,e,n){const r=De(t);tn(r,"iterate",Dc);const s=r[e](...n);return(s===-1||s===!1)&&$m(n[0])?(n[0]=De(n[0]),r[e](...n)):s}function Ha(t,e,n=[]){Fr(),Vm();const r=De(t)[e].apply(t,n);return Mm(),Ur(),r}const wk=Nm("__proto__,__v_isRef,__isVue"),VT=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gn));function Ik(t){Gn(t)||(t=String(t));const e=De(this);return tn(e,"has",t),e.hasOwnProperty(t)}class MT{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Nk:$T:i?BT:UT).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=me(e);if(!s){let c;if(o&&(c=yk[n]))return c;if(n==="hasOwnProperty")return Ik}const a=Reflect.get(e,n,nt(e)?e:r);return(Gn(n)?VT.has(n):wk(n))||(s||tn(e,"get",n),i)?a:nt(a)?o&&Lm(n)?a:a.value:We(a)?s?jT(a):Er(a):a}}class FT extends MT{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Br(i);if(!Nn(r)&&!Br(r)&&(i=De(i),r=De(r)),!me(e)&&nt(i)&&!nt(r))return c?!1:(i.value=r,!0)}const o=me(e)&&Lm(n)?Number(n)<e.length:Fe(e,n),a=Reflect.set(e,n,r,nt(e)?e:s);return e===De(s)&&(o?Rs(r,i)&&Pr(e,"set",n,r):Pr(e,"add",n,r)),a}deleteProperty(e,n){const r=Fe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Pr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Gn(n)||!VT.has(n))&&tn(e,"has",n),r}ownKeys(e){return tn(e,"iterate",me(e)?"length":Ii),Reflect.ownKeys(e)}}class vk extends MT{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Tk=new FT,bk=new vk,Ak=new FT(!0);const op=t=>t,su=t=>Reflect.getPrototypeOf(t);function Rk(t,e,n){return function(...r){const s=this.__v_raw,i=De(s),o=Ao(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),h=n?op:e?nh:Ht;return!e&&tn(i,"iterate",c?ip:Ii),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[h(f[0]),h(f[1])]:h(f),done:d}},[Symbol.iterator](){return this}}}}function iu(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Sk(t,e){const n={get(s){const i=this.__v_raw,o=De(i),a=De(s);t||(Rs(s,a)&&tn(o,"get",s),tn(o,"get",a));const{has:c}=su(o),l=e?op:t?nh:Ht;if(c.call(o,s))return l(i.get(s));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&tn(De(s),"iterate",Ii),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=De(i),a=De(s);return t||(Rs(s,a)&&tn(o,"has",s),tn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=De(a),l=e?op:t?nh:Ht;return!t&&tn(c,"iterate",Ii),a.forEach((h,f)=>s.call(i,l(h),l(f),o))}};return Ut(n,t?{add:iu("add"),set:iu("set"),delete:iu("delete"),clear:iu("clear")}:{add(s){!e&&!Nn(s)&&!Br(s)&&(s=De(s));const i=De(this);return su(i).has.call(i,s)||(i.add(s),Pr(i,"add",s,s)),this},set(s,i){!e&&!Nn(i)&&!Br(i)&&(i=De(i));const o=De(this),{has:a,get:c}=su(o);let l=a.call(o,s);l||(s=De(s),l=a.call(o,s));const h=c.call(o,s);return o.set(s,i),l?Rs(i,h)&&Pr(o,"set",s,i):Pr(o,"add",s,i),this},delete(s){const i=De(this),{has:o,get:a}=su(i);let c=o.call(i,s);c||(s=De(s),c=o.call(i,s)),a&&a.call(i,s);const l=i.delete(s);return c&&Pr(i,"delete",s,void 0),l},clear(){const s=De(this),i=s.size!==0,o=s.clear();return i&&Pr(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Rk(s,t,e)}),n}function Um(t,e){const n=Sk(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Fe(n,s)&&s in r?n:r,s,i)}const Pk={get:Um(!1,!1)},Ck={get:Um(!1,!0)},kk={get:Um(!0,!1)};const UT=new WeakMap,BT=new WeakMap,$T=new WeakMap,Nk=new WeakMap;function xk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dk(t){return t.__v_skip||!Object.isExtensible(t)?0:xk(rk(t))}function Er(t){return Br(t)?t:Bm(t,!1,Tk,Pk,UT)}function ir(t){return Bm(t,!1,Ak,Ck,BT)}function jT(t){return Bm(t,!0,bk,kk,$T)}function Bm(t,e,n,r,s){if(!We(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Dk(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function Vr(t){return Br(t)?Vr(t.__v_raw):!!(t&&t.__v_isReactive)}function Br(t){return!!(t&&t.__v_isReadonly)}function Nn(t){return!!(t&&t.__v_isShallow)}function $m(t){return t?!!t.__v_raw:!1}function De(t){const e=t&&t.__v_raw;return e?De(e):t}function jm(t){return!Fe(t,"__v_skip")&&Object.isExtensible(t)&&rp(t,"__v_skip",!0),t}const Ht=t=>We(t)?Er(t):t,nh=t=>We(t)?jT(t):t;function nt(t){return t?t.__v_isRef===!0:!1}function Mt(t){return qT(t,!1)}function Os(t){return qT(t,!0)}function qT(t,e){return nt(t)?t:new Lk(t,e)}class Lk{constructor(e,n){this.dep=new Yh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:De(e),this._value=n?e:Ht(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Nn(e)||Br(e);e=r?e:De(e),Rs(e,n)&&(this._rawValue=e,this._value=r?e:Ht(e),this.dep.trigger())}}function Qe(t){return nt(t)?t.value:t}function Ok(t){return Ee(t)?t():Qe(t)}const Vk={get:(t,e,n)=>e==="__v_raw"?t:Qe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return nt(s)&&!nt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function HT(t){return Vr(t)?t:new Proxy(t,Vk)}class Mk{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Yh,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Fk(t){return new Mk(t)}function Uk(t){const e=me(t)?new Array(t.length):{};for(const n in t)e[n]=KT(t,n);return e}class Bk{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return _k(De(this._object),this._key)}}class $k{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function WT(t,e,n){return nt(t)?t:Ee(t)?new $k(t):We(t)&&arguments.length>1?KT(t,e,n):Mt(t)}function KT(t,e,n){const r=t[e];return nt(r)?r:new Bk(t,e,n)}class jk{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Yh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return kT(this,!0),!0}get value(){const e=this.dep.track();return DT(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qk(t,e,n=!1){let r,s;return Ee(t)?r=t:(r=t.get,s=t.set),new jk(r,s,n)}const ou={},rh=new WeakMap;let ui;function Hk(t,e=!1,n=ui){if(n){let r=rh.get(n);r||rh.set(n,r=[]),r.push(t)}}function Wk(t,e,n=Je){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=n,l=A=>s?A:Nn(A)||s===!1||s===0?Cr(A,1):Cr(A);let h,f,d,m,y=!1,_=!1;if(nt(t)?(f=()=>t.value,y=Nn(t)):Vr(t)?(f=()=>l(t),y=!0):me(t)?(_=!0,y=t.some(A=>Vr(A)||Nn(A)),f=()=>t.map(A=>{if(nt(A))return A.value;if(Vr(A))return l(A);if(Ee(A))return c?c(A,2):A()})):Ee(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){Fr();try{d()}finally{Ur()}}const A=ui;ui=h;try{return c?c(t,3,[m]):t(m)}finally{ui=A}}:f=cr,e&&s){const A=f,L=s===!0?1/0:s;f=()=>Cr(A(),L)}const v=ll(),b=()=>{h.stop(),v&&v.active&&Dm(v.effects,h)};if(i&&e){const A=e;e=(...L)=>{A(...L),b()}}let R=_?new Array(t.length).fill(ou):ou;const E=A=>{if(!(!(h.flags&1)||!h.dirty&&!A))if(e){const L=h.run();if(s||y||(_?L.some((M,w)=>Rs(M,R[w])):Rs(L,R))){d&&d();const M=ui;ui=h;try{const w=[L,R===ou?void 0:_&&R[0]===ou?[]:R,m];R=L,c?c(e,3,w):e(...w)}finally{ui=M}}}else h.run()};return a&&a(E),h=new PT(f),h.scheduler=o?()=>o(E,!1):E,m=A=>Hk(A,!1,h),d=h.onStop=()=>{const A=rh.get(h);if(A){if(c)c(A,4);else for(const L of A)L();rh.delete(h)}},e?r?E(!0):R=h.run():o?o(E.bind(null,!0),!0):h.run(),b.pause=h.pause.bind(h),b.resume=h.resume.bind(h),b.stop=b,b}function Cr(t,e=1/0,n){if(e<=0||!We(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,nt(t))Cr(t.value,e,n);else if(me(t))for(let r=0;r<t.length;r++)Cr(t[r],e,n);else if(ma(t)||Ao(t))t.forEach(r=>{Cr(r,e,n)});else if(vT(t)){for(const r in t)Cr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Cr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ul(t,e,n,r){try{return r?t(...r):t()}catch(s){_a(s,e,n)}}function zn(t,e,n,r){if(Ee(t)){const s=ul(t,e,n,r);return s&&wT(s)&&s.catch(i=>{_a(i,e,n)}),s}if(me(t)){const s=[];for(let i=0;i<t.length;i++)s.push(zn(t[i],e,n,r));return s}}function _a(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Je;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,c,l)===!1)return}a=a.parent}if(i){Fr(),ul(i,null,10,[t,c,l]),Ur();return}}Kk(t,n,s,r,o)}function Kk(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const ln=[];let er=-1;const Po=[];let fs=null,go=0;const GT=Promise.resolve();let sh=null;function _r(t){const e=sh||GT;return t?e.then(this?t.bind(this):t):e}function Gk(t){let e=er+1,n=ln.length;for(;e<n;){const r=e+n>>>1,s=ln[r],i=Lc(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function qm(t){if(!(t.flags&1)){const e=Lc(t),n=ln[ln.length-1];!n||!(t.flags&2)&&e>=Lc(n)?ln.push(t):ln.splice(Gk(e),0,t),t.flags|=1,zT()}}function zT(){sh||(sh=GT.then(QT))}function ap(t){me(t)?Po.push(...t):fs&&t.id===-1?fs.splice(go+1,0,t):t.flags&1||(Po.push(t),t.flags|=1),zT()}function Oy(t,e,n=er+1){for(;n<ln.length;n++){const r=ln[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ln.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ih(t){if(Po.length){const e=[...new Set(Po)].sort((n,r)=>Lc(n)-Lc(r));if(Po.length=0,fs){fs.push(...e);return}for(fs=e,go=0;go<fs.length;go++){const n=fs[go];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fs=null,go=0}}const Lc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function QT(t){try{for(er=0;er<ln.length;er++){const e=ln[er];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ul(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;er<ln.length;er++){const e=ln[er];e&&(e.flags&=-2)}er=-1,ln.length=0,ih(),sh=null,(ln.length||Po.length)&&QT()}}let Gt=null,JT=null;function oh(t){const e=Gt;return Gt=t,JT=t&&t.type.__scopeId||null,e}function Hm(t,e=Gt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Jy(-1);const i=oh(e);let o;try{o=t(...s)}finally{oh(i),r._d&&Jy(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function h3(t,e){if(Gt===null)return t;const n=rf(Gt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=Je]=e[s];i&&(Ee(i)&&(i={mounted:i,updated:i}),i.deep&&Cr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function tr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Fr(),zn(c,n,8,[t.el,a,t,e]),Ur())}}const YT=Symbol("_vte"),XT=t=>t.__isTeleport,dc=t=>t&&(t.disabled||t.disabled===""),Vy=t=>t&&(t.defer||t.defer===""),My=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Fy=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,cp=(t,e)=>{const n=t&&t.to;return ot(n)?e?e(n):null:n},ZT={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:h,pc:f,pbc:d,o:{insert:m,querySelector:y,createText:_,createComment:v}}=l,b=dc(e.props);let{shapeFlag:R,children:E,dynamicChildren:A}=e;if(t==null){const L=e.el=_(""),M=e.anchor=_("");m(L,n,r),m(M,n,r);const w=(I,P)=>{R&16&&(s&&s.isCE&&(s.ce._teleportTarget=I),h(E,I,P,s,i,o,a,c))},T=()=>{const I=e.target=cp(e.props,y),P=eb(I,e,_,m);I&&(o!=="svg"&&My(I)?o="svg":o!=="mathml"&&Fy(I)&&(o="mathml"),b||(w(I,P),ku(e,!1)))};b&&(w(n,M),ku(e,!0)),Vy(e.props)?(e.el.__isMounted=!1,Ct(()=>{T(),delete e.el.__isMounted},i)):T()}else{if(Vy(e.props)&&t.el.__isMounted===!1){Ct(()=>{ZT.process(t,e,n,r,s,i,o,a,c,l)},i);return}e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,M=e.target=t.target,w=e.targetAnchor=t.targetAnchor,T=dc(t.props),I=T?n:M,P=T?L:w;if(o==="svg"||My(M)?o="svg":(o==="mathml"||Fy(M))&&(o="mathml"),A?(d(t.dynamicChildren,A,I,s,i,o,a),zm(t,e,!0)):c||f(t,e,I,P,s,i,o,a,!1),b)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):au(e,n,L,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const O=e.target=cp(e.props,y);O&&au(e,O,null,l,0)}else T&&au(e,M,w,l,1);ku(e,b)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:h,target:f,props:d}=t;if(f&&(s(l),s(h)),i&&s(c),o&16){const m=i||!dc(d);for(let y=0;y<a.length;y++){const _=a[y];r(_,e,n,m,!!_.dynamicChildren)}}},move:au,hydrate:zk};function au(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:h}=t,f=i===2;if(f&&r(o,e,n),(!f||dc(h))&&c&16)for(let d=0;d<l.length;d++)s(l[d],e,n,2);f&&r(a,e,n)}function zk(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:h}},f){const d=e.target=cp(e.props,c);if(d){const m=dc(e.props),y=d._lpa||d.firstChild;if(e.shapeFlag&16)if(m)e.anchor=f(o(t),e,a(t),n,r,s,i),e.targetStart=y,e.targetAnchor=y&&o(y);else{e.anchor=o(t);let _=y;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}_=o(_)}e.targetAnchor||eb(d,e,h,l),f(y&&o(y),e,d,n,r,s,i)}ku(e,m)}return e.anchor&&o(e.anchor)}const f3=ZT;function ku(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function eb(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[YT]=i,t&&(r(s,t),r(i,t)),i}const ds=Symbol("_leaveCb"),cu=Symbol("_enterCb");function Qk(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fl(()=>{t.isMounted=!0}),dl(()=>{t.isUnmounting=!0}),t}const Pn=[Function,Array],tb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pn,onEnter:Pn,onAfterEnter:Pn,onEnterCancelled:Pn,onBeforeLeave:Pn,onLeave:Pn,onAfterLeave:Pn,onLeaveCancelled:Pn,onBeforeAppear:Pn,onAppear:Pn,onAfterAppear:Pn,onAppearCancelled:Pn},nb=t=>{const e=t.subTree;return e.component?nb(e.component):e},Jk={name:"BaseTransition",props:tb,setup(t,{slots:e}){const n=Ws(),r=Qk();return()=>{const s=e.default&&ib(e.default(),!0);if(!s||!s.length)return;const i=rb(s),o=De(t),{mode:a}=o;if(r.isLeaving)return yd(i);const c=Uy(i);if(!c)return yd(i);let l=lp(c,o,r,n,f=>l=f);c.type!==At&&Fo(c,l);let h=n.subTree&&Uy(n.subTree);if(h&&h.type!==At&&!$n(c,h)&&nb(n).type!==At){let f=lp(h,o,r,n);if(Fo(h,f),a==="out-in"&&c.type!==At)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,h=void 0},yd(i);a==="in-out"&&c.type!==At?f.delayLeave=(d,m,y)=>{const _=sb(r,h);_[String(h.key)]=h,d[ds]=()=>{m(),d[ds]=void 0,delete l.delayedLeave,h=void 0},l.delayedLeave=()=>{y(),delete l.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function rb(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==At){e=n;break}}return e}const Yk=Jk;function sb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function lp(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:d,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:v,onAppear:b,onAfterAppear:R,onAppearCancelled:E}=e,A=String(t.key),L=sb(n,t),M=(I,P)=>{I&&zn(I,r,9,P)},w=(I,P)=>{const O=P[1];M(I,P),me(I)?I.every(N=>N.length<=1)&&O():I.length<=1&&O()},T={mode:o,persisted:a,beforeEnter(I){let P=c;if(!n.isMounted)if(i)P=v||c;else return;I[ds]&&I[ds](!0);const O=L[A];O&&$n(t,O)&&O.el[ds]&&O.el[ds](),M(P,[I])},enter(I){let P=l,O=h,N=f;if(!n.isMounted)if(i)P=b||l,O=R||h,N=E||f;else return;let k=!1;const ge=I[cu]=Ie=>{k||(k=!0,Ie?M(N,[I]):M(O,[I]),T.delayedLeave&&T.delayedLeave(),I[cu]=void 0)};P?w(P,[I,ge]):ge()},leave(I,P){const O=String(t.key);if(I[cu]&&I[cu](!0),n.isUnmounting)return P();M(d,[I]);let N=!1;const k=I[ds]=ge=>{N||(N=!0,P(),ge?M(_,[I]):M(y,[I]),I[ds]=void 0,L[O]===t&&delete L[O])};L[O]=t,m?w(m,[I,k]):k()},clone(I){const P=lp(I,e,n,r,s);return s&&s(P),P}};return T}function yd(t){if(hl(t))return t=$r(t),t.children=null,t}function Uy(t){if(!hl(t))return XT(t.type)&&t.children?rb(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ee(n.default))return n.default()}}function Fo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ib(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Vt?(o.patchFlag&128&&s++,r=r.concat(ib(o.children,e,a))):(e||o.type!==At)&&r.push(a!=null?$r(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Mn(t,e){return Ee(t)?Ut({name:t.name},e,{setup:t}):t}function Wm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Co(t,e,n,r,s=!1){if(me(t)){t.forEach((y,_)=>Co(y,e&&(me(e)?e[_]:e),n,r,s));return}if(Ss(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Co(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?rf(r.component):r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,h=a.refs===Je?a.refs={}:a.refs,f=a.setupState,d=De(f),m=f===Je?()=>!1:y=>Fe(d,y);if(l!=null&&l!==c&&(ot(l)?(h[l]=null,m(l)&&(f[l]=null)):nt(l)&&(l.value=null)),Ee(c))ul(c,a,12,[o,h]);else{const y=ot(c),_=nt(c);if(y||_){const v=()=>{if(t.f){const b=y?m(c)?f[c]:h[c]:c.value;s?me(b)&&Dm(b,i):me(b)?b.includes(i)||b.push(i):y?(h[c]=[i],m(c)&&(f[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else y?(h[c]=o,m(c)&&(f[c]=o)):_&&(c.value=o,t.k&&(h[t.k]=o))};o?(v.id=-1,Ct(v,n)):v()}}}let By=!1;const ao=()=>{By||(console.error("Hydration completed but contains mismatches."),By=!0)},Xk=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Zk=t=>t.namespaceURI.includes("MathML"),lu=t=>{if(t.nodeType===1){if(Xk(t))return"svg";if(Zk(t))return"mathml"}},To=t=>t.nodeType===8;function e1(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:l}}=t,h=(E,A)=>{if(!A.hasChildNodes()){n(null,E,A),ih(),A._vnode=E;return}f(A.firstChild,E,null,null,null),ih(),A._vnode=E},f=(E,A,L,M,w,T=!1)=>{T=T||!!A.dynamicChildren;const I=To(E)&&E.data==="[",P=()=>_(E,A,L,M,w,I),{type:O,ref:N,shapeFlag:k,patchFlag:ge}=A;let Ie=E.nodeType;A.el=E,ge===-2&&(T=!1,A.dynamicChildren=null);let ie=null;switch(O){case Cs:Ie!==3?A.children===""?(c(A.el=s(""),o(E),E),ie=E):ie=P():(E.data!==A.children&&(ao(),E.data=A.children),ie=i(E));break;case At:R(E)?(ie=i(E),b(A.el=E.content.firstChild,E,L)):Ie!==8||I?ie=P():ie=i(E);break;case mc:if(I&&(E=i(E),Ie=E.nodeType),Ie===1||Ie===3){ie=E;const fe=!A.children.length;for(let le=0;le<A.staticCount;le++)fe&&(A.children+=ie.nodeType===1?ie.outerHTML:ie.data),le===A.staticCount-1&&(A.anchor=ie),ie=i(ie);return I?i(ie):ie}else P();break;case Vt:I?ie=y(E,A,L,M,w,T):ie=P();break;default:if(k&1)(Ie!==1||A.type.toLowerCase()!==E.tagName.toLowerCase())&&!R(E)?ie=P():ie=d(E,A,L,M,w,T);else if(k&6){A.slotScopeIds=w;const fe=o(E);if(I?ie=v(E):To(E)&&E.data==="teleport start"?ie=v(E,E.data,"teleport end"):ie=i(E),e(A,fe,null,L,M,lu(fe),T),Ss(A)&&!A.type.__asyncResolved){let le;I?(le=ht(Vt),le.anchor=ie?ie.previousSibling:fe.lastChild):le=E.nodeType===3?Fb(""):ht("div"),le.el=E,A.component.subTree=le}}else k&64?Ie!==8?ie=P():ie=A.type.hydrate(E,A,L,M,w,T,t,m):k&128&&(ie=A.type.hydrate(E,A,L,M,lu(o(E)),w,T,t,f))}return N!=null&&Co(N,null,M,A),ie},d=(E,A,L,M,w,T)=>{T=T||!!A.dynamicChildren;const{type:I,props:P,patchFlag:O,shapeFlag:N,dirs:k,transition:ge}=A,Ie=I==="input"||I==="option";if(Ie||O!==-1){k&&tr(A,null,L,"created");let ie=!1;if(R(E)){ie=Sb(null,ge)&&L&&L.vnode.props&&L.vnode.props.appear;const le=E.content.firstChild;if(ie){const Pe=le.getAttribute("class");Pe&&(le.$cls=Pe),ge.beforeEnter(le)}b(le,E,L),A.el=E=le}if(N&16&&!(P&&(P.innerHTML||P.textContent))){let le=m(E.firstChild,A,E,L,M,w,T);for(;le;){uu(E,1)||ao();const Pe=le;le=le.nextSibling,a(Pe)}}else if(N&8){let le=A.children;le[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(le=le.slice(1)),E.textContent!==le&&(uu(E,0)||ao(),E.textContent=A.children)}if(P){if(Ie||!T||O&48){const le=E.tagName.includes("-");for(const Pe in P)(Ie&&(Pe.endsWith("value")||Pe==="indeterminate")||al(Pe)&&!Ro(Pe)||Pe[0]==="."||le)&&r(E,Pe,null,P[Pe],void 0,L)}else if(P.onClick)r(E,"onClick",null,P.onClick,void 0,L);else if(O&4&&Vr(P.style))for(const le in P.style)P.style[le]}let fe;(fe=P&&P.onVnodeBeforeMount)&&un(fe,L,A),k&&tr(A,null,L,"beforeMount"),((fe=P&&P.onVnodeMounted)||k||ie)&&xb(()=>{fe&&un(fe,L,A),ie&&ge.enter(E),k&&tr(A,null,L,"mounted")},M)}return E.nextSibling},m=(E,A,L,M,w,T,I)=>{I=I||!!A.dynamicChildren;const P=A.children,O=P.length;for(let N=0;N<O;N++){const k=I?P[N]:P[N]=In(P[N]),ge=k.type===Cs;E?(ge&&!I&&N+1<O&&In(P[N+1]).type===Cs&&(c(s(E.data.slice(k.children.length)),L,i(E)),E.data=k.children),E=f(E,k,M,w,T,I)):ge&&!k.children?c(k.el=s(""),L):(uu(L,1)||ao(),n(null,k,L,null,M,w,lu(L),T))}return E},y=(E,A,L,M,w,T)=>{const{slotScopeIds:I}=A;I&&(w=w?w.concat(I):I);const P=o(E),O=m(i(E),A,P,L,M,w,T);return O&&To(O)&&O.data==="]"?i(A.anchor=O):(ao(),c(A.anchor=l("]"),P,O),O)},_=(E,A,L,M,w,T)=>{if(uu(E.parentElement,1)||ao(),A.el=null,T){const O=v(E);for(;;){const N=i(E);if(N&&N!==O)a(N);else break}}const I=i(E),P=o(E);return a(E),n(null,A,P,I,L,M,lu(P),w),L&&(L.vnode.el=A.el,nf(L,A.el)),I},v=(E,A="[",L="]")=>{let M=0;for(;E;)if(E=i(E),E&&To(E)&&(E.data===A&&M++,E.data===L)){if(M===0)return i(E);M--}return E},b=(E,A,L)=>{const M=A.parentNode;M&&M.replaceChild(E,A);let w=L;for(;w;)w.vnode.el===A&&(w.vnode.el=w.subTree.el=E),w=w.parent},R=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,f]}const $y="data-allow-mismatch",t1={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function uu(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute($y);)t=t.parentElement;const n=t&&t.getAttribute($y);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(t1[e])}}zh().requestIdleCallback;zh().cancelIdleCallback;function n1(t,e){if(To(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(To(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Ss=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ko(t){Ee(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:c}=t;let l=null,h,f=0;const d=()=>(f++,l=null,m()),m=()=>{let y;return l||(y=l=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),c)return new Promise((v,b)=>{c(_,()=>v(d()),()=>b(_),f+1)});throw _}).then(_=>y!==l&&l?l:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),h=_,_)))};return Mn({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(y,_,v){let b=!1;(_.bu||(_.bu=[])).push(()=>b=!0);const R=()=>{b||v()},E=i?()=>{const A=i(R,L=>n1(y,L));A&&(_.bum||(_.bum=[])).push(A)}:R;h?E():m().then(()=>!_.isUnmounted&&E())},get __asyncResolved(){return h},setup(){const y=Wt;if(Wm(y),h)return()=>Ed(h,y);const _=E=>{l=null,_a(E,y,13,!r)};if(a&&y.suspense||Bo)return m().then(E=>()=>Ed(E,y)).catch(E=>(_(E),()=>r?ht(r,{error:E}):null));const v=Mt(!1),b=Mt(),R=Mt(!!s);return s&&setTimeout(()=>{R.value=!1},s),o!=null&&setTimeout(()=>{if(!v.value&&!b.value){const E=new Error(`Async component timed out after ${o}ms.`);_(E),b.value=E}},o),m().then(()=>{v.value=!0,y.parent&&hl(y.parent.vnode)&&y.parent.update()}).catch(E=>{_(E),b.value=E}),()=>{if(v.value&&h)return Ed(h,y);if(b.value&&r)return ht(r,{error:b.value});if(n&&!R.value)return ht(n)}}})}function Ed(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ht(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const hl=t=>t.type.__isKeepAlive,r1={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Ws(),r=n.ctx;if(!r.renderer)return()=>{const R=e.default&&e.default();return R&&R.length===1?R[0]:R};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:l,um:h,o:{createElement:f}}}=r,d=f("div");r.activate=(R,E,A,L,M)=>{const w=R.component;l(R,E,A,0,a),c(w.vnode,R,E,A,w,a,L,R.slotScopeIds,M),Ct(()=>{w.isDeactivated=!1,w.a&&So(w.a);const T=R.props&&R.props.onVnodeMounted;T&&un(T,w.parent,R)},a)},r.deactivate=R=>{const E=R.component;ch(E.m),ch(E.a),l(R,d,null,1,a),Ct(()=>{E.da&&So(E.da);const A=R.props&&R.props.onVnodeUnmounted;A&&un(A,E.parent,R),E.isDeactivated=!0},a)};function m(R){wd(R),h(R,n,a,!0)}function y(R){s.forEach((E,A)=>{const L=_p(E.type);L&&!R(L)&&_(A)})}function _(R){const E=s.get(R);E&&(!o||!$n(E,o))?m(E):o&&wd(o),s.delete(R),i.delete(R)}gn(()=>[t.include,t.exclude],([R,E])=>{R&&y(A=>rc(R,A)),E&&y(A=>!rc(E,A))},{flush:"post",deep:!0});let v=null;const b=()=>{v!=null&&(lh(n.subTree.type)?Ct(()=>{s.set(v,hu(n.subTree))},n.subTree.suspense):s.set(v,hu(n.subTree)))};return fl(b),lb(b),dl(()=>{s.forEach(R=>{const{subTree:E,suspense:A}=n,L=hu(E);if(R.type===L.type&&R.key===L.key){wd(L);const M=L.component.da;M&&Ct(M,A);return}m(R)})}),()=>{if(v=null,!e.default)return o=null;const R=e.default(),E=R[0];if(R.length>1)return o=null,R;if(!Ci(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let A=hu(E);if(A.type===At)return o=null,A;const L=A.type,M=_p(Ss(A)?A.type.__asyncResolved||{}:L),{include:w,exclude:T,max:I}=t;if(w&&(!M||!rc(w,M))||T&&M&&rc(T,M))return A.shapeFlag&=-257,o=A,E;const P=A.key==null?L:A.key,O=s.get(P);return A.el&&(A=$r(A),E.shapeFlag&128&&(E.ssContent=A)),v=P,O?(A.el=O.el,A.component=O.component,A.transition&&Fo(A,A.transition),A.shapeFlag|=512,i.delete(P),i.add(P)):(i.add(P),I&&i.size>parseInt(I,10)&&_(i.values().next().value)),A.shapeFlag|=256,o=A,lh(E.type)?E:A}}},s1=r1;function rc(t,e){return me(t)?t.some(n=>rc(n,e)):ot(t)?t.split(",").includes(e):nk(t)?(t.lastIndex=0,t.test(e)):!1}function ob(t,e){cb(t,"a",e)}function ab(t,e){cb(t,"da",e)}function cb(t,e,n=Wt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Zh(e,r,n),n){let s=n.parent;for(;s&&s.parent;)hl(s.parent.vnode)&&i1(r,e,n,s),s=s.parent}}function i1(t,e,n,r){const s=Zh(e,t,r,!0);ef(()=>{Dm(r[e],s)},n)}function wd(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function hu(t){return t.shapeFlag&128?t.ssContent:t}function Zh(t,e,n=Wt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Fr();const a=ml(n),c=zn(e,n,t,o);return a(),Ur(),c});return r?s.unshift(i):s.push(i),i}}const Kr=t=>(e,n=Wt)=>{(!Bo||t==="sp")&&Zh(t,(...r)=>e(...r),n)},o1=Kr("bm"),fl=Kr("m"),a1=Kr("bu"),lb=Kr("u"),dl=Kr("bum"),ef=Kr("um"),c1=Kr("sp"),l1=Kr("rtg"),u1=Kr("rtc");function ub(t,e=Wt){Zh("ec",t,e)}const hb="components";function d3(t,e){return db(hb,t,!0,e)||t}const fb=Symbol.for("v-ndc");function h1(t){return ot(t)?db(hb,t,!1)||t:t||fb}function db(t,e,n=!0,r=!1){const s=Gt||Wt;if(s){const i=s.type;{const a=_p(i,!1);if(a&&(a===e||a===Dn(e)||a===Gh(Dn(e))))return i}const o=jy(s[t]||i[t],e)||jy(s.appContext[t],e);return!o&&r?i:o}}function jy(t,e){return t&&(t[e]||t[Dn(e)]||t[Gh(Dn(e))])}function p3(t,e,n,r){let s;const i=n,o=me(t);if(o||ot(t)){const a=o&&Vr(t);let c=!1,l=!1;a&&(c=!Nn(t),l=Br(t),t=Xh(t)),s=new Array(t.length);for(let h=0,f=t.length;h<f;h++)s[h]=e(c?l?nh(Ht(t[h])):Ht(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(We(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];s[c]=e(t[h],h,c,i)}}else s=[];return s}function m3(t,e,n={},r,s){if(Gt.ce||Gt.parent&&Ss(Gt.parent)&&Gt.parent.ce)return e!=="default"&&(n.name=e),kn(),sr(Vt,null,[ht("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),kn();const o=i&&pb(i(n)),a=n.key||o&&o.key,c=sr(Vt,{key:(a&&!Gn(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function pb(t){return t.some(e=>Ci(e)?!(e.type===At||e.type===Vt&&!pb(e.children)):!0)?t:null}const up=t=>t?Bb(t)?rf(t):up(t.parent):null,pc=Ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>up(t.parent),$root:t=>up(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>gb(t),$forceUpdate:t=>t.f||(t.f=()=>{qm(t.update)}),$nextTick:t=>t.n||(t.n=_r.bind(t.proxy)),$watch:t=>x1.bind(t)}),Id=(t,e)=>t!==Je&&!t.__isScriptSetup&&Fe(t,e),f1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Id(r,e))return o[e]=1,r[e];if(s!==Je&&Fe(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Fe(l,e))return o[e]=3,i[e];if(n!==Je&&Fe(n,e))return o[e]=4,n[e];hp&&(o[e]=0)}}const h=pc[e];let f,d;if(h)return e==="$attrs"&&tn(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Je&&Fe(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,Fe(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Id(s,e)?(s[e]=n,!0):r!==Je&&Fe(r,e)?(r[e]=n,!0):Fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Je&&Fe(t,o)||Id(e,o)||(a=i[0])&&Fe(a,o)||Fe(r,o)||Fe(pc,o)||Fe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function qy(t){return me(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let hp=!0;function d1(t){const e=gb(t),n=t.proxy,r=t.ctx;hp=!1,e.beforeCreate&&Hy(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:h,beforeMount:f,mounted:d,beforeUpdate:m,updated:y,activated:_,deactivated:v,beforeDestroy:b,beforeUnmount:R,destroyed:E,unmounted:A,render:L,renderTracked:M,renderTriggered:w,errorCaptured:T,serverPrefetch:I,expose:P,inheritAttrs:O,components:N,directives:k,filters:ge}=e;if(l&&p1(l,r,null),o)for(const fe in o){const le=o[fe];Ee(le)&&(r[fe]=le.bind(n))}if(s){const fe=s.call(n,n);We(fe)&&(t.data=Er(fe))}if(hp=!0,i)for(const fe in i){const le=i[fe],Pe=Ee(le)?le.bind(n,n):Ee(le.get)?le.get.bind(n,n):cr,zt=!Ee(le)&&Ee(le.set)?le.set.bind(n):cr,$t=gt({get:Pe,set:zt});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>$t.value,set:Ke=>$t.value=Ke})}if(a)for(const fe in a)mb(a[fe],r,n,fe);if(c){const fe=Ee(c)?c.call(n):c;Reflect.ownKeys(fe).forEach(le=>{Ps(le,fe[le])})}h&&Hy(h,t,"c");function ie(fe,le){me(le)?le.forEach(Pe=>fe(Pe.bind(n))):le&&fe(le.bind(n))}if(ie(o1,f),ie(fl,d),ie(a1,m),ie(lb,y),ie(ob,_),ie(ab,v),ie(ub,T),ie(u1,M),ie(l1,w),ie(dl,R),ie(ef,A),ie(c1,I),me(P))if(P.length){const fe=t.exposed||(t.exposed={});P.forEach(le=>{Object.defineProperty(fe,le,{get:()=>n[le],set:Pe=>n[le]=Pe,enumerable:!0})})}else t.exposed||(t.exposed={});L&&t.render===cr&&(t.render=L),O!=null&&(t.inheritAttrs=O),N&&(t.components=N),k&&(t.directives=k),I&&Wm(t)}function p1(t,e,n=cr){me(t)&&(t=fp(t));for(const r in t){const s=t[r];let i;We(s)?"default"in s?i=Pt(s.from||r,s.default,!0):i=Pt(s.from||r):i=Pt(s),nt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Hy(t,e,n){zn(me(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mb(t,e,n,r){let s=r.includes(".")?Cb(n,r):()=>n[r];if(ot(t)){const i=e[t];Ee(i)&&gn(s,i)}else if(Ee(t))gn(s,t.bind(n));else if(We(t))if(me(t))t.forEach(i=>mb(i,e,n,r));else{const i=Ee(t.handler)?t.handler.bind(n):e[t.handler];Ee(i)&&gn(s,i,t)}}function gb(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>ah(c,l,o,!0)),ah(c,e,o)),We(e)&&i.set(e,c),c}function ah(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ah(t,i,n,!0),s&&s.forEach(o=>ah(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=m1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const m1={data:Wy,props:Ky,emits:Ky,methods:sc,computed:sc,beforeCreate:an,created:an,beforeMount:an,mounted:an,beforeUpdate:an,updated:an,beforeDestroy:an,beforeUnmount:an,destroyed:an,unmounted:an,activated:an,deactivated:an,errorCaptured:an,serverPrefetch:an,components:sc,directives:sc,watch:_1,provide:Wy,inject:g1};function Wy(t,e){return e?t?function(){return Ut(Ee(t)?t.call(this,this):t,Ee(e)?e.call(this,this):e)}:e:t}function g1(t,e){return sc(fp(t),fp(e))}function fp(t){if(me(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function an(t,e){return t?[...new Set([].concat(t,e))]:e}function sc(t,e){return t?Ut(Object.create(null),t,e):e}function Ky(t,e){return t?me(t)&&me(e)?[...new Set([...t,...e])]:Ut(Object.create(null),qy(t),qy(e??{})):e}function _1(t,e){if(!t)return e;if(!e)return t;const n=Ut(Object.create(null),t);for(const r in e)n[r]=an(t[r],e[r]);return n}function _b(){return{app:null,config:{isNativeTag:ek,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let y1=0;function E1(t,e){return function(r,s=null){Ee(r)||(r=Ut({},r)),s!=null&&!We(s)&&(s=null);const i=_b(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:y1++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:nN,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&Ee(h.install)?(o.add(h),h.install(l,...f)):Ee(h)&&(o.add(h),h(l,...f))),l},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),l},component(h,f){return f?(i.components[h]=f,l):i.components[h]},directive(h,f){return f?(i.directives[h]=f,l):i.directives[h]},mount(h,f,d){if(!c){const m=l._ceVNode||ht(r,s);return m.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),f&&e?e(m,h):t(m,h,d),c=!0,l._container=h,h.__vue_app__=l,rf(m.component)}},onUnmount(h){a.push(h)},unmount(){c&&(zn(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(h,f){return i.provides[h]=f,l},runWithContext(h){const f=vi;vi=l;try{return h()}finally{vi=f}}};return l}}let vi=null;function Ps(t,e){if(Wt){let n=Wt.provides;const r=Wt.parent&&Wt.parent.provides;r===n&&(n=Wt.provides=Object.create(r)),n[t]=e}}function Pt(t,e,n=!1){const r=Ws();if(r||vi){let s=vi?vi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ee(e)?e.call(r&&r.proxy):e}}function pl(){return!!(Ws()||vi)}const yb={},Eb=()=>Object.create(yb),wb=t=>Object.getPrototypeOf(t)===yb;function w1(t,e,n,r=!1){const s={},i=Eb();t.propsDefaults=Object.create(null),Ib(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:ir(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function I1(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=De(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let d=h[f];if(tf(t.emitsOptions,d))continue;const m=e[d];if(c)if(Fe(i,d))m!==i[d]&&(i[d]=m,l=!0);else{const y=Dn(d);s[y]=dp(c,a,y,m,t,!1)}else m!==i[d]&&(i[d]=m,l=!0)}}}else{Ib(t,e,s,i)&&(l=!0);let h;for(const f in a)(!e||!Fe(e,f)&&((h=Hs(f))===f||!Fe(e,h)))&&(c?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=dp(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Fe(e,f))&&(delete i[f],l=!0)}l&&Pr(t.attrs,"set","")}function Ib(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Ro(c))continue;const l=e[c];let h;s&&Fe(s,h=Dn(c))?!i||!i.includes(h)?n[h]=l:(a||(a={}))[h]=l:tf(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=De(n),l=a||Je;for(let h=0;h<i.length;h++){const f=i[h];n[f]=dp(s,c,f,l[f],t,!Fe(l,f))}}return o}function dp(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Fe(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ee(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const h=ml(s);r=l[n]=c.call(null,e),h()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Hs(n))&&(r=!0))}return r}const v1=new WeakMap;function vb(t,e,n=!1){const r=n?v1:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!Ee(t)){const h=f=>{c=!0;const[d,m]=vb(f,e,!0);Ut(o,d),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return We(t)&&r.set(t,bo),bo;if(me(i))for(let h=0;h<i.length;h++){const f=Dn(i[h]);Gy(f)&&(o[f]=Je)}else if(i)for(const h in i){const f=Dn(h);if(Gy(f)){const d=i[h],m=o[f]=me(d)||Ee(d)?{type:d}:Ut({},d),y=m.type;let _=!1,v=!0;if(me(y))for(let b=0;b<y.length;++b){const R=y[b],E=Ee(R)&&R.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(v=!1)}else _=Ee(y)&&y.name==="Boolean";m[0]=_,m[1]=v,(_||Fe(m,"default"))&&a.push(f)}}const l=[o,a];return We(t)&&r.set(t,l),l}function Gy(t){return t[0]!=="$"&&!Ro(t)}const Km=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",Gm=t=>me(t)?t.map(In):[In(t)],T1=(t,e,n)=>{if(e._n)return e;const r=Hm((...s)=>Gm(e(...s)),n);return r._c=!1,r},Tb=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Km(s))continue;const i=t[s];if(Ee(i))e[s]=T1(s,i,r);else if(i!=null){const o=Gm(i);e[s]=()=>o}}},bb=(t,e)=>{const n=Gm(e);t.slots.default=()=>n},Ab=(t,e,n)=>{for(const r in e)(n||!Km(r))&&(t[r]=e[r])},b1=(t,e,n)=>{const r=t.slots=Eb();if(t.vnode.shapeFlag&32){const s=e.__;s&&rp(r,"__",s,!0);const i=e._;i?(Ab(r,e,n),n&&rp(r,"_",i,!0)):Tb(e,r)}else e&&bb(t,e)},A1=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Je;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Ab(s,e,n):(i=!e.$stable,Tb(e,s)),o=e}else e&&(bb(t,e),o={default:1});if(i)for(const a in s)!Km(a)&&o[a]==null&&delete s[a]},Ct=xb;function R1(t){return Rb(t)}function S1(t){return Rb(t,e1)}function Rb(t,e){const n=zh();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:h,parentNode:f,nextSibling:d,setScopeId:m=cr,insertStaticContent:y}=t,_=(x,V,q,Y=null,G=null,C=null,D=void 0,U=null,W=!!V.dynamicChildren)=>{if(x===V)return;x&&!$n(x,V)&&(Y=z(x),Ke(x,G,C,!0),x=null),V.patchFlag===-2&&(W=!1,V.dynamicChildren=null);const{type:J,ref:Z,shapeFlag:F}=V;switch(J){case Cs:v(x,V,q,Y);break;case At:b(x,V,q,Y);break;case mc:x==null&&R(V,q,Y,D);break;case Vt:N(x,V,q,Y,G,C,D,U,W);break;default:F&1?L(x,V,q,Y,G,C,D,U,W):F&6?k(x,V,q,Y,G,C,D,U,W):(F&64||F&128)&&J.process(x,V,q,Y,G,C,D,U,W,he)}Z!=null&&G?Co(Z,x&&x.ref,C,V||x,!V):Z==null&&x&&x.ref!=null&&Co(x.ref,null,C,x,!0)},v=(x,V,q,Y)=>{if(x==null)r(V.el=a(V.children),q,Y);else{const G=V.el=x.el;V.children!==x.children&&l(G,V.children)}},b=(x,V,q,Y)=>{x==null?r(V.el=c(V.children||""),q,Y):V.el=x.el},R=(x,V,q,Y)=>{[x.el,x.anchor]=y(x.children,V,q,Y,x.el,x.anchor)},E=({el:x,anchor:V},q,Y)=>{let G;for(;x&&x!==V;)G=d(x),r(x,q,Y),x=G;r(V,q,Y)},A=({el:x,anchor:V})=>{let q;for(;x&&x!==V;)q=d(x),s(x),x=q;s(V)},L=(x,V,q,Y,G,C,D,U,W)=>{V.type==="svg"?D="svg":V.type==="math"&&(D="mathml"),x==null?M(V,q,Y,G,C,D,U,W):I(x,V,G,C,D,U,W)},M=(x,V,q,Y,G,C,D,U)=>{let W,J;const{props:Z,shapeFlag:F,transition:H,dirs:ee}=x;if(W=x.el=o(x.type,C,Z&&Z.is,Z),F&8?h(W,x.children):F&16&&T(x.children,W,null,Y,G,vd(x,C),D,U),ee&&tr(x,null,Y,"created"),w(W,x,x.scopeId,D,Y),Z){for(const Te in Z)Te!=="value"&&!Ro(Te)&&i(W,Te,null,Z[Te],C,Y);"value"in Z&&i(W,"value",null,Z.value,C),(J=Z.onVnodeBeforeMount)&&un(J,Y,x)}ee&&tr(x,null,Y,"beforeMount");const ae=Sb(G,H);ae&&H.beforeEnter(W),r(W,V,q),((J=Z&&Z.onVnodeMounted)||ae||ee)&&Ct(()=>{J&&un(J,Y,x),ae&&H.enter(W),ee&&tr(x,null,Y,"mounted")},G)},w=(x,V,q,Y,G)=>{if(q&&m(x,q),Y)for(let C=0;C<Y.length;C++)m(x,Y[C]);if(G){let C=G.subTree;if(V===C||lh(C.type)&&(C.ssContent===V||C.ssFallback===V)){const D=G.vnode;w(x,D,D.scopeId,D.slotScopeIds,G.parent)}}},T=(x,V,q,Y,G,C,D,U,W=0)=>{for(let J=W;J<x.length;J++){const Z=x[J]=U?ps(x[J]):In(x[J]);_(null,Z,V,q,Y,G,C,D,U)}},I=(x,V,q,Y,G,C,D)=>{const U=V.el=x.el;let{patchFlag:W,dynamicChildren:J,dirs:Z}=V;W|=x.patchFlag&16;const F=x.props||Je,H=V.props||Je;let ee;if(q&&ii(q,!1),(ee=H.onVnodeBeforeUpdate)&&un(ee,q,V,x),Z&&tr(V,x,q,"beforeUpdate"),q&&ii(q,!0),(F.innerHTML&&H.innerHTML==null||F.textContent&&H.textContent==null)&&h(U,""),J?P(x.dynamicChildren,J,U,q,Y,vd(V,G),C):D||le(x,V,U,null,q,Y,vd(V,G),C,!1),W>0){if(W&16)O(U,F,H,q,G);else if(W&2&&F.class!==H.class&&i(U,"class",null,H.class,G),W&4&&i(U,"style",F.style,H.style,G),W&8){const ae=V.dynamicProps;for(let Te=0;Te<ae.length;Te++){const Ae=ae[Te],at=F[Ae],Tt=H[Ae];(Tt!==at||Ae==="value")&&i(U,Ae,at,Tt,G,q)}}W&1&&x.children!==V.children&&h(U,V.children)}else!D&&J==null&&O(U,F,H,q,G);((ee=H.onVnodeUpdated)||Z)&&Ct(()=>{ee&&un(ee,q,V,x),Z&&tr(V,x,q,"updated")},Y)},P=(x,V,q,Y,G,C,D)=>{for(let U=0;U<V.length;U++){const W=x[U],J=V[U],Z=W.el&&(W.type===Vt||!$n(W,J)||W.shapeFlag&198)?f(W.el):q;_(W,J,Z,null,Y,G,C,D,!0)}},O=(x,V,q,Y,G)=>{if(V!==q){if(V!==Je)for(const C in V)!Ro(C)&&!(C in q)&&i(x,C,V[C],null,G,Y);for(const C in q){if(Ro(C))continue;const D=q[C],U=V[C];D!==U&&C!=="value"&&i(x,C,U,D,G,Y)}"value"in q&&i(x,"value",V.value,q.value,G)}},N=(x,V,q,Y,G,C,D,U,W)=>{const J=V.el=x?x.el:a(""),Z=V.anchor=x?x.anchor:a("");let{patchFlag:F,dynamicChildren:H,slotScopeIds:ee}=V;ee&&(U=U?U.concat(ee):ee),x==null?(r(J,q,Y),r(Z,q,Y),T(V.children||[],q,Z,G,C,D,U,W)):F>0&&F&64&&H&&x.dynamicChildren?(P(x.dynamicChildren,H,q,G,C,D,U),(V.key!=null||G&&V===G.subTree)&&zm(x,V,!0)):le(x,V,q,Z,G,C,D,U,W)},k=(x,V,q,Y,G,C,D,U,W)=>{V.slotScopeIds=U,x==null?V.shapeFlag&512?G.ctx.activate(V,q,Y,D,W):ge(V,q,Y,G,C,D,W):Ie(x,V,W)},ge=(x,V,q,Y,G,C,D)=>{const U=x.component=J1(x,Y,G);if(hl(x)&&(U.ctx.renderer=he),Y1(U,!1,D),U.asyncDep){if(G&&G.registerDep(U,ie,D),!x.el){const W=U.subTree=ht(At);b(null,W,V,q),x.placeholder=W.el}}else ie(U,x,V,q,G,C,D)},Ie=(x,V,q)=>{const Y=V.component=x.component;if(F1(x,V,q))if(Y.asyncDep&&!Y.asyncResolved){fe(Y,V,q);return}else Y.next=V,Y.update();else V.el=x.el,Y.vnode=V},ie=(x,V,q,Y,G,C,D)=>{const U=()=>{if(x.isMounted){let{next:F,bu:H,u:ee,parent:ae,vnode:Te}=x;{const Qt=Pb(x);if(Qt){F&&(F.el=Te.el,fe(x,F,D)),Qt.asyncDep.then(()=>{x.isUnmounted||U()});return}}let Ae=F,at;ii(x,!1),F?(F.el=Te.el,fe(x,F,D)):F=Te,H&&So(H),(at=F.props&&F.props.onVnodeBeforeUpdate)&&un(at,ae,F,Te),ii(x,!0);const Tt=Td(x),Dt=x.subTree;x.subTree=Tt,_(Dt,Tt,f(Dt.el),z(Dt),x,G,C),F.el=Tt.el,Ae===null&&nf(x,Tt.el),ee&&Ct(ee,G),(at=F.props&&F.props.onVnodeUpdated)&&Ct(()=>un(at,ae,F,Te),G)}else{let F;const{el:H,props:ee}=V,{bm:ae,m:Te,parent:Ae,root:at,type:Tt}=x,Dt=Ss(V);if(ii(x,!1),ae&&So(ae),!Dt&&(F=ee&&ee.onVnodeBeforeMount)&&un(F,Ae,V),ii(x,!0),H&&Le){const Qt=()=>{x.subTree=Td(x),Le(H,x.subTree,x,G,null)};Dt&&Tt.__asyncHydrate?Tt.__asyncHydrate(H,x,Qt):Qt()}else{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(Tt);const Qt=x.subTree=Td(x);_(null,Qt,q,Y,x,G,C),V.el=Qt.el}if(Te&&Ct(Te,G),!Dt&&(F=ee&&ee.onVnodeMounted)){const Qt=V;Ct(()=>un(F,Ae,Qt),G)}(V.shapeFlag&256||Ae&&Ss(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&x.a&&Ct(x.a,G),x.isMounted=!0,V=q=Y=null}};x.scope.on();const W=x.effect=new PT(U);x.scope.off();const J=x.update=W.run.bind(W),Z=x.job=W.runIfDirty.bind(W);Z.i=x,Z.id=x.uid,W.scheduler=()=>qm(Z),ii(x,!0),J()},fe=(x,V,q)=>{V.component=x;const Y=x.vnode.props;x.vnode=V,x.next=null,I1(x,V.props,Y,q),A1(x,V.children,q),Fr(),Oy(x),Ur()},le=(x,V,q,Y,G,C,D,U,W=!1)=>{const J=x&&x.children,Z=x?x.shapeFlag:0,F=V.children,{patchFlag:H,shapeFlag:ee}=V;if(H>0){if(H&128){zt(J,F,q,Y,G,C,D,U,W);return}else if(H&256){Pe(J,F,q,Y,G,C,D,U,W);return}}ee&8?(Z&16&&xt(J,G,C),F!==J&&h(q,F)):Z&16?ee&16?zt(J,F,q,Y,G,C,D,U,W):xt(J,G,C,!0):(Z&8&&h(q,""),ee&16&&T(F,q,Y,G,C,D,U,W))},Pe=(x,V,q,Y,G,C,D,U,W)=>{x=x||bo,V=V||bo;const J=x.length,Z=V.length,F=Math.min(J,Z);let H;for(H=0;H<F;H++){const ee=V[H]=W?ps(V[H]):In(V[H]);_(x[H],ee,q,null,G,C,D,U,W)}J>Z?xt(x,G,C,!0,!1,F):T(V,q,Y,G,C,D,U,W,F)},zt=(x,V,q,Y,G,C,D,U,W)=>{let J=0;const Z=V.length;let F=x.length-1,H=Z-1;for(;J<=F&&J<=H;){const ee=x[J],ae=V[J]=W?ps(V[J]):In(V[J]);if($n(ee,ae))_(ee,ae,q,null,G,C,D,U,W);else break;J++}for(;J<=F&&J<=H;){const ee=x[F],ae=V[H]=W?ps(V[H]):In(V[H]);if($n(ee,ae))_(ee,ae,q,null,G,C,D,U,W);else break;F--,H--}if(J>F){if(J<=H){const ee=H+1,ae=ee<Z?V[ee].el:Y;for(;J<=H;)_(null,V[J]=W?ps(V[J]):In(V[J]),q,ae,G,C,D,U,W),J++}}else if(J>H)for(;J<=F;)Ke(x[J],G,C,!0),J++;else{const ee=J,ae=J,Te=new Map;for(J=ae;J<=H;J++){const sn=V[J]=W?ps(V[J]):In(V[J]);sn.key!=null&&Te.set(sn.key,J)}let Ae,at=0;const Tt=H-ae+1;let Dt=!1,Qt=0;const es=new Array(Tt);for(J=0;J<Tt;J++)es[J]=0;for(J=ee;J<=F;J++){const sn=x[J];if(at>=Tt){Ke(sn,G,C,!0);continue}let Sn;if(sn.key!=null)Sn=Te.get(sn.key);else for(Ae=ae;Ae<=H;Ae++)if(es[Ae-ae]===0&&$n(sn,V[Ae])){Sn=Ae;break}Sn===void 0?Ke(sn,G,C,!0):(es[Sn-ae]=J+1,Sn>=Qt?Qt=Sn:Dt=!0,_(sn,V[Sn],q,null,G,C,D,U,W),at++)}const eo=Dt?P1(es):bo;for(Ae=eo.length-1,J=Tt-1;J>=0;J--){const sn=ae+J,Sn=V[sn],to=V[sn+1],Na=sn+1<Z?to.el||to.placeholder:Y;es[J]===0?_(null,Sn,q,Na,G,C,D,U,W):Dt&&(Ae<0||J!==eo[Ae]?$t(Sn,q,Na,2):Ae--)}}},$t=(x,V,q,Y,G=null)=>{const{el:C,type:D,transition:U,children:W,shapeFlag:J}=x;if(J&6){$t(x.component.subTree,V,q,Y);return}if(J&128){x.suspense.move(V,q,Y);return}if(J&64){D.move(x,V,q,he);return}if(D===Vt){r(C,V,q);for(let F=0;F<W.length;F++)$t(W[F],V,q,Y);r(x.anchor,V,q);return}if(D===mc){E(x,V,q);return}if(Y!==2&&J&1&&U)if(Y===0)U.beforeEnter(C),r(C,V,q),Ct(()=>U.enter(C),G);else{const{leave:F,delayLeave:H,afterLeave:ee}=U,ae=()=>{x.ctx.isUnmounted?s(C):r(C,V,q)},Te=()=>{F(C,()=>{ae(),ee&&ee()})};H?H(C,ae,Te):Te()}else r(C,V,q)},Ke=(x,V,q,Y=!1,G=!1)=>{const{type:C,props:D,ref:U,children:W,dynamicChildren:J,shapeFlag:Z,patchFlag:F,dirs:H,cacheIndex:ee}=x;if(F===-2&&(G=!1),U!=null&&(Fr(),Co(U,null,q,x,!0),Ur()),ee!=null&&(V.renderCache[ee]=void 0),Z&256){V.ctx.deactivate(x);return}const ae=Z&1&&H,Te=!Ss(x);let Ae;if(Te&&(Ae=D&&D.onVnodeBeforeUnmount)&&un(Ae,V,x),Z&6)yn(x.component,q,Y);else{if(Z&128){x.suspense.unmount(q,Y);return}ae&&tr(x,null,V,"beforeUnmount"),Z&64?x.type.remove(x,V,q,he,Y):J&&!J.hasOnce&&(C!==Vt||F>0&&F&64)?xt(J,V,q,!1,!0):(C===Vt&&F&384||!G&&Z&16)&&xt(W,V,q),Y&&Ge(x)}(Te&&(Ae=D&&D.onVnodeUnmounted)||ae)&&Ct(()=>{Ae&&un(Ae,V,x),ae&&tr(x,null,V,"unmounted")},q)},Ge=x=>{const{type:V,el:q,anchor:Y,transition:G}=x;if(V===Vt){Rn(q,Y);return}if(V===mc){A(x);return}const C=()=>{s(q),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(x.shapeFlag&1&&G&&!G.persisted){const{leave:D,delayLeave:U}=G,W=()=>D(q,C);U?U(x.el,C,W):W()}else C()},Rn=(x,V)=>{let q;for(;x!==V;)q=d(x),s(x),x=q;s(V)},yn=(x,V,q)=>{const{bum:Y,scope:G,job:C,subTree:D,um:U,m:W,a:J,parent:Z,slots:{__:F}}=x;ch(W),ch(J),Y&&So(Y),Z&&me(F)&&F.forEach(H=>{Z.renderCache[H]=void 0}),G.stop(),C&&(C.flags|=8,Ke(D,x,V,q)),U&&Ct(U,V),Ct(()=>{x.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},xt=(x,V,q,Y=!1,G=!1,C=0)=>{for(let D=C;D<x.length;D++)Ke(x[D],V,q,Y,G)},z=x=>{if(x.shapeFlag&6)return z(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const V=d(x.anchor||x.el),q=V&&V[YT];return q?d(q):V};let oe=!1;const se=(x,V,q)=>{x==null?V._vnode&&Ke(V._vnode,null,null,!0):_(V._vnode||null,x,V,null,null,null,q),V._vnode=x,oe||(oe=!0,Oy(),ih(),oe=!1)},he={p:_,um:Ke,m:$t,r:Ge,mt:ge,mc:T,pc:le,pbc:P,n:z,o:t};let ve,Le;return e&&([ve,Le]=e(he)),{render:se,hydrate:ve,createApp:E1(se,ve)}}function vd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ii({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Sb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zm(t,e,n=!1){const r=t.children,s=e.children;if(me(r)&&me(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ps(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&zm(o,a)),a.type===Cs&&(a.el=o.el),a.type===At&&!a.el&&(a.el=o.el)}}function P1(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Pb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pb(e)}function ch(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const C1=Symbol.for("v-scx"),k1=()=>Pt(C1);function N1(t,e){return Qm(t,null,e)}function gn(t,e,n){return Qm(t,e,n)}function Qm(t,e,n=Je){const{immediate:r,deep:s,flush:i,once:o}=n,a=Ut({},n),c=e&&r||!e&&i!=="post";let l;if(Bo){if(i==="sync"){const m=k1();l=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=cr,m.resume=cr,m.pause=cr,m}}const h=Wt;a.call=(m,y,_)=>zn(m,h,y,_);let f=!1;i==="post"?a.scheduler=m=>{Ct(m,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(m,y)=>{y?m():qm(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const d=Wk(t,e,a);return Bo&&(l?l.push(d):c&&d()),d}function x1(t,e,n){const r=this.proxy,s=ot(t)?t.includes(".")?Cb(r,t):()=>r[t]:t.bind(r,r);let i;Ee(e)?i=e:(i=e.handler,n=e);const o=ml(this),a=Qm(s,i.bind(r),n);return o(),a}function Cb(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const D1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Dn(e)}Modifiers`]||t[`${Hs(e)}Modifiers`];function L1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Je;let s=n;const i=e.startsWith("update:"),o=i&&D1(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>ot(h)?h.trim():h)),o.number&&(s=n.map(Zu)));let a,c=r[a=dd(e)]||r[a=dd(Dn(e))];!c&&i&&(c=r[a=dd(Hs(e))]),c&&zn(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,zn(l,t,6,s)}}function kb(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Ee(t)){const c=l=>{const h=kb(l,e,!0);h&&(a=!0,Ut(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(We(t)&&r.set(t,null),null):(me(i)?i.forEach(c=>o[c]=null):Ut(o,i),We(t)&&r.set(t,o),o)}function tf(t,e){return!t||!al(e)?!1:(e=e.slice(2).replace(/Once$/,""),Fe(t,e[0].toLowerCase()+e.slice(1))||Fe(t,Hs(e))||Fe(t,e))}function Td(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:h,props:f,data:d,setupState:m,ctx:y,inheritAttrs:_}=t,v=oh(t);let b,R;try{if(n.shapeFlag&4){const A=s||r,L=A;b=In(l.call(L,A,h,f,m,d,y)),R=a}else{const A=e;b=In(A.length>1?A(f,{attrs:a,slots:o,emit:c}):A(f,null)),R=e.props?a:V1(a)}}catch(A){gc.length=0,_a(A,t,1),b=ht(At)}let E=b;if(R&&_!==!1){const A=Object.keys(R),{shapeFlag:L}=E;A.length&&L&7&&(i&&A.some(xm)&&(R=M1(R,i)),E=$r(E,R,!1,!0))}return n.dirs&&(E=$r(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&Fo(E,n.transition),b=E,oh(v),b}function O1(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Ci(s)){if(s.type!==At||s.children==="v-if"){if(n)return;n=s}}else return}return n}const V1=t=>{let e;for(const n in t)(n==="class"||n==="style"||al(n))&&((e||(e={}))[n]=t[n]);return e},M1=(t,e)=>{const n={};for(const r in t)(!xm(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function F1(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?zy(r,o,l):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const d=h[f];if(o[d]!==r[d]&&!tf(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?zy(r,o,l):!0:!!o;return!1}function zy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!tf(n,i))return!0}return!1}function nf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const lh=t=>t.__isSuspense;let pp=0;const U1={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,c,l){if(t==null)B1(e,n,r,s,i,o,a,c,l);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}$1(t,e,n,r,s,o,a,c,l)}},hydrate:j1,normalize:q1},Jm=U1;function Oc(t,e){const n=t.props&&t.props[e];Ee(n)&&n()}function B1(t,e,n,r,s,i,o,a,c){const{p:l,o:{createElement:h}}=c,f=h("div"),d=t.suspense=Nb(t,s,r,e,f,n,i,o,a,c);l(null,d.pendingBranch=t.ssContent,f,null,r,d,i,o),d.deps>0?(Oc(t,"onPending"),Oc(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,o),No(d,t.ssFallback)):d.resolve(!1,!0)}function $1(t,e,n,r,s,i,o,a,{p:c,um:l,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const d=e.ssContent,m=e.ssFallback,{activeBranch:y,pendingBranch:_,isInFallback:v,isHydrating:b}=f;if(_)f.pendingBranch=d,$n(d,_)?(c(_,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():v&&(b||(c(y,m,n,r,s,null,i,o,a),No(f,m)))):(f.pendingId=pp++,b?(f.isHydrating=!1,f.activeBranch=_):l(_,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),v?(c(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(c(y,m,n,r,s,null,i,o,a),No(f,m))):y&&$n(d,y)?(c(y,d,n,r,s,f,i,o,a),f.resolve(!0)):(c(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(y&&$n(d,y))c(y,d,n,r,s,f,i,o,a),No(f,d);else if(Oc(e,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=pp++,c(null,d,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:R,pendingId:E}=f;R>0?setTimeout(()=>{f.pendingId===E&&f.fallback(m)},R):R===0&&f.fallback(m)}}function Nb(t,e,n,r,s,i,o,a,c,l,h=!1){const{p:f,m:d,um:m,n:y,o:{parentNode:_,remove:v}}=l;let b;const R=H1(t);R&&e&&e.pendingBranch&&(b=e.pendingId,e.deps++);const E=t.props?TT(t.props.timeout):void 0,A=i,L={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:pp++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(M=!1,w=!1){const{vnode:T,activeBranch:I,pendingBranch:P,pendingId:O,effects:N,parentComponent:k,container:ge}=L;let Ie=!1;L.isHydrating?L.isHydrating=!1:M||(Ie=I&&P.transition&&P.transition.mode==="out-in",Ie&&(I.transition.afterLeave=()=>{O===L.pendingId&&(d(P,ge,i===A?y(I):i,0),ap(N))}),I&&(_(I.el)===ge&&(i=y(I)),m(I,k,L,!0)),Ie||d(P,ge,i,0)),No(L,P),L.pendingBranch=null,L.isInFallback=!1;let ie=L.parent,fe=!1;for(;ie;){if(ie.pendingBranch){ie.effects.push(...N),fe=!0;break}ie=ie.parent}!fe&&!Ie&&ap(N),L.effects=[],R&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),Oc(T,"onResolve")},fallback(M){if(!L.pendingBranch)return;const{vnode:w,activeBranch:T,parentComponent:I,container:P,namespace:O}=L;Oc(w,"onFallback");const N=y(T),k=()=>{L.isInFallback&&(f(null,M,P,N,I,null,O,a,c),No(L,M))},ge=M.transition&&M.transition.mode==="out-in";ge&&(T.transition.afterLeave=k),L.isInFallback=!0,m(T,I,null,!0),ge||k()},move(M,w,T){L.activeBranch&&d(L.activeBranch,M,w,T),L.container=M},next(){return L.activeBranch&&y(L.activeBranch)},registerDep(M,w,T){const I=!!L.pendingBranch;I&&L.deps++;const P=M.vnode.el;M.asyncDep.catch(O=>{_a(O,M,0)}).then(O=>{if(M.isUnmounted||L.isUnmounted||L.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:N}=M;gp(M,O),P&&(N.el=P);const k=!P&&M.subTree.el;w(M,N,_(P||M.subTree.el),P?null:y(M.subTree),L,o,T),k&&v(k),nf(M,N.el),I&&--L.deps===0&&L.resolve()})},unmount(M,w){L.isUnmounted=!0,L.activeBranch&&m(L.activeBranch,n,M,w),L.pendingBranch&&m(L.pendingBranch,n,M,w)}};return L}function j1(t,e,n,r,s,i,o,a,c){const l=e.suspense=Nb(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=c(t,l.pendingBranch=e.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),h}function q1(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Qy(r?n.default:n),t.ssFallback=r?Qy(n.fallback):ht(At)}function Qy(t){let e;if(Ee(t)){const n=Uo&&t._c;n&&(t._d=!1,kn()),t=t(),n&&(t._d=!0,e=fn,Db())}return me(t)&&(t=O1(t)),t=In(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function xb(t,e){e&&e.pendingBranch?me(t)?e.effects.push(...t):e.effects.push(t):ap(t)}function No(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,nf(r,s))}function H1(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Vt=Symbol.for("v-fgt"),Cs=Symbol.for("v-txt"),At=Symbol.for("v-cmt"),mc=Symbol.for("v-stc"),gc=[];let fn=null;function kn(t=!1){gc.push(fn=t?null:[])}function Db(){gc.pop(),fn=gc[gc.length-1]||null}let Uo=1;function Jy(t,e=!1){Uo+=t,t<0&&fn&&e&&(fn.hasOnce=!0)}function Lb(t){return t.dynamicChildren=Uo>0?fn||bo:null,Db(),Uo>0&&fn&&fn.push(t),t}function W1(t,e,n,r,s,i){return Lb(Vb(t,e,n,r,s,i,!0))}function sr(t,e,n,r,s){return Lb(ht(t,e,n,r,s,!0))}function Ci(t){return t?t.__v_isVNode===!0:!1}function $n(t,e){return t.type===e.type&&t.key===e.key}const Ob=({key:t})=>t??null,Nu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ot(t)||nt(t)||Ee(t)?{i:Gt,r:t,k:e,f:!!n}:t:null);function Vb(t,e=null,n=null,r=0,s=null,i=t===Vt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ob(e),ref:e&&Nu(e),scopeId:JT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Gt};return a?(Ym(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=ot(n)?8:16),Uo>0&&!o&&fn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&fn.push(c),c}const ht=K1;function K1(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===fb)&&(t=At),Ci(t)){const a=$r(t,e,!0);return n&&Ym(a,n),Uo>0&&!i&&fn&&(a.shapeFlag&6?fn[fn.indexOf(t)]=a:fn.push(a)),a.patchFlag=-2,a}if(tN(t)&&(t=t.__vccOpts),e){e=Mb(e);let{class:a,style:c}=e;a&&!ot(a)&&(e.class=Jh(a)),We(c)&&($m(c)&&!me(c)&&(c=Ut({},c)),e.style=Qh(c))}const o=ot(t)?1:lh(t)?128:XT(t)?64:We(t)?4:Ee(t)?2:0;return Vb(t,e,n,r,s,o,i,!0)}function Mb(t){return t?$m(t)||wb(t)?Ut({},t):t:null}function $r(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?Ub(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Ob(l),ref:e&&e.ref?n&&i?me(i)?i.concat(Nu(e)):[i,Nu(e)]:Nu(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$r(t.ssContent),ssFallback:t.ssFallback&&$r(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&Fo(h,c.clone(h)),h}function Fb(t=" ",e=0){return ht(Cs,null,t,e)}function G1(t,e){const n=ht(mc,null,t);return n.staticCount=e,n}function g3(t="",e=!1){return e?(kn(),sr(At,null,t)):ht(At,null,t)}function In(t){return t==null||typeof t=="boolean"?ht(At):me(t)?ht(Vt,null,t.slice()):Ci(t)?ps(t):ht(Cs,null,String(t))}function ps(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$r(t)}function Ym(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(me(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Ym(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!wb(e)?e._ctx=Gt:s===3&&Gt&&(Gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ee(e)?(e={default:e,_ctx:Gt},n=32):(e=String(e),r&64?(n=16,e=[Fb(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ub(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Jh([e.class,r.class]));else if(s==="style")e.style=Qh([e.style,r.style]);else if(al(s)){const i=e[s],o=r[s];o&&i!==o&&!(me(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function un(t,e,n,r=null){zn(t,e,7,[n,r])}const z1=_b();let Q1=0;function J1(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||z1,i={uid:Q1++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ST(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vb(r,s),emitsOptions:kb(r,s),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:r.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=L1.bind(null,i),t.ce&&t.ce(i),i}let Wt=null;const Ws=()=>Wt||Gt;let uh,mp;{const t=zh(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};uh=e("__VUE_INSTANCE_SETTERS__",n=>Wt=n),mp=e("__VUE_SSR_SETTERS__",n=>Bo=n)}const ml=t=>{const e=Wt;return uh(t),t.scope.on(),()=>{t.scope.off(),uh(e)}},Yy=()=>{Wt&&Wt.scope.off(),uh(null)};function Bb(t){return t.vnode.shapeFlag&4}let Bo=!1;function Y1(t,e=!1,n=!1){e&&mp(e);const{props:r,children:s}=t.vnode,i=Bb(t);w1(t,r,i,e),b1(t,s,n||e);const o=i?X1(t,e):void 0;return e&&mp(!1),o}function X1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,f1);const{setup:r}=n;if(r){Fr();const s=t.setupContext=r.length>1?eN(t):null,i=ml(t),o=ul(r,t,0,[t.props,s]),a=wT(o);if(Ur(),i(),(a||t.sp)&&!Ss(t)&&Wm(t),a){if(o.then(Yy,Yy),e)return o.then(c=>{gp(t,c)}).catch(c=>{_a(c,t,0)});t.asyncDep=o}else gp(t,o)}else $b(t)}function gp(t,e,n){Ee(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:We(e)&&(t.setupState=HT(e)),$b(t)}function $b(t,e,n){const r=t.type;t.render||(t.render=r.render||cr);{const s=ml(t);Fr();try{d1(t)}finally{Ur(),s()}}}const Z1={get(t,e){return tn(t,"get",""),t[e]}};function eN(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Z1),slots:t.slots,emit:t.emit,expose:e}}function rf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(HT(jm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in pc)return pc[n](t)},has(e,n){return n in e||n in pc}})):t.proxy}function _p(t,e=!0){return Ee(t)?t.displayName||t.name:t.name||e&&t.__name}function tN(t){return Ee(t)&&"__vccOpts"in t}const gt=(t,e)=>qk(t,e,Bo);function Et(t,e,n){const r=arguments.length;return r===2?We(e)&&!me(e)?Ci(e)?ht(t,null,[e]):ht(t,e):ht(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ci(n)&&(n=[n]),ht(t,e,n))}const nN="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yp;const Xy=typeof window<"u"&&window.trustedTypes;if(Xy)try{yp=Xy.createPolicy("vue",{createHTML:t=>t})}catch{}const jb=yp?t=>yp.createHTML(t):t=>t,rN="http://www.w3.org/2000/svg",sN="http://www.w3.org/1998/Math/MathML",Sr=typeof document<"u"?document:null,Zy=Sr&&Sr.createElement("template"),iN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Sr.createElementNS(rN,t):e==="mathml"?Sr.createElementNS(sN,t):n?Sr.createElement(t,{is:n}):Sr.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Sr.createTextNode(t),createComment:t=>Sr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Sr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Zy.innerHTML=jb(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Zy.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ss="transition",Wa="animation",Vc=Symbol("_vtc"),qb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},oN=Ut({},tb,qb),aN=t=>(t.displayName="Transition",t.props=oN,t),cN=aN((t,{slots:e})=>Et(Yk,lN(t),e)),oi=(t,e=[])=>{me(t)?t.forEach(n=>n(...e)):t&&t(...e)},eE=t=>t?me(t)?t.some(e=>e.length>1):t.length>1:!1;function lN(t){const e={};for(const N in t)N in qb||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:h=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,y=uN(s),_=y&&y[0],v=y&&y[1],{onBeforeEnter:b,onEnter:R,onEnterCancelled:E,onLeave:A,onLeaveCancelled:L,onBeforeAppear:M=b,onAppear:w=R,onAppearCancelled:T=E}=e,I=(N,k,ge,Ie)=>{N._enterCancelled=Ie,ai(N,k?h:a),ai(N,k?l:o),ge&&ge()},P=(N,k)=>{N._isLeaving=!1,ai(N,f),ai(N,m),ai(N,d),k&&k()},O=N=>(k,ge)=>{const Ie=N?w:R,ie=()=>I(k,N,ge);oi(Ie,[k,ie]),tE(()=>{ai(k,N?c:i),br(k,N?h:a),eE(Ie)||nE(k,r,_,ie)})};return Ut(e,{onBeforeEnter(N){oi(b,[N]),br(N,i),br(N,o)},onBeforeAppear(N){oi(M,[N]),br(N,c),br(N,l)},onEnter:O(!1),onAppear:O(!0),onLeave(N,k){N._isLeaving=!0;const ge=()=>P(N,k);br(N,f),N._enterCancelled?(br(N,d),iE()):(iE(),br(N,d)),tE(()=>{N._isLeaving&&(ai(N,f),br(N,m),eE(A)||nE(N,r,v,ge))}),oi(A,[N,ge])},onEnterCancelled(N){I(N,!1,void 0,!0),oi(E,[N])},onAppearCancelled(N){I(N,!0,void 0,!0),oi(T,[N])},onLeaveCancelled(N){P(N),oi(L,[N])}})}function uN(t){if(t==null)return null;if(We(t))return[bd(t.enter),bd(t.leave)];{const e=bd(t);return[e,e]}}function bd(t){return TT(t)}function br(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vc]||(t[Vc]=new Set)).add(e)}function ai(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vc];n&&(n.delete(e),n.size||(t[Vc]=void 0))}function tE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let hN=0;function nE(t,e,n,r){const s=t._endId=++hN,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=fN(t,e);if(!o)return r();const l=o+"end";let h=0;const f=()=>{t.removeEventListener(l,d),i()},d=m=>{m.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),t.addEventListener(l,d)}function fN(t,e){const n=window.getComputedStyle(t),r=y=>(n[y]||"").split(", "),s=r(`${ss}Delay`),i=r(`${ss}Duration`),o=rE(s,i),a=r(`${Wa}Delay`),c=r(`${Wa}Duration`),l=rE(a,c);let h=null,f=0,d=0;e===ss?o>0&&(h=ss,f=o,d=i.length):e===Wa?l>0&&(h=Wa,f=l,d=c.length):(f=Math.max(o,l),h=f>0?o>l?ss:Wa:null,d=h?h===ss?i.length:c.length:0);const m=h===ss&&/\b(transform|all)(,|$)/.test(r(`${ss}Property`).toString());return{type:h,timeout:f,propCount:d,hasTransform:m}}function rE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>sE(n)+sE(t[r])))}function sE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function iE(){return document.body.offsetHeight}function dN(t,e,n){const r=t[Vc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hh=Symbol("_vod"),Hb=Symbol("_vsh"),_3={beforeMount(t,{value:e},{transition:n}){t[hh]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ka(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ka(t,!0),r.enter(t)):r.leave(t,()=>{Ka(t,!1)}):Ka(t,e))},beforeUnmount(t,{value:e}){Ka(t,e)}};function Ka(t,e){t.style.display=e?t[hh]:"none",t[Hb]=!e}const pN=Symbol(""),mN=/(^|;)\s*display\s*:/;function gN(t,e,n){const r=t.style,s=ot(n);let i=!1;if(n&&!s){if(e)if(ot(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&xu(r,a,"")}else for(const o in e)n[o]==null&&xu(r,o,"");for(const o in n)o==="display"&&(i=!0),xu(r,o,n[o])}else if(s){if(e!==n){const o=r[pN];o&&(n+=";"+o),r.cssText=n,i=mN.test(n)}}else e&&t.removeAttribute("style");hh in t&&(t[hh]=i?r.display:"",t[Hb]&&(r.display="none"))}const oE=/\s*!important$/;function xu(t,e,n){if(me(n))n.forEach(r=>xu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=_N(t,e);oE.test(n)?t.setProperty(Hs(r),n.replace(oE,""),"important"):t[r]=n}}const aE=["Webkit","Moz","ms"],Ad={};function _N(t,e){const n=Ad[e];if(n)return n;let r=Dn(e);if(r!=="filter"&&r in t)return Ad[e]=r;r=Gh(r);for(let s=0;s<aE.length;s++){const i=aE[s]+r;if(i in t)return Ad[e]=i}return e}const cE="http://www.w3.org/1999/xlink";function lE(t,e,n,r,s,i=fk(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(cE,e.slice(6,e.length)):t.setAttributeNS(cE,e,n):n==null||i&&!bT(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Gn(n)?String(n):n)}function uE(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?jb(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=bT(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function kr(t,e,n,r){t.addEventListener(e,n,r)}function yN(t,e,n,r){t.removeEventListener(e,n,r)}const hE=Symbol("_vei");function EN(t,e,n,r,s=null){const i=t[hE]||(t[hE]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=wN(e);if(r){const l=i[e]=TN(r,s);kr(t,a,l,c)}else o&&(yN(t,a,o,c),i[e]=void 0)}}const fE=/(?:Once|Passive|Capture)$/;function wN(t){let e;if(fE.test(t)){e={};let r;for(;r=t.match(fE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hs(t.slice(2)),e]}let Rd=0;const IN=Promise.resolve(),vN=()=>Rd||(IN.then(()=>Rd=0),Rd=Date.now());function TN(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;zn(bN(r,n.value),e,5,[r])};return n.value=t,n.attached=vN(),n}function bN(t,e){if(me(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const dE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,AN=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?dN(t,r,o):e==="style"?gN(t,n,r):al(e)?xm(e)||EN(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):RN(t,e,r,o))?(uE(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&lE(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ot(r))?uE(t,Dn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),lE(t,e,r,o))};function RN(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&dE(e)&&Ee(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return dE(e)&&ot(n)?!1:e in t}const Vs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return me(e)?n=>So(e,n):e};function SN(t){t.target.composing=!0}function pE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xn=Symbol("_assign"),mE={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[xn]=Vs(s);const i=r||s.props&&s.props.type==="number";kr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Zu(a)),t[xn](a)}),n&&kr(t,"change",()=>{t.value=t.value.trim()}),e||(kr(t,"compositionstart",SN),kr(t,"compositionend",pE),kr(t,"change",pE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[xn]=Vs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Zu(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},PN={deep:!0,created(t,e,n){t[xn]=Vs(n),kr(t,"change",()=>{const r=t._modelValue,s=$o(t),i=t.checked,o=t[xn];if(me(r)){const a=Om(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(ma(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Wb(t,i))})},mounted:gE,beforeUpdate(t,e,n){t[xn]=Vs(n),gE(t,e,n)}};function gE(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(me(e))s=Om(e,r.props.value)>-1;else if(ma(e))s=e.has(r.props.value);else{if(e===n)return;s=Pi(e,Wb(t,!0))}t.checked!==s&&(t.checked=s)}const CN={created(t,{value:e},n){t.checked=Pi(e,n.props.value),t[xn]=Vs(n),kr(t,"change",()=>{t[xn]($o(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[xn]=Vs(r),e!==n&&(t.checked=Pi(e,r.props.value))}},kN={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=ma(e);kr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Zu($o(o)):$o(o));t[xn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,_r(()=>{t._assigning=!1})}),t[xn]=Vs(r)},mounted(t,{value:e}){_E(t,e)},beforeUpdate(t,e,n){t[xn]=Vs(n)},updated(t,{value:e}){t._assigning||_E(t,e)}};function _E(t,e){const n=t.multiple,r=me(e);if(!(n&&!r&&!ma(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=$o(o);if(n)if(r){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(l=>String(l)===String(a)):o.selected=Om(e,a)>-1}else o.selected=e.has(a);else if(Pi($o(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $o(t){return"_value"in t?t._value:t.value}function Wb(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const y3={created(t,e,n){fu(t,e,n,null,"created")},mounted(t,e,n){fu(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){fu(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){fu(t,e,n,r,"updated")}};function NN(t,e){switch(t){case"SELECT":return kN;case"TEXTAREA":return mE;default:switch(e){case"checkbox":return PN;case"radio":return CN;default:return mE}}}function fu(t,e,n,r,s){const o=NN(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}const xN=["ctrl","shift","alt","meta"],DN={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>xN.some(n=>t[`${n}Key`]&&!e.includes(n))},E3=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=DN[e[o]];if(a&&a(s,e))return}return t(s,...i)})},LN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},w3=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Hs(s.key);if(e.some(o=>o===i||LN[o]===i))return t(s)})},Kb=Ut({patchProp:AN},iN);let _c,yE=!1;function ON(){return _c||(_c=R1(Kb))}function VN(){return _c=yE?_c:S1(Kb),yE=!0,_c}const MN=(...t)=>{const e=ON().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=zb(r);if(!s)return;const i=e._component;!Ee(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,Gb(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},FN=(...t)=>{const e=VN().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=zb(r);if(s)return n(s,!0,Gb(s))},e};function Gb(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zb(t){return ot(t)?document.querySelector(t):t}const UN=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,BN=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,$N=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jN(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){qN(t);return}return e}function qN(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function jo(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!$N.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(UN.test(t)||BN.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,jN)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const HN=/#/g,WN=/&/g,KN=/\//g,GN=/=/g,Xm=/\+/g,zN=/%5e/gi,QN=/%60/gi,JN=/%7c/gi,YN=/%20/gi;function XN(t){return encodeURI(""+t).replace(JN,"|")}function Ep(t){return XN(typeof t=="string"?t:JSON.stringify(t)).replace(Xm,"%2B").replace(YN,"+").replace(HN,"%23").replace(WN,"%26").replace(QN,"`").replace(zN,"^").replace(KN,"%2F")}function Sd(t){return Ep(t).replace(GN,"%3D")}function qo(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function ZN(t){return qo(t.replace(Xm," "))}function ex(t){return qo(t.replace(Xm," "))}function Zm(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=ZN(r[1]);if(s==="__proto__"||s==="constructor")continue;const i=ex(r[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function tx(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Sd(t)}=${Ep(n)}`).join("&"):`${Sd(t)}=${Ep(e)}`:Sd(t)}function nx(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>tx(e,t[e])).filter(Boolean).join("&")}const rx=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,sx=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ix=/^([/\\]\s*){2,}[^/\\]/,ox=/^[\s\0]*(blob|data|javascript|vbscript):$/i,ax=/\/$|\/\?|\/#/,cx=/^\.?\//;function wr(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?rx.test(t):sx.test(t)||(e.acceptRelative?ix.test(t):!1)}function lx(t){return!!t&&ox.test(t)}function wp(t="",e){return e?ax.test(t):t.endsWith("/")}function Ho(t="",e){if(!e)return(wp(t)?t.slice(0,-1):t)||"/";if(!wp(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");s!==-1&&(n=t.slice(0,s),r=t.slice(s));const[i,...o]=n.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function Ip(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(wp(t,!0))return t||"/";let n=t,r="";const s=t.indexOf("#");if(s!==-1&&(n=t.slice(0,s),r=t.slice(s),!n))return r;const[i,...o]=n.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function ux(t=""){return t.startsWith("/")}function EE(t=""){return ux(t)?t:"/"+t}function hx(t,e){if(Qb(e)||wr(t))return t;const n=Ho(e);return t.startsWith(n)?t:ki(n,t)}function wE(t,e){if(Qb(e))return t;const n=Ho(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function sf(t,e){const n=Xb(t),r={...Zm(n.search),...e};return n.search=nx(r),mx(n)}function Qb(t){return!t||t==="/"}function fx(t){return t&&t!=="/"}function ki(t,...e){let n=t||"";for(const r of e.filter(s=>fx(s)))if(n){const s=r.replace(cx,"");n=Ip(n)+s}else n=r;return n}function Jb(...t){const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let s=0;for(const o of n)if(!(!o||o==="/")){for(const[a,c]of o.split(e).entries())if(!(!c||c===".")){if(c===".."){if(r.length===1&&wr(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+c;continue}r.push(c),s++}}let i=r.join("/");return s>=0?n[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:n[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,n[n.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function dx(t,e){return qo(Ho(t))===qo(Ho(e))}function px(t,e,n={}){return n.trailingSlash||(t=Ip(t),e=Ip(e)),n.leadingSlash||(t=EE(t),e=EE(e)),n.encoding||(t=qo(t),e=qo(e)),t===e}const Yb=Symbol.for("ufo:protocolRelative");function Xb(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,d=""]=n;return{protocol:f.toLowerCase(),pathname:d,href:f+d,auth:"",host:"",search:"",hash:""}}if(!wr(t,{acceptRelative:!0}))return vp(t);const[,r="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:h}=vp(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:c,search:l,hash:h,[Yb]:!r}}function vp(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function mx(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol||t[Yb]?(t.protocol||"")+"//":"")+s+i+e+n+r}class gx extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function _x(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,i=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${s}: ${i}${e?` ${e}`:""}`,a=new gx(o,t.error?{cause:t.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(a,c,{get(){return t[c]}});for(const[c,l]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,c,{get(){return t.response&&t.response[l]}});return a}const yx=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function IE(t="GET"){return yx.has(t.toUpperCase())}function Ex(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const wx=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Ix=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function vx(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Ix.test(e)?"json":wx.has(e)||e.startsWith("text/")?"text":"blob"}function Tx(t,e,n,r){const s=bx(e?.headers??t?.headers,n?.headers,r);let i;return(n?.query||n?.params||e?.params||e?.query)&&(i={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:i,params:i,headers:s}}function bx(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[s,i]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(s,i);return r}async function du(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const Ax=new Set([408,409,425,429,500,502,503,504]),Rx=new Set([101,204,205,304]);function Zb(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function s(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let h;typeof a.options.retry=="number"?h=a.options.retry:h=IE(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(h>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):Ax.has(f))){const d=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return d>0&&await new Promise(m=>setTimeout(m,d)),i(a.request,{...a.options,retry:h-1})}}const l=_x(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,i),l}const i=async function(c,l={}){const h={request:c,options:Tx(c,l,t.defaults,n),response:void 0,error:void 0};h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&await du(h,h.options.onRequest),typeof h.request=="string"&&(h.options.baseURL&&(h.request=hx(h.request,h.options.baseURL)),h.options.query&&(h.request=sf(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&IE(h.options.method)&&(Ex(h.options.body)?(h.options.body=typeof h.options.body=="string"?h.options.body:JSON.stringify(h.options.body),h.options.headers=new n(h.options.headers||{}),h.options.headers.has("content-type")||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")):("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half")));let f;if(!h.options.signal&&h.options.timeout){const m=new r;f=setTimeout(()=>{const y=new Error("[TimeoutError]: The operation was aborted due to timeout");y.name="TimeoutError",y.code=23,m.abort(y)},h.options.timeout),h.options.signal=m.signal}try{h.response=await e(h.request,h.options)}catch(m){return h.error=m,h.options.onRequestError&&await du(h,h.options.onRequestError),await s(h)}finally{f&&clearTimeout(f)}if((h.response.body||h.response._bodyInit)&&!Rx.has(h.response.status)&&h.options.method!=="HEAD"){const m=(h.options.parseResponse?"json":h.options.responseType)||vx(h.response.headers.get("content-type")||"");switch(m){case"json":{const y=await h.response.text(),_=h.options.parseResponse||jo;h.response._data=_(y);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[m]()}}return h.options.onResponse&&await du(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await du(h,h.options.onResponseError),await s(h)):h.response},o=async function(c,l){return(await i(c,l))._data};return o.raw=i,o.native=(...a)=>e(...a),o.create=(a={},c={})=>Zb({...t,...c,defaults:{...t.defaults,...c.defaults,...a}}),o}const fh=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Sx=fh.fetch?(...t)=>fh.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Px=fh.Headers,Cx=fh.AbortController,kx=Zb({fetch:Sx,Headers:Px,AbortController:Cx}),Nx=kx,xx=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,eg=()=>xx().app,Dx=()=>eg().baseURL,Lx=()=>eg().buildAssetsDir,tg=(...t)=>Jb(eA(),Lx(),...t),eA=(...t)=>{const e=eg(),n=e.cdnURL||e.baseURL;return t.length?Jb(n,...t):n};globalThis.__buildAssetsURL=tg,globalThis.__publicAssetsURL=eA;globalThis.$fetch||(globalThis.$fetch=Nx.create({baseURL:Dx()}));"global"in globalThis||(globalThis.global=globalThis);function Tp(t,e={},n){for(const r in t){const s=t[r],i=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Tp(s,e,i):typeof s=="function"&&(e[i]=s)}return e}const Ox={run:t=>t()},Vx=()=>Ox,tA=typeof console.createTask<"u"?console.createTask:Vx;function Mx(t,e){const n=e.shift(),r=tA(n);return t.reduce((s,i)=>s.then(()=>r.run(()=>i(...e))),Promise.resolve())}function Fx(t,e){const n=e.shift(),r=tA(n);return Promise.all(t.map(s=>r.run(()=>s(...e))))}function Pd(t,e){for(const n of[...t])n(e)}class Ux{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const s=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!r.allowDeprecated){let o=i.message;o||(o=`${s} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,s=(...i)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...i));return r=this.hook(e,s),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const s of r)this.hook(e,s)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Tp(e),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(e){const n=Tp(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(Mx,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(Fx,e,...n)}callHookWith(e,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&Pd(this._before,s);const i=e(n in this._hooks?[...this._hooks[n]]:[],r);return i instanceof Promise?i.finally(()=>{this._after&&s&&Pd(this._after,s)}):(this._after&&s&&Pd(this._after,s),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function nA(){return new Ux}function Bx(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let s;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?s=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const i=()=>{if(s){const o=s.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=i();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>i(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return s?s.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const c=()=>{e=o},l=()=>e===o?c:void 0;bp.add(l);try{const h=s?s.run(o,a):a();return n||(e=void 0),await h}finally{bp.delete(l)}}}}function $x(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=Bx({...t,...r})),e[n]}}}const dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},vE="__unctx__",jx=dh[vE]||(dh[vE]=$x()),qx=(t,e={})=>jx.get(t,e),TE="__unctx_async_handlers__",bp=dh[TE]||(dh[TE]=new Set);function lr(t){const e=[];for(const s of bp){const i=s();i&&e.push(i)}const n=()=>{for(const s of e)s()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const Hx=!1,bE=!1,Wx=!1,AE={id:"__nuxt-loader"},I3={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},Kx="#__nuxt",rA="nuxt-app",RE=36e5,Gx="vite:preloadError";function sA(t=rA){return qx(t,{asyncContext:!1})}const zx="__nuxt_plugin";function Qx(t){let e=0;const n={_id:t.id||rA||"nuxt-app",_scope:cl(),provide:void 0,versions:{get nuxt(){return"4.0.3"},get vue(){return n.vueApp.version}},payload:ir({...t.ssrContext?.payload||{},data:ir({}),state:Er({}),once:new Set,_errors:ir({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!ll()?n._scope.run(()=>SE(n,s)):SE(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:ir({}),_payloadRevivers:{},...t};{const s=window.__NUXT__;if(s)for(const i in s)switch(i){case"data":case"state":case"_errors":Object.assign(n.payload[i],s[i]);break;default:n.payload[i]=s[i]}}n.hooks=nA(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,i)=>{const o="$"+s;pu(n,o,i),pu(n.vueApp.config.globalProperties,o,i)},pu(n.vueApp,"$nuxt",n),pu(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(Gx,i=>{n.callHook("app:chunkError",{error:i.payload}),i.payload.message.includes("Unable to preload CSS")&&i.preventDefault()}),window.useNuxtApp||=Se;const s=n.hook("app:error",(...i)=>{console.error("[nuxt] error caught during app initialization",...i)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function Jx(t,e){e.hooks&&t.hooks.addHooks(e.hooks)}async function Yx(t,e){if(typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function Xx(t,e){const n=new Set,r=[],s=[];let i,o=0;async function a(c){const l=c.dependsOn?.filter(h=>e.some(f=>f._name===h)&&!n.has(h))??[];if(l.length>0)r.push([new Set(l),c]);else{const h=Yx(t,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(r.map(async([f,d])=>{f.has(c._name)&&(f.delete(c._name),f.size===0&&(o++,await a(d)))})))}).catch(f=>{if(!c.parallel&&!t.payload.error)throw f;i||=f});c.parallel?s.push(h):await h}}for(const c of e)Jx(t,c);for(const c of e)await a(c);if(await Promise.all(s),o)for(let c=0;c<o;c++)await Promise.all(s);if(i)throw t.payload.error||i}function vt(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[zx]:!0,_name:e})}const Zx=vt;function SE(t,e,n){const r=()=>e();return sA(t._id).set(t),t.vueApp.runWithContext(r)}function eD(t){let e;return pl()&&(e=Ws()?.appContext.app.$nuxt),e||=sA(t).tryUse(),e||null}function Se(t){const e=eD(t);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Ki(t){return Se().$config}function pu(t,e,n){Object.defineProperty(t,e,{get:()=>n})}function tD(t,e){return{ctx:{table:t},matchAll:n=>oA(n,t)}}function iA(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,s])=>[r,iA(s)])):new Map(Object.entries(t[n]));return e}function nD(t){return tD(iA(t))}function oA(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[i,o]of PE(e.wildcard))(t===i||t.startsWith(i+"/"))&&r.push(o);for(const[i,o]of PE(e.dynamic))if(t.startsWith(i+"/")){const a="/"+t.slice(i.length).split("/").splice(2).join("/");r.push(...oA(a,o))}const s=e.static.get(t);return s&&r.push(s),r.filter(Boolean)}function PE(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function Cd(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Ap(t,e,n=".",r){if(!Cd(e))return Ap(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:Cd(o)&&Cd(s[i])?s[i]=Ap(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function aA(t){return(...e)=>e.reduce((n,r)=>Ap(n,r,"",t),{})}const cA=aA(),rD=aA((t,e,n)=>{if(t[e]!==void 0&&typeof n=="function")return t[e]=n(t[e]),!0});function sD(t,e){try{return e in t}catch{return!1}}class CE extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,n={}){super(e,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Rp(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=lA(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}function iD(t){if(typeof t=="string")return new CE(t);if(oD(t))return t;const e=new CE(t.message??t.statusMessage??"",{cause:t.cause||t});if(sD(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=Rp(t.statusCode,e.statusCode):t.status&&(e.statusCode=Rp(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;lA(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function oD(t){return t?.constructor?.__h3_error__===!0}const aD=/[^\u0009\u0020-\u007E]/g;function lA(t=""){return t.replace(aD,"")}function Rp(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const uA=Symbol("layout-meta"),Ni=Symbol("route"),_n=()=>Se()?.$router,of=()=>pl()?Pt(Ni,Se()._route):Se()._route;const cD=(t,e,n={})=>{const r=Se(),s=n.global||typeof t!="string",i=e;if(!i){console.warn("[nuxt] No route middleware passed to `addRouteMiddleware`.",t);return}s?r._middleware.global.push(i):r._middleware.named[t]=i},lD=()=>{try{if(Se()._processingMiddleware)return!0}catch{return!1}return!1},yc=(t,e)=>{t||="/";const n=typeof t=="string"?t:"path"in t?uD(t):_n().resolve(t).href;if(e?.open){const{target:c="_blank",windowFeatures:l={}}=e.open,h=Object.entries(l).filter(([f,d])=>d!==void 0).map(([f,d])=>`${f.toLowerCase()}=${d}`).join(", ");return open(n,c,h),Promise.resolve()}const r=wr(n,{acceptRelative:!0}),s=e?.external||r;if(s){if(!e?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:c}=new URL(n,window.location.href);if(c&&lx(c))throw new Error(`Cannot navigate to a URL with '${c}' protocol.`)}const i=lD();if(!s&&i){if(e?.replace){if(typeof t=="string"){const{pathname:c,search:l,hash:h}=Xb(t);return{path:c,...l&&{query:Zm(l)},...h&&{hash:h},replace:!0}}return{...t,replace:!0}}return t}const o=_n(),a=Se();return s?(a._scope.stop(),e?.replace?location.replace(n):location.href=n,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e?.replace?o.replace(t):o.push(t)};function uD(t){return sf(t.path||"",t.query||{})+(t.hash||"")}const hA="__nuxt_error",af=()=>WT(Se().payload,"error"),hi=t=>{const e=Ti(t);try{const n=Se(),r=af();n.hooks.callHook("app:error",e),r.value||=e}catch{throw e}return e},hD=async(t={})=>{const e=Se(),n=af();e.callHook("app:error:cleared",t),t.redirect&&await _n().replace(t.redirect),n.value=void 0},fA=t=>!!t&&typeof t=="object"&&hA in t,Ti=t=>{const e=iD(t);return Object.defineProperty(e,hA,{value:!0,configurable:!1,writable:!1}),e};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let dA;const gl=t=>dA=t,pA=Symbol();function Sp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ec;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ec||(Ec={}));function fD(){const t=cl(!0),e=t.run(()=>Mt({}));let n=[],r=[];const s=jm({install(i){gl(s),s._a=i,i.provide(pA,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const mA=()=>{};function kE(t,e,n,r=mA){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&ll()&&eh(s),s}function co(t,...e){t.slice().forEach(n=>{n(...e)})}const dD=t=>t(),NE=Symbol(),kd=Symbol();function Pp(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Sp(s)&&Sp(r)&&t.hasOwnProperty(n)&&!nt(r)&&!Vr(r)?t[n]=Pp(s,r):t[n]=r}return t}const pD=Symbol();function mD(t){return!Sp(t)||!Object.prototype.hasOwnProperty.call(t,pD)}const{assign:hs}=Object;function gD(t){return!!(nt(t)&&t.effect)}function _D(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const h=Uk(n.state.value[t]);return hs(h,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=jm(gt(()=>{gl(n);const m=n._s.get(t);return o[d].call(m,m)})),f),{}))}return c=gA(t,l,e,n,r,!0),c}function gA(t,e,n={},r,s,i){let o;const a=hs({actions:{}},n),c={deep:!0};let l,h,f=[],d=[],m;const y=r.state.value[t];!i&&!y&&(r.state.value[t]={}),Mt({});let _;function v(T){let I;l=h=!1,typeof T=="function"?(T(r.state.value[t]),I={type:Ec.patchFunction,storeId:t,events:m}):(Pp(r.state.value[t],T),I={type:Ec.patchObject,payload:T,storeId:t,events:m});const P=_=Symbol();_r().then(()=>{_===P&&(l=!0)}),h=!0,co(f,I,r.state.value[t])}const b=i?function(){const{state:I}=n,P=I?I():{};this.$patch(O=>{hs(O,P)})}:mA;function R(){o.stop(),f=[],d=[],r._s.delete(t)}const E=(T,I="")=>{if(NE in T)return T[kd]=I,T;const P=function(){gl(r);const O=Array.from(arguments),N=[],k=[];function ge(fe){N.push(fe)}function Ie(fe){k.push(fe)}co(d,{args:O,name:P[kd],store:L,after:ge,onError:Ie});let ie;try{ie=T.apply(this&&this.$id===t?this:L,O)}catch(fe){throw co(k,fe),fe}return ie instanceof Promise?ie.then(fe=>(co(N,fe),fe)).catch(fe=>(co(k,fe),Promise.reject(fe))):(co(N,ie),ie)};return P[NE]=!0,P[kd]=I,P},A={_p:r,$id:t,$onAction:kE.bind(null,d),$patch:v,$reset:b,$subscribe(T,I={}){const P=kE(f,T,I.detached,()=>O()),O=o.run(()=>gn(()=>r.state.value[t],N=>{(I.flush==="sync"?h:l)&&T({storeId:t,type:Ec.direct,events:m},N)},hs({},c,I)));return P},$dispose:R},L=Er(A);r._s.set(t,L);const w=(r._a&&r._a.runWithContext||dD)(()=>r._e.run(()=>(o=cl()).run(()=>e({action:E}))));for(const T in w){const I=w[T];if(nt(I)&&!gD(I)||Vr(I))i||(y&&mD(I)&&(nt(I)?I.value=y[T]:Pp(I,y[T])),r.state.value[t][T]=I);else if(typeof I=="function"){const P=E(I,T);w[T]=P,a.actions[T]=I}}return hs(L,w),hs(De(L),w),Object.defineProperty(L,"$state",{get:()=>r.state.value[t],set:T=>{v(I=>{hs(I,T)})}}),r._p.forEach(T=>{hs(L,o.run(()=>T({store:L,app:r._a,pinia:r,options:a})))}),y&&i&&n.hydrate&&n.hydrate(L.$state,y),l=!0,h=!0,L}/*! #__NO_SIDE_EFFECTS__ */function v3(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const c=pl();return o=o||(c?Pt(pA,null):null),o&&gl(o),o=dA,o._s.has(t)||(s?gA(t,e,r,o):_D(t,r,o)),o._s.get(t)}return i.$id=t,i}function xE(t){const e=ED(t),n=new ArrayBuffer(e.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,e.charCodeAt(s));return n}const yD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ED(t){t.length%4===0&&(t=t.replace(/==?$/,""));let e="",n=0,r=0;for(let s=0;s<t.length;s++)n<<=6,n|=yD.indexOf(t[s]),r+=6,r===24&&(e+=String.fromCharCode((n&16711680)>>16),e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,e+=String.fromCharCode(n)):r===18&&(n>>=2,e+=String.fromCharCode((n&65280)>>8),e+=String.fromCharCode(n&255)),e}const wD=-1,ID=-2,vD=-3,TD=-4,bD=-5,AD=-6;function RD(t,e){return SD(JSON.parse(t),e)}function SD(t,e){if(typeof t=="number")return s(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function s(i,o=!1){if(i===wD)return;if(i===vD)return NaN;if(i===TD)return 1/0;if(i===bD)return-1/0;if(i===AD)return-0;if(o)throw new Error("Invalid input");if(i in r)return r[i];const a=n[i];if(!a||typeof a!="object")r[i]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const c=a[0],l=e?.[c];if(l)return r[i]=l(s(a[1]));switch(c){case"Date":r[i]=new Date(a[1]);break;case"Set":const h=new Set;r[i]=h;for(let m=1;m<a.length;m+=1)h.add(s(a[m]));break;case"Map":const f=new Map;r[i]=f;for(let m=1;m<a.length;m+=2)f.set(s(a[m]),s(a[m+1]));break;case"RegExp":r[i]=new RegExp(a[1],a[2]);break;case"Object":r[i]=Object(a[1]);break;case"BigInt":r[i]=BigInt(a[1]);break;case"null":const d=Object.create(null);r[i]=d;for(let m=1;m<a.length;m+=2)d[a[m]]=s(a[m+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const m=globalThis[c],y=a[1],_=xE(y),v=new m(_);r[i]=v;break}case"ArrayBuffer":{const m=a[1],y=xE(m);r[i]=y;break}default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(a.length);r[i]=c;for(let l=0;l<a.length;l+=1){const h=a[l];h!==ID&&(c[l]=s(h))}}else{const c={};r[i]=c;for(const l in a){const h=a[l];c[l]=s(h)}}return r[i]}return s(0)}const PD=new Set(["link","style","script","noscript"]),CD=new Set(["title","titleTemplate","script","style","noscript"]),DE=new Set(["base","meta","link","style","script","noscript"]),kD=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),ND=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),xD=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),DD=new Set(["templateParams","htmlAttrs","bodyAttrs"]),LD=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),OD=["name","property","http-equiv"],VD=new Set(["viewport","description","keywords","robots"]);function _A(t){const e=t.split(":");return e.length?LD.has(e[1]):!1}function Cp(t){const{props:e,tag:n}=t;if(ND.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const r of OD)if(e[r]!==void 0){const s=e[r],i=s.includes(":"),o=VD.has(s),c=!(i||o)&&t.key?`:key:${t.key}`:"";return`${n}:${s}${c}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(CD.has(n)){const r=t.textContent||t.innerHTML;if(r)return`${n}:content:${r}`}}function LE(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function ph(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let s;if(e&&(s=e(n,t)),Array.isArray(s))return s.map(i=>ph(i,e));if(s?.constructor===Object){const i={};for(const o of Object.keys(s))i[o]=ph(s[o],e,o);return i}return s}function MD(t,e){const n=t==="style"?new Map:new Set;function r(s){const i=s.trim();if(i)if(t==="style"){const[o,...a]=i.split(":").map(c=>c.trim());o&&a.length&&n.set(o,a.join(":"))}else i.split(" ").filter(Boolean).forEach(o=>n.add(o))}return typeof e=="string"?t==="style"?e.split(";").forEach(r):r(e):Array.isArray(e)?e.forEach(s=>r(s)):e&&typeof e=="object"&&Object.entries(e).forEach(([s,i])=>{i&&i!=="false"&&(t==="style"?n.set(s.trim(),i):r(s))}),n}function yA(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,r])=>{if(r===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=MD(n,r);return}if(xD.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let o=e.type;if(e.type||(o="application/json"),!o?.endsWith("json")&&o!=="speculationrules")return;e.type=o,t.props.type=o,t[n]=JSON.stringify(r)}else t[n]=r;return}const s=String(r),i=n.startsWith("data-");s==="true"||s===""?t.props[n]=i?s:!0:!r&&i&&s==="false"?t.props[n]="false":r!==void 0&&(t.props[n]=r)}),t):t}function FD(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},r=yA({tag:t,props:{}},n);return r.key&&PD.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function UD(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(s,i)=>{for(let o=0;o<e.length;o++)i=e[o](s,i);return i};t=n(void 0,t);const r=[];return t=ph(t,n),Object.entries(t||{}).forEach(([s,i])=>{if(i!==void 0)for(const o of Array.isArray(i)?i:[i])r.push(FD(s,o))}),r.flat()}const OE=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,VE={base:-10,title:10},BD={critical:-8,high:-1,low:2},ME={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},$D=/@import/,Ga=t=>t===""||t===!0;function jD(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const r=BD[e.tagPriority]||0,s=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:ME;if(e.tag in VE)n=VE[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=ME.meta[i])}else e.tag==="link"&&e.props.rel?n=s.link[e.props.rel]:e.tag==="script"?Ga(e.props.async)?n=s.script.async:e.props.src&&!Ga(e.props.defer)&&!Ga(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=s.script.sync:Ga(e.props.defer)&&e.props.src&&!Ga(e.props.async)&&(n=s.script.defer):e.tag==="style"&&(n=e.innerHTML&&$D.test(e.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function FE(t,e){const n=typeof e=="function"?e(t):e,r=n.key||String(t.plugins.size+1);t.plugins.get(r)||(t.plugins.set(r,n),t.hooks.addHooks(n.hooks||{}))}function qD(t={}){const e=nA();e.addHooks(t.hooks||{});const n=!t.document,r=new Map,s=new Map,i=new Set,o={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>FE(o,a),push(a,c){const l={...c||{}};delete l.head;const h=l._index??o._entryCount++,f={_i:h,input:a,options:l},d={_poll(m=!1){o.dirty=!0,!m&&i.add(h),e.callHook("entries:updated",o)},dispose(){r.delete(h)&&o.invalidate()},patch(m){(!l.mode||l.mode==="server"&&n||l.mode==="client"&&!n)&&(f.input=m,r.set(h,f),d._poll())}};return d.patch(a),d},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...o.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const d=i.values().next().value;i.delete(d);const m=r.get(d);if(m){const y={tags:UD(m.input,t.propResolvers||[]).map(_=>Object.assign(_,m.options)),entry:m};await e.callHook("entries:normalize",y),m._tags=y.tags.map((_,v)=>(_._w=jD(o,_),_._p=(m._i<<10)+v,_._d=Cp(_),_))}}let c=!1;a.entries.flatMap(d=>(d._tags||[]).map(m=>({...m,props:{...m.props}}))).sort(OE).reduce((d,m)=>{const y=String(m._d||m._p);if(!d.has(y))return d.set(y,m);const _=d.get(y);if((m?.tagDuplicateStrategy||(DD.has(m.tag)?"merge":null)||(m.key&&m.key===_.key?"merge":null))==="merge"){const b={..._.props};Object.entries(m.props).forEach(([R,E])=>b[R]=R==="style"?new Map([..._.props.style||new Map,...E]):R==="class"?new Set([..._.props.class||new Set,...E]):E),d.set(y,{...m,props:b})}else m._p>>10===_._p>>10&&m.tag==="meta"&&_A(y)?(d.set(y,Object.assign([...Array.isArray(_)?_:[_],m],m)),c=!0):(m._w===_._w?m._p>_._p:m?._w<_?._w)&&d.set(y,m);return d},a.tagMap);const l=a.tagMap.get("title"),h=a.tagMap.get("titleTemplate");if(o._title=l?.textContent,h){const d=h?.textContent;if(o._titleTemplate=d,d){let m=typeof d=="function"?d(l?.textContent):d;typeof m=="string"&&!o.plugins.has("template-params")&&(m=m.replace("%s",l?.textContent||"")),l?m===null?a.tagMap.delete("title"):a.tagMap.set("title",{...l,textContent:m}):(h.tag="title",h.textContent=m)}}a.tags=Array.from(a.tagMap.values()),c&&(a.tags=a.tags.flat().sort(OE)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const f=[];for(const d of a.tags){const{innerHTML:m,tag:y,props:_}=d;if(kD.has(y)&&!(Object.keys(_).length===0&&!d.innerHTML&&!d.textContent)&&!(y==="meta"&&!_.content&&!_["http-equiv"]&&!_.charset)){if(y==="script"&&m){if(_.type?.endsWith("json")){const v=typeof m=="string"?m:JSON.stringify(m);d.innerHTML=v.replace(/</g,"\\u003C")}else typeof m=="string"&&(d.innerHTML=m.replace(new RegExp(`</${y}`,"g"),`<\\/${y}`));d._d=Cp(d)}f.push(d)}}return f},invalidate(){for(const a of r.values())i.add(a._i);o.dirty=!0,e.callHook("entries:updated",o)}};return(t?.plugins||[]).forEach(a=>FE(o,a)),o.hooks.callHook("init",o),t.init?.forEach(a=>a&&o.push(a)),o}const HD=(t,e)=>nt(e)?Ok(e):e,ng="usehead";function WD(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(ng,t)}}.install}function KD(){if(pl()){const t=Pt(ng);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function GD(t,e={}){const n=e.head||KD();return n.ssr?n.push(t||{},e):zD(n,t,e)}function zD(t,e,n={}){const r=Mt(!1);let s;return N1(()=>{const o=r.value?{}:ph(e,HD);s?s.patch(o):s=t.push(o,n)}),Ws()&&(dl(()=>{s.dispose()}),ab(()=>{r.value=!0}),ob(()=>{r.value=!1})),s}function QD(t){const e=t||Se();return e.ssrContext?.head||e.runWithContext(()=>{if(pl()){const n=Pt(ng);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function EA(t,e={}){const n=QD(e.nuxt);return GD(t,{head:n,...e})}const JD="modulepreload",YD=function(t,e){return new URL(t,e).href},UE={},Ze=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=l(n.map(h=>{if(h=YD(h,r),h in UE)return;UE[h]=!0;const f=h.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!r)for(let _=o.length-1;_>=0;_--){const v=o[_];if(v.href===h&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${d}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":JD,f||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),f)return new Promise((_,v)=>{y.addEventListener("load",_),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};let Du,Lu;function XD(){return Du=$fetch(tg(`builds/meta/${Ki().app.buildId}.json`),{responseType:"json"}),Du.then(t=>{Lu=nD(t.matcher)}).catch(t=>{console.error("[nuxt] Error fetching app manifest.",t)}),Du}function cf(){return Du||XD()}async function rg(t){const e=typeof t=="string"?t:t.path;if(await cf(),!Lu)return console.error("[nuxt] Error creating app manifest matcher.",Lu),{};try{return cA({},...Lu.matchAll(e).reverse())}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function BE(t,e={}){if(!await IA(t))return null;const r=await eL(t,e);return await wA(r)||null}const ZD="_payload.json";async function eL(t,e={}){const n=new URL(t,"http://localhost");if(n.host!=="localhost"||wr(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=Ki(),s=e.hash||(e.fresh?Date.now():r.app.buildId),i=r.app.cdnURL,o=i&&await IA(t)?i:r.app.baseURL;return ki(o,n.pathname,ZD+(s?`?${s}`:""))}async function wA(t){const e=fetch(t,{cache:"force-cache"}).then(n=>n.text().then(vA));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function IA(t=of().path){const e=Se();return t=Ho(t),(await cf()).prerendered.includes(t)?!0:e.runWithContext(async()=>{const r=await rg({path:t});return!!r.prerender&&!r.redirect})}let ci=null;async function tL(){if(ci)return ci;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await vA(t.textContent||""),n=t.dataset.src?await wA(t.dataset.src):void 0;return ci={...e,...n,...window.__NUXT__},ci.config?.public&&(ci.config.public=Er(ci.config.public)),ci}async function vA(t){return await RD(t,Se()._payloadRevivers)}function TA(t,e){Se()._payloadRevivers[t]=e}const nL=Zx(()=>{TA("skipHydrate",t=>{})}),rL=[["NuxtError",t=>Ti(t)],["EmptyShallowRef",t=>Os(t==="_"?void 0:t==="0n"?BigInt(0):jo(t))],["EmptyRef",t=>Mt(t==="_"?void 0:t==="0n"?BigInt(0):jo(t))],["ShallowRef",t=>Os(t)],["ShallowReactive",t=>ir(t)],["Ref",t=>Mt(t)],["Reactive",t=>Er(t)]],sL=vt({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const[r,s]of rL)TA(r,s);Object.assign(t.payload,([e,n]=lr(()=>t.runWithContext(tL)),e=await e,n(),e)),delete window.__NUXT__}});async function sg(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async s=>{const i=new Map,o=new Promise(m=>{t.resolveTags().then(y=>{m(y.map(_=>{const v=i.get(_._d)||0,b={tag:_,id:(v?`${_._d}:${v}`:_._d)||LE(_),shouldRender:!0};return _._d&&_A(_._d)&&i.set(_._d,v+1),b}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const m of["body","head"]){const y=n[m]?.children;for(const _ of y){const v=_.tagName.toLowerCase();if(!DE.has(v))continue;const b=yA({tag:v,props:{}},{innerHTML:_.innerHTML,..._.getAttributeNames().reduce((R,E)=>(R[E]=_.getAttribute(E),R),{})||{}});if(b.key=_.getAttribute("data-hid")||void 0,b._d=Cp(b)||LE(b),a.elMap.has(b._d)){let R=1,E=b._d;for(;a.elMap.has(E);)E=`${b._d}:${R++}`;a.elMap.set(E,_)}else a.elMap.set(b._d,_)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function c(m,y,_){const v=`${m}:${y}`;a.sideEffects[v]=_,delete a.pendingSideEffects[v]}function l({id:m,$el:y,tag:_}){const v=_.tag.endsWith("Attrs");a.elMap.set(m,y),v||(_.textContent&&_.textContent!==y.textContent&&(y.textContent=_.textContent),_.innerHTML&&_.innerHTML!==y.innerHTML&&(y.innerHTML=_.innerHTML),c(m,"el",()=>{y?.remove(),a.elMap.delete(m)}));for(const b in _.props){if(!Object.prototype.hasOwnProperty.call(_.props,b))continue;const R=_.props[b];if(b.startsWith("on")&&typeof R=="function"){const A=y?.dataset;if(A&&A[`${b}fired`]){const L=b.slice(0,-5);R.call(y,new Event(L.substring(2)))}y.getAttribute(`data-${b}`)!==""&&((_.tag==="bodyAttrs"?n.defaultView:y).addEventListener(b.substring(2),R.bind(y)),y.setAttribute(`data-${b}`,""));continue}const E=`attr:${b}`;if(b==="class"){if(!R)continue;for(const A of R)v&&c(m,`${E}:${A}`,()=>y.classList.remove(A)),!y.classList.contains(A)&&y.classList.add(A)}else if(b==="style"){if(!R)continue;for(const[A,L]of R)c(m,`${E}:${A}`,()=>{y.style.removeProperty(A)}),y.style.setProperty(A,L)}else R!==!1&&R!==null&&(y.getAttribute(b)!==R&&y.setAttribute(b,R===!0?"":String(R)),v&&c(m,E,()=>y.removeAttribute(b)))}}const h=[],f={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await o;for(const m of d){const{tag:y,shouldRender:_,id:v}=m;if(_){if(y.tag==="title"){n.title=y.textContent,c("title","",()=>n.title=a.title);continue}m.$el=m.$el||a.elMap.get(v),m.$el?l(m):DE.has(y.tag)&&h.push(m)}}for(const m of h){const y=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),l(m),f[y]=f[y]||n.createDocumentFragment(),f[y].appendChild(m.$el)}for(const m of d)await t.hooks.callHook("dom:renderTag",m,n,c);f.head&&n.head.appendChild(f.head),f.bodyOpen&&n.body.insertBefore(f.bodyOpen,n.body.firstChild),f.bodyClose&&n.body.appendChild(f.bodyClose);for(const m in a.pendingSideEffects)a.pendingSideEffects[m]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:d}),s()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function iL(t={}){const e=t.domOptions?.render||sg;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return qD({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function oL(t,e){let n=0;return()=>{const r=++n;e(()=>{n===r&&t()})}}function aL(t={}){const e=iL({domOptions:{render:oL(()=>sg(e),n=>setTimeout(n,0))},...t});return e.install=WD(e),e}const cL={disableDefaults:!0},lL=vt({name:"nuxt:head",enforce:"pre",setup(t){const e=aL(cL);t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await sg(e)};e.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _o=typeof document<"u";function bA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function uL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&bA(t.default)}const Me=Object.assign;function Nd(t,e){const n={};for(const r in e){const s=e[r];n[r]=Qn(s)?s.map(t):t(s)}return n}const wc=()=>{},Qn=Array.isArray,AA=/#/g,hL=/&/g,fL=/\//g,dL=/=/g,pL=/\?/g,RA=/\+/g,mL=/%5B/g,gL=/%5D/g,SA=/%5E/g,_L=/%60/g,PA=/%7B/g,yL=/%7C/g,CA=/%7D/g,EL=/%20/g;function ig(t){return encodeURI(""+t).replace(yL,"|").replace(mL,"[").replace(gL,"]")}function wL(t){return ig(t).replace(PA,"{").replace(CA,"}").replace(SA,"^")}function kp(t){return ig(t).replace(RA,"%2B").replace(EL,"+").replace(AA,"%23").replace(hL,"%26").replace(_L,"`").replace(PA,"{").replace(CA,"}").replace(SA,"^")}function IL(t){return kp(t).replace(dL,"%3D")}function vL(t){return ig(t).replace(AA,"%23").replace(pL,"%3F")}function TL(t){return t==null?"":vL(t).replace(fL,"%2F")}function Mc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const bL=/\/$/,AL=t=>t.replace(bL,"");function xd(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=CL(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Mc(o)}}function RL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function $E(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function SL(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Wo(e.matched[r],n.matched[s])&&kA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Wo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!PL(t[n],e[n]))return!1;return!0}function PL(t,e){return Qn(t)?jE(t,e):Qn(e)?jE(e,t):t===e}function jE(t,e){return Qn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function CL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fc;(function(t){t.pop="pop",t.push="push"})(Fc||(Fc={}));var Ic;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ic||(Ic={}));function kL(t){if(!t)if(_o){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),AL(t)}const NL=/^[^#]+#/;function xL(t,e){return t.replace(NL,"#")+e}function DL(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const lf=()=>({left:window.scrollX,top:window.scrollY});function LL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=DL(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function qE(t,e){return(history.state?history.state.position-e:-1)+t}const Np=new Map;function OL(t,e){Np.set(t,e)}function VL(t){const e=Np.get(t);return Np.delete(t),e}let ML=()=>location.protocol+"//"+location.host;function NA(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),$E(c,"")}return $E(n,t)+r+s}function FL(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const m=NA(t,location),y=n.value,_=e.value;let v=0;if(d){if(n.value=m,e.value=d,o&&o===y){o=null;return}v=_?d.position-_.position:0}else r(m);s.forEach(b=>{b(n.value,y,{delta:v,type:Fc.pop,direction:v?v>0?Ic.forward:Ic.back:Ic.unknown})})};function c(){o=n.value}function l(d){s.push(d);const m=()=>{const y=s.indexOf(d);y>-1&&s.splice(y,1)};return i.push(m),m}function h(){const{history:d}=window;d.state&&d.replaceState(Me({},d.state,{scroll:lf()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function HE(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?lf():null}}function UL(t){const{history:e,location:n}=window,r={value:NA(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,h){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:ML()+t+c;try{e[h?"replaceState":"pushState"](l,"",d),s.value=l}catch(m){console.error(m),n[h?"replace":"assign"](d)}}function o(c,l){const h=Me({},e.state,HE(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,h,!0),r.value=c}function a(c,l){const h=Me({},s.value,e.state,{forward:c,scroll:lf()});i(h.current,h,!0);const f=Me({},HE(r.value,c,null),{position:h.position+1},l);i(c,f,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function BL(t){t=kL(t);const e=UL(t),n=FL(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Me({location:"",base:t,go:r,createHref:xL.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function $L(t){return typeof t=="string"||t&&typeof t=="object"}function xA(t){return typeof t=="string"||typeof t=="symbol"}const DA=Symbol("");var WE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(WE||(WE={}));function Ko(t,e){return Me(new Error,{type:t,[DA]:!0},e)}function Ar(t,e){return t instanceof Error&&DA in t&&(e==null||!!(t.type&e))}const KE="[^/]+?",jL={sensitive:!1,strict:!1,start:!0,end:!0},qL=/[.+*?^${}()[\]/\\]/g;function HL(t,e){const n=Me({},jL,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const h=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let m=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(qL,"\\$&"),m+=40;else if(d.type===1){const{value:y,repeatable:_,optional:v,regexp:b}=d;i.push({name:y,repeatable:_,optional:v});const R=b||KE;if(R!==KE){m+=10;try{new RegExp(`(${R})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${R}): `+A.message)}}let E=_?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;f||(E=v&&l.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),s+=E,m+=20,v&&(m+=-8),_&&(m+=-20),R===".*"&&(m+=-50)}h.push(m)}r.push(h)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const h=l.match(o),f={};if(!h)return null;for(let d=1;d<h.length;d++){const m=h[d]||"",y=i[d-1];f[y.name]=m&&y.repeatable?m.split("/"):m}return f}function c(l){let h="",f=!1;for(const d of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const m of d)if(m.type===0)h+=m.value;else if(m.type===1){const{value:y,repeatable:_,optional:v}=m,b=y in l?l[y]:"";if(Qn(b)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const R=Qn(b)?b.join("/"):b;if(!R)if(v)d.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);h+=R}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function WL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function LA(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=WL(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(GE(r))return 1;if(GE(s))return-1}return s.length-r.length}function GE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const KL={type:0,value:""},GL=/[a-zA-Z0-9_]/;function zL(t){if(!t)return[[]];if(t==="/")return[[KL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${l}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",h="";function f(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:GL.test(c)?d():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),s}function QL(t,e,n){const r=HL(zL(t.path),n),s=Me(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function JL(t,e){const n=[],r=new Map;e=YE({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,d,m){const y=!m,_=QE(f);_.aliasOf=m&&m.record;const v=YE(e,f),b=[_];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of A)b.push(QE(Me({},_,{components:m?m.record.components:_.components,path:L,aliasOf:m?m.record:_})))}let R,E;for(const A of b){const{path:L}=A;if(d&&L[0]!=="/"){const M=d.record.path,w=M[M.length-1]==="/"?"":"/";A.path=d.record.path+(L&&w+L)}if(R=QL(A,d,v),m?m.alias.push(R):(E=E||R,E!==R&&E.alias.push(R),y&&f.name&&!JE(R)&&o(f.name)),OA(R)&&c(R),_.children){const M=_.children;for(let w=0;w<M.length;w++)i(M[w],R,m&&m.children[w])}m=m||R}return E?()=>{o(E)}:wc}function o(f){if(xA(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function c(f){const d=ZL(f,n);n.splice(d,0,f),f.record.name&&!JE(f)&&r.set(f.record.name,f)}function l(f,d){let m,y={},_,v;if("name"in f&&f.name){if(m=r.get(f.name),!m)throw Ko(1,{location:f});v=m.record.name,y=Me(zE(d.params,m.keys.filter(E=>!E.optional).concat(m.parent?m.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&zE(f.params,m.keys.map(E=>E.name))),_=m.stringify(y)}else if(f.path!=null)_=f.path,m=n.find(E=>E.re.test(_)),m&&(y=m.parse(_),v=m.record.name);else{if(m=d.name?r.get(d.name):n.find(E=>E.re.test(d.path)),!m)throw Ko(1,{location:f,currentLocation:d});v=m.record.name,y=Me({},d.params,f.params),_=m.stringify(y)}const b=[];let R=m;for(;R;)b.unshift(R.record),R=R.parent;return{name:v,path:_,params:y,matched:b,meta:XL(b)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function zE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function QE(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:YL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function YL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function JE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function XL(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function YE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function ZL(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;LA(t,e[i])<0?r=i:n=i+1}const s=eO(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function eO(t){let e=t;for(;e=e.parent;)if(OA(e)&&LA(t,e)===0)return e}function OA({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function tO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(RA," "),o=i.indexOf("="),a=Mc(o<0?i:i.slice(0,o)),c=o<0?null:Mc(i.slice(o+1));if(a in e){let l=e[a];Qn(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function XE(t){let e="";for(let n in t){const r=t[n];if(n=IL(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qn(r)?r.map(i=>i&&kp(i)):[r&&kp(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function nO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Qn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const rO=Symbol(""),ZE=Symbol(""),uf=Symbol(""),og=Symbol(""),xp=Symbol("");function za(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ms(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(Ko(4,{from:n,to:e})):d instanceof Error?c(d):$L(d)?c(Ko(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},h=i(()=>t.call(r&&r.instances[s],e,n,l));let f=Promise.resolve(h);t.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function Dd(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(bA(c)){const h=(c.__vccOpts||c)[e];h&&i.push(ms(h,n,r,o,a,s))}else{let l=c();i.push(()=>l.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=uL(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&ms(m,n,r,o,a,s)()}))}}return i}function ew(t){const e=Pt(uf),n=Pt(og),r=gt(()=>{const c=Qe(t.to);return e.resolve(c)}),s=gt(()=>{const{matched:c}=r.value,{length:l}=c,h=c[l-1],f=n.matched;if(!h||!f.length)return-1;const d=f.findIndex(Wo.bind(null,h));if(d>-1)return d;const m=tw(c[l-2]);return l>1&&tw(h)===m&&f[f.length-1].path!==m?f.findIndex(Wo.bind(null,c[l-2])):d}),i=gt(()=>s.value>-1&&cO(n.params,r.value.params)),o=gt(()=>s.value>-1&&s.value===n.matched.length-1&&kA(n.params,r.value.params));function a(c={}){if(aO(c)){const l=e[Qe(t.replace)?"replace":"push"](Qe(t.to)).catch(wc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:gt(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function sO(t){return t.length===1?t[0]:t}const iO=Mn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ew,setup(t,{slots:e}){const n=Er(ew(t)),{options:r}=Pt(uf),s=gt(()=>({[nw(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[nw(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&sO(e.default(n));return t.custom?i:Et("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),oO=iO;function aO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function cO(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Qn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function tw(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nw=(t,e,n)=>t??e??n,lO=Mn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Pt(xp),s=gt(()=>t.route||r.value),i=Pt(ZE,0),o=gt(()=>{let l=Qe(i);const{matched:h}=s.value;let f;for(;(f=h[l])&&!f.components;)l++;return l}),a=gt(()=>s.value.matched[o.value]);Ps(ZE,gt(()=>o.value+1)),Ps(rO,a),Ps(xp,s);const c=Mt();return gn(()=>[c.value,a.value,t.name],([l,h,f],[d,m,y])=>{h&&(h.instances[f]=l,m&&m!==h&&l&&l===d&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),l&&h&&(!m||!Wo(h,m)||!d)&&(h.enterCallbacks[f]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=s.value,h=t.name,f=a.value,d=f&&f.components[h];if(!d)return rw(n.default,{Component:d,route:l});const m=f.props[h],y=m?m===!0?l.params:typeof m=="function"?m(l):m:null,v=Et(d,Me({},y,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return rw(n.default,{Component:v,route:l})||v}}});function rw(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const VA=lO;function uO(t){const e=JL(t.routes,t),n=t.parseQuery||tO,r=t.stringifyQuery||XE,s=t.history,i=za(),o=za(),a=za(),c=Os(Cn);let l=Cn;_o&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Nd.bind(null,z=>""+z),f=Nd.bind(null,TL),d=Nd.bind(null,Mc);function m(z,oe){let se,he;return xA(z)?(se=e.getRecordMatcher(z),he=oe):he=z,e.addRoute(he,se)}function y(z){const oe=e.getRecordMatcher(z);oe&&e.removeRoute(oe)}function _(){return e.getRoutes().map(z=>z.record)}function v(z){return!!e.getRecordMatcher(z)}function b(z,oe){if(oe=Me({},oe||c.value),typeof z=="string"){const V=xd(n,z,oe.path),q=e.resolve({path:V.path},oe),Y=s.createHref(V.fullPath);return Me(V,q,{params:d(q.params),hash:Mc(V.hash),redirectedFrom:void 0,href:Y})}let se;if(z.path!=null)se=Me({},z,{path:xd(n,z.path,oe.path).path});else{const V=Me({},z.params);for(const q in V)V[q]==null&&delete V[q];se=Me({},z,{params:f(V)}),oe.params=f(oe.params)}const he=e.resolve(se,oe),ve=z.hash||"";he.params=h(d(he.params));const Le=RL(r,Me({},z,{hash:wL(ve),path:he.path})),x=s.createHref(Le);return Me({fullPath:Le,hash:ve,query:r===XE?nO(z.query):z.query||{}},he,{redirectedFrom:void 0,href:x})}function R(z){return typeof z=="string"?xd(n,z,c.value.path):Me({},z)}function E(z,oe){if(l!==z)return Ko(8,{from:oe,to:z})}function A(z){return w(z)}function L(z){return A(Me(R(z),{replace:!0}))}function M(z){const oe=z.matched[z.matched.length-1];if(oe&&oe.redirect){const{redirect:se}=oe;let he=typeof se=="function"?se(z):se;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=R(he):{path:he},he.params={}),Me({query:z.query,hash:z.hash,params:he.path!=null?{}:z.params},he)}}function w(z,oe){const se=l=b(z),he=c.value,ve=z.state,Le=z.force,x=z.replace===!0,V=M(se);if(V)return w(Me(R(V),{state:typeof V=="object"?Me({},ve,V.state):ve,force:Le,replace:x}),oe||se);const q=se;q.redirectedFrom=oe;let Y;return!Le&&SL(r,he,se)&&(Y=Ko(16,{to:q,from:he}),$t(he,he,!0,!1)),(Y?Promise.resolve(Y):P(q,he)).catch(G=>Ar(G)?Ar(G,2)?G:zt(G):le(G,q,he)).then(G=>{if(G){if(Ar(G,2))return w(Me({replace:x},R(G.to),{state:typeof G.to=="object"?Me({},ve,G.to.state):ve,force:Le}),oe||q)}else G=N(q,he,!0,x,ve);return O(q,he,G),G})}function T(z,oe){const se=E(z,oe);return se?Promise.reject(se):Promise.resolve()}function I(z){const oe=Rn.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(z):z()}function P(z,oe){let se;const[he,ve,Le]=hO(z,oe);se=Dd(he.reverse(),"beforeRouteLeave",z,oe);for(const V of he)V.leaveGuards.forEach(q=>{se.push(ms(q,z,oe))});const x=T.bind(null,z,oe);return se.push(x),xt(se).then(()=>{se=[];for(const V of i.list())se.push(ms(V,z,oe));return se.push(x),xt(se)}).then(()=>{se=Dd(ve,"beforeRouteUpdate",z,oe);for(const V of ve)V.updateGuards.forEach(q=>{se.push(ms(q,z,oe))});return se.push(x),xt(se)}).then(()=>{se=[];for(const V of Le)if(V.beforeEnter)if(Qn(V.beforeEnter))for(const q of V.beforeEnter)se.push(ms(q,z,oe));else se.push(ms(V.beforeEnter,z,oe));return se.push(x),xt(se)}).then(()=>(z.matched.forEach(V=>V.enterCallbacks={}),se=Dd(Le,"beforeRouteEnter",z,oe,I),se.push(x),xt(se))).then(()=>{se=[];for(const V of o.list())se.push(ms(V,z,oe));return se.push(x),xt(se)}).catch(V=>Ar(V,8)?V:Promise.reject(V))}function O(z,oe,se){a.list().forEach(he=>I(()=>he(z,oe,se)))}function N(z,oe,se,he,ve){const Le=E(z,oe);if(Le)return Le;const x=oe===Cn,V=_o?history.state:{};se&&(he||x?s.replace(z.fullPath,Me({scroll:x&&V&&V.scroll},ve)):s.push(z.fullPath,ve)),c.value=z,$t(z,oe,se,x),zt()}let k;function ge(){k||(k=s.listen((z,oe,se)=>{if(!yn.listening)return;const he=b(z),ve=M(he);if(ve){w(Me(ve,{replace:!0,force:!0}),he).catch(wc);return}l=he;const Le=c.value;_o&&OL(qE(Le.fullPath,se.delta),lf()),P(he,Le).catch(x=>Ar(x,12)?x:Ar(x,2)?(w(Me(R(x.to),{force:!0}),he).then(V=>{Ar(V,20)&&!se.delta&&se.type===Fc.pop&&s.go(-1,!1)}).catch(wc),Promise.reject()):(se.delta&&s.go(-se.delta,!1),le(x,he,Le))).then(x=>{x=x||N(he,Le,!1),x&&(se.delta&&!Ar(x,8)?s.go(-se.delta,!1):se.type===Fc.pop&&Ar(x,20)&&s.go(-1,!1)),O(he,Le,x)}).catch(wc)}))}let Ie=za(),ie=za(),fe;function le(z,oe,se){zt(z);const he=ie.list();return he.length?he.forEach(ve=>ve(z,oe,se)):console.error(z),Promise.reject(z)}function Pe(){return fe&&c.value!==Cn?Promise.resolve():new Promise((z,oe)=>{Ie.add([z,oe])})}function zt(z){return fe||(fe=!z,ge(),Ie.list().forEach(([oe,se])=>z?se(z):oe()),Ie.reset()),z}function $t(z,oe,se,he){const{scrollBehavior:ve}=t;if(!_o||!ve)return Promise.resolve();const Le=!se&&VL(qE(z.fullPath,0))||(he||!se)&&history.state&&history.state.scroll||null;return _r().then(()=>ve(z,oe,Le)).then(x=>x&&LL(x)).catch(x=>le(x,z,oe))}const Ke=z=>s.go(z);let Ge;const Rn=new Set,yn={currentRoute:c,listening:!0,addRoute:m,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:_,resolve:b,options:t,push:A,replace:L,go:Ke,back:()=>Ke(-1),forward:()=>Ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:Pe,install(z){const oe=this;z.component("RouterLink",oO),z.component("RouterView",VA),z.config.globalProperties.$router=oe,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>Qe(c)}),_o&&!Ge&&c.value===Cn&&(Ge=!0,A(s.location).catch(ve=>{}));const se={};for(const ve in Cn)Object.defineProperty(se,ve,{get:()=>c.value[ve],enumerable:!0});z.provide(uf,oe),z.provide(og,ir(se)),z.provide(xp,c);const he=z.unmount;Rn.add(z),z.unmount=function(){Rn.delete(z),Rn.size<1&&(l=Cn,k&&k(),k=null,c.value=Cn,Ge=!1,fe=!1),he()}}};function xt(z){return z.reduce((oe,se)=>oe.then(()=>I(se)),Promise.resolve())}return yn}function hO(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Wo(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Wo(l,c))||s.push(c))}return[n,r,s]}function T3(){return Pt(uf)}function MA(t){return Pt(og)}const fO=/(:\w+)\([^)]+\)/g,dO=/(:\w+)[?+*]/g,pO=/:\w+/g,mO=(t,e)=>e.path.replace(fO,"$1").replace(dO,"$1").replace(pO,n=>t.params[n.slice(1)]?.toString()||""),Dp=(t,e)=>{const n=t.route.matched.find(s=>s.components?.default===t.Component.type),r=e??n?.meta.key??(n&&mO(t.route,n));return typeof r=="function"?r(t.route):r},gO=(t,e)=>({default:()=>t?Et(s1,t===!0?{}:t,e):e});function ag(t){return Array.isArray(t)?t:[t]}const sw={layout:"dashboard"},iw={layout:"default"},ow={layout:"auth"},aw={layout:"dashboard"},cw={layout:"auth"},lw={layout:"dashboard"},uw={layout:"dashboard"},hw={layout:"auth"},fw={layout:"dashboard"},Ld=[{name:"help___fr",path:"/help",meta:sw||{},component:()=>Ze(()=>import("./DJ2VyGXr.js"),__vite__mapDeps([0,1,2]),import.meta.url)},{name:"help___en",path:"/en/help",meta:sw||{},component:()=>Ze(()=>import("./DJ2VyGXr.js"),__vite__mapDeps([0,1,2]),import.meta.url)},{name:"index___fr",path:"/",meta:iw||{},component:()=>Ze(()=>import("./B-c2zy6i.js"),__vite__mapDeps([3,2,4]),import.meta.url)},{name:"index___en",path:"/en",meta:iw||{},component:()=>Ze(()=>import("./B-c2zy6i.js"),__vite__mapDeps([3,2,4]),import.meta.url)},{name:"login___fr",path:"/login",meta:ow||{},component:()=>Ze(()=>import("./CGMuy4_C.js"),__vite__mapDeps([5,2,6,7]),import.meta.url)},{name:"login___en",path:"/en/login",meta:ow||{},component:()=>Ze(()=>import("./CGMuy4_C.js"),__vite__mapDeps([5,2,6,7]),import.meta.url)},{name:"profile___fr",path:"/profile",meta:aw||{},component:()=>Ze(()=>import("./C5ouHAtW.js"),__vite__mapDeps([8,1,2]),import.meta.url)},{name:"profile___en",path:"/en/profile",meta:aw||{},component:()=>Ze(()=>import("./C5ouHAtW.js"),__vite__mapDeps([8,1,2]),import.meta.url)},{name:"register___fr",path:"/register",meta:cw||{},component:()=>Ze(()=>import("./2xPT9d73.js"),__vite__mapDeps([9,2,6,7]),import.meta.url)},{name:"register___en",path:"/en/register",meta:cw||{},component:()=>Ze(()=>import("./2xPT9d73.js"),__vite__mapDeps([9,2,6,7]),import.meta.url)},{name:"settings___fr",path:"/settings",meta:lw||{},component:()=>Ze(()=>import("./BOJQtPCZ.js"),__vite__mapDeps([10,2,1,11]),import.meta.url)},{name:"settings___en",path:"/en/settings",meta:lw||{},component:()=>Ze(()=>import("./BOJQtPCZ.js"),__vite__mapDeps([10,2,1,11]),import.meta.url)},{name:"dashboard___fr",path:"/dashboard",meta:uw||{},component:()=>Ze(()=>import("./Bj-8qcqT.js"),__vite__mapDeps([12,2,13,7,14,15,16]),import.meta.url)},{name:"dashboard___en",path:"/en/dashboard",meta:uw||{},component:()=>Ze(()=>import("./Bj-8qcqT.js"),__vite__mapDeps([12,2,13,7,14,15,16]),import.meta.url)},{name:"forgot-password___fr",path:"/forgot-password",meta:hw||{},component:()=>Ze(()=>import("./449Gn2Gz.js"),__vite__mapDeps([17,6,7]),import.meta.url)},{name:"forgot-password___en",path:"/en/forgot-password",meta:hw||{},component:()=>Ze(()=>import("./449Gn2Gz.js"),__vite__mapDeps([17,6,7]),import.meta.url)},{name:"select-checklist___fr",path:"/select-checklist",meta:fw||{},component:()=>Ze(()=>import("./BWArD8UC.js"),__vite__mapDeps([18,2,13,7]),import.meta.url)},{name:"select-checklist___en",path:"/en/select-checklist",meta:fw||{},component:()=>Ze(()=>import("./BWArD8UC.js"),__vite__mapDeps([18,2,13,7]),import.meta.url)}],FA=(t,e)=>({default:()=>t?Et(cN,t===!0?{}:t,e):e.default?.()}),_O=/(:\w+)\([^)]+\)/g,yO=/(:\w+)[?+*]/g,EO=/:\w+/g;function dw(t){const e=t?.meta.key??t.path.replace(_O,"$1").replace(yO,"$1").replace(EO,n=>t.params[n.slice(1)]?.toString()||"");return typeof e=="function"?e(t):e}function wO(t,e){return t===e||e===Cn?!1:dw(t)!==dw(e)?!0:!t.matched.every((r,s)=>r.components&&r.components.default===e.matched[s]?.components?.default)}function IO(t,e=!1){if(t){if(t.nodeName==="#comment"&&t.nodeValue==="[")return UA(t,[],e);if(e){const n=t.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(r=>{r.innerHTML=""}),[n.outerHTML]}return[t.outerHTML]}}function UA(t,e=[],n=!1){if(t&&t.nodeName){if(TO(t))return e;if(!vO(t)){const r=t.cloneNode(!0);n&&r.querySelectorAll?.("[data-island-slot]").forEach(s=>{s.innerHTML=""}),e.push(r.outerHTML)}UA(t.nextSibling,e,n)}return e}function b3(t,e){const n=t?IO(t):[e];return n?G1(n.join(""),n.length):Et("div")}function vO(t){return t.nodeName==="#comment"&&t.nodeValue==="["}function TO(t){return t.nodeName==="#comment"&&t.nodeValue==="]"}const bO={scrollBehavior(t,e,n){const r=Se(),s=_n().options?.scrollBehaviorType??"auto";if(t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:BA(t.hash),behavior:s}:!1;if((typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop)===!1)return!1;const o=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(e===Cn){a(pw(t,e,n,s));return}r.hooks.hookOnce(o,()=>{requestAnimationFrame(()=>a(pw(t,e,n,s)))})})}};function BA(t){try{const e=document.querySelector(t);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function pw(t,e,n,r){if(n)return n;const s=wO(t,e);return t.hash?{el:t.hash,top:BA(t.hash),behavior:s?r:"instant"}:{left:0,top:0}}const AO={hashMode:!1,scrollBehaviorType:"auto"},is={...AO,...bO},RO=async(t,e)=>{let n,r;if(!t.meta?.validate)return;const s=([n,r]=lr(()=>Promise.resolve(t.meta.validate(t))),n=await n,r(),n);if(s===!0)return;const i=Ti({fatal:!0,statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}});return typeof window<"u"&&window.history.pushState({},"",e.fullPath),i},SO=t=>{if(t.path.startsWith("/dashboard")||t.path.startsWith("/profile")||t.path.startsWith("/settings")||t.path.startsWith("/help")){let n=null;for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);if(s&&s.startsWith("firebase:authUser:")&&s.endsWith(":[DEFAULT]")){n=localStorage.getItem(s);break}}if(!n)return yc("/login");try{if(!JSON.parse(n).uid)return yc("/login")}catch{return yc("/login")}}},PO=async t=>{let e,n;const r=([e,n]=lr(()=>rg({path:t.path})),e=await e,n(),e);if(r.redirect)return wr(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},CO=[RO,SO,PO],Lp={};function kO(t,e,n){const{pathname:r,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){const l=i.includes(t.slice(o))?t.slice(o).length:1;let h=i.slice(l);return h[0]!=="/"&&(h="/"+h),wE(h,"")}const a=wE(r,t),c=!n||dx(a,n)?a:n;return c+(c.includes("?")?"":s)+i}const NO=vt({name:"nuxt:router",enforce:"pre",async setup(t){let e,n,r=Ki().app.baseURL;const s=is.history?.(r)??BL(r),i=is.routes?([e,n]=lr(()=>is.routes(Ld)),e=await e,n(),e??Ld):Ld;let o;const a=uO({...is,scrollBehavior:(v,b,R)=>{if(b===Cn){o=R;return}if(is.scrollBehavior){if(a.options.scrollBehavior=is.scrollBehavior,"scrollRestoration"in window.history){const E=a.beforeEach(()=>{E(),window.history.scrollRestoration="manual"})}return is.scrollBehavior(v,Cn,o||R)}},history:s,routes:i});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const c=Os(a.currentRoute.value);a.afterEach((v,b)=>{c.value=b}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const l=kO(r,window.location,t.payload.path),h=Os(a.currentRoute.value),f=()=>{h.value=a.currentRoute.value};t.hook("page:finish",f),a.afterEach((v,b)=>{v.matched[0]?.components?.default===b.matched[0]?.components?.default&&f()});const d={};for(const v in h.value)Object.defineProperty(d,v,{get:()=>h.value[v],enumerable:!0});t._route=ir(d),t._middleware||={global:[],named:{}};const m=af();a.afterEach(async(v,b,R)=>{delete t._processingMiddleware,!t.isHydrating&&m.value&&await t.runWithContext(hD),R&&await t.callHook("page:loading:end")});try{[e,n]=lr(()=>a.isReady()),await e,n()}catch(v){[e,n]=lr(()=>t.runWithContext(()=>hi(v))),await e,n()}const y=l!==a.currentRoute.value.fullPath?a.resolve(l):a.currentRoute.value;f();const _=t.payload.state._layout;return a.beforeEach(async(v,b)=>{await t.callHook("page:loading:start"),v.meta=Er(v.meta),t.isHydrating&&_&&!Br(v.meta.layout)&&(v.meta.layout=_),t._processingMiddleware=!0;{const R=new Set([...CO,...t._middleware.global]);for(const E of v.matched){const A=E.meta.middleware;if(A)for(const L of ag(A))R.add(L)}{const E=await t.runWithContext(()=>rg({path:v.path}));if(E.appMiddleware)for(const A in E.appMiddleware)E.appMiddleware[A]?R.add(A):R.delete(A)}for(const E of R){const A=typeof E=="string"?t._middleware.named[E]||await Lp[E]?.().then(L=>L.default||L):E;if(!A)throw new Error(`Unknown route middleware: '${E}'.`);try{const L=await t.runWithContext(()=>A(v,b));if(!t.payload.serverRendered&&t.isHydrating&&(L===!1||L instanceof Error)){const M=L||Ti({statusCode:404,statusMessage:`Page Not Found: ${l}`});return await t.runWithContext(()=>hi(M)),!1}if(L===!0)continue;if(L===!1)return L;if(L)return fA(L)&&L.fatal&&await t.runWithContext(()=>hi(L)),L}catch(L){const M=Ti(L);return M.fatal&&await t.runWithContext(()=>hi(M)),M}}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")}),a.afterEach(async(v,b)=>{v.matched.length===0&&await t.runWithContext(()=>hi(Ti({statusCode:404,fatal:!1,statusMessage:`Page not found: ${v.fullPath}`,data:{path:v.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in y&&(y.name=void 0),await a.replace({...y,force:!0}),a.options.scrollBehavior=is.scrollBehavior}catch(v){await t.runWithContext(()=>hi(v))}}),{provide:{router:a}}}}),mw=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),A3=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),cg=t=>{const e=Se();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{mw(()=>t())}):mw(()=>t())},xO=vt({name:"nuxt:payload",setup(t){const e=new Set;_n().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await BE(n.path);if(s){for(const i of e)delete t.static.data[i];for(const i in s.data)i in t.static.data||e.add(i),t.static.data[i]=s.data[i]}}),cg(()=>{t.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await BE(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(cf,1e3)})}}),DO=vt(()=>{const t=_n();cg(()=>{t.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),LO=vt(t=>{let e;async function n(){const r=await cf();e&&clearTimeout(e),e=setTimeout(n,RE);try{const s=await $fetch(tg("builds/latest.json")+`?${Date.now()}`);s.id!==r.id&&t.hooks.callHook("app:manifest:update",s)}catch{}}cg(()=>{e=setTimeout(n,RE)})});function OO(t={}){const e=t.path||window.location.pathname;let n={};try{n=jo(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||n?.path!==e||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Se().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const VO=vt({name:"nuxt:chunk-reload",setup(t){const e=_n(),n=Ki(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:i})=>{r.add(i)});function s(i){const o=ki(n.app.baseURL,i.fullPath);OO({path:o,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(s)}),e.onError((i,o)=>{r.has(i)&&s(o)})}});function gw(t){return typeof t=="string"?`'${t}'`:new MO().serialize(t)}const MO=function(){class t{#e=new Map;compare(n,r){const s=typeof n,i=typeof r;return s==="string"&&i==="string"?n.localeCompare(r):s==="number"&&i==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const s=n.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(n))}serializeBuiltInType(n,r){const s=this["$"+n];if(s)return s.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const s=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let i=`${n}{`;for(let o=0;o<s.length;o++){const[a,c]=s[o];i+=`${this.serialize(a,!0)}:${this.serialize(c)}`,o<s.length-1&&(i+=",")}return i+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let s=0;s<n.length;s++)r+=this.serialize(n[s]),s<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,s)=>this.compare(r,s)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t}();function FO(t,e){return t===e||gw(t)===gw(e)}const UO="$s";function $A(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,r]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const s=UO+n,i=Se(),o=WT(i.payload.state,s);if(o.value===void 0&&r){const a=r();if(nt(a))return i.payload.state[s]=a,a;o.value=a}return o}function jA(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");const n={},r=e||{},s=r.decode||BO;let i=0;for(;i<t.length;){const o=t.indexOf("=",i);if(o===-1)break;let a=t.indexOf(";",i);if(a===-1)a=t.length;else if(a<o){i=t.lastIndexOf(";",o-1)+1;continue}const c=t.slice(i,o).trim();if(r?.filter&&!r?.filter(c)){i=a+1;continue}if(n[c]===void 0){let l=t.slice(o+1,a).trim();l.codePointAt(0)===34&&(l=l.slice(1,-1)),n[c]=$O(l,s)}i=a+1}return n}function BO(t){return t.includes("%")?decodeURIComponent(t):t}function $O(t,e){try{return e(t)}catch{return t}}const mu=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function _w(t,e,n){const r=n||{},s=r.encode||encodeURIComponent;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!mu.test(t))throw new TypeError("argument name is invalid");const i=s(e);if(i&&!mu.test(i))throw new TypeError("argument val is invalid");let o=t+"="+i;if(r.maxAge!==void 0&&r.maxAge!==null){const a=r.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!mu.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!mu.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!jO(r.expires)||Number.isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":{o+="; Priority=Low";break}case"medium":{o+="; Priority=Medium";break}case"high":{o+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:{o+="; SameSite=Strict";break}case"lax":{o+="; SameSite=Lax";break}case"strict":{o+="; SameSite=Strict";break}case"none":{o+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o}function jO(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function Un(t){if(typeof t!="object")return t;var e,n,r=Object.prototype.toString.call(t);if(r==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){n=new t.constructor;for(e in t)t.hasOwnProperty(e)&&n[e]!==t[e]&&(n[e]=Un(t[e]))}else{n={};for(e in t)e==="__proto__"?Object.defineProperty(n,e,{value:Un(t[e]),configurable:!0,enumerable:!0,writable:!0}):n[e]=Un(t[e])}return n}if(r==="[object Array]"){for(e=t.length,n=Array(e);e--;)n[e]=Un(t[e]);return n}return r==="[object Set]"?(n=new Set,t.forEach(function(s){n.add(Un(s))}),n):r==="[object Map]"?(n=new Map,t.forEach(function(s,i){n.set(Un(i),Un(s))}),n):r==="[object Date]"?new Date(+t):r==="[object RegExp]"?(n=new RegExp(t.source,t.flags),n.lastIndex=t.lastIndex,n):r==="[object DataView]"?new t.constructor(Un(t.buffer)):r==="[object ArrayBuffer]"?t.slice(0):r.slice(-6)==="Array]"?new t.constructor(t):t}const qO={path:"/",watch:!0,decode:t=>jo(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},gu=window.cookieStore;function HO(t,e){const n={...qO,...e};n.filter??=l=>l===t;const r=yw(n)||{};let s;n.maxAge!==void 0?s=n.maxAge*1e3:n.expires&&(s=n.expires.getTime()-Date.now());const i=s!==void 0&&s<=0,o=i||r[t]===void 0||r[t]===null,a=Un(i?void 0:r[t]??n.default?.()),c=s&&!i?GO(a,s,n.watch&&n.watch!=="shallow"):Mt(a);{let l=null;try{!gu&&typeof BroadcastChannel<"u"&&(l=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const h=(y=!1)=>{!y&&(n.readonly||FO(c.value,r[t]))||(KO(t,c.value,n),r[t]=Un(c.value),l?.postMessage({value:n.encode(c.value)}))},f=y=>{const _=y.refresh?yw(n)?.[t]:n.decode(y.value);d=!0,c.value=_,r[t]=Un(_),_r(()=>{d=!1})};let d=!1;const m=!!ll();if(m&&eh(()=>{d=!0,h(),l?.close()}),gu){const y=_=>{const v=_.changed.find(R=>R.name===t),b=_.deleted.find(R=>R.name===t);v&&f({value:v.value}),b&&f({value:null})};gu.addEventListener("change",y),m&&eh(()=>gu.removeEventListener("change",y))}else l&&(l.onmessage=({data:y})=>f(y));n.watch&&gn(c,()=>{d||h()},{deep:n.watch!=="shallow"}),o&&h(o)}return c}function yw(t={}){return jA(document.cookie,t)}function WO(t,e,n={}){return e==null?_w(t,e,{...n,maxAge:-1}):_w(t,e,n)}function KO(t,e,n={}){document.cookie=WO(t,e,n)}const Ew=2147483647;function GO(t,e,n){let r,s,i=0;const o=n?Mt(t):{value:t};return ll()&&eh(()=>{s?.(),clearTimeout(r)}),Fk((a,c)=>{n&&(s=gn(o,c));function l(){i=0,clearTimeout(r);const h=e-i,f=h<Ew?h:Ew;r=setTimeout(()=>{if(i+=f,i<e)return l();o.value=void 0,c()},f)}return{get(){return a(),o.value},set(h){l(),o.value=h,c()}}})}function zO(t){if(t?.__asyncLoader&&!t.__asyncResolved)return t.__asyncLoader()}async function QO(t,e=_n()){const{path:n,matched:r}=e.resolve(t);if(!r.length||(e._routePreloaded||=new Set,e._routePreloaded.has(n)))return;const s=e._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>QO(t,e));e._routePreloaded.add(n);const i=r.map(o=>o.components?.default).filter(o=>typeof o=="function");for(const o of i){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}function qA(t){return new URL(window.location.href)}const JO={nuxt:{},icon:{provider:"iconify",class:"icon",size:"24px",aliases:{nuxt:"logos:nuxt-icon"},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:!0,cssSelectorPrefix:"i-",cssWherePseudo:!0,mode:"css",attrs:{"aria-hidden":!0},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency","cryptocurrency-color","dashicons","devicon","devicon-plain","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","pixelarticons","prime","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline","streamline-emojis","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500}},YO=rD(JO);function XO(){const t=Se();return t._appConfig||=Er(YO),t._appConfig}const ZO=vt({name:"pinia",setup(t){const e=fD();return t.vueApp.use(e),gl(e),t.payload&&t.payload.pinia&&(e.state.value=t.payload.pinia),{provide:{pinia:e}}}}),eV=ko(()=>Ze(()=>import("./V69RRtU6.js"),[],import.meta.url).then(t=>t.default||t.default||t)),tV=[["Icon",eV]],nV=vt({name:"nuxt:global-components",setup(t){for(const[e,n]of tV)t.vueApp.component(e,n),t.vueApp.component("Lazy"+e,n)}}),vs={auth:ko(()=>Ze(()=>import("./CHzgH_-n.js"),__vite__mapDeps([19,2,6,20]),import.meta.url).then(t=>t.default||t)),dashboard:ko(()=>Ze(()=>import("./DLMl8wZk.js"),__vite__mapDeps([21,22,2,13,20,7,6,14,15]),import.meta.url).then(t=>t.default||t)),default:ko(()=>Ze(()=>import("./D-rdky6B.js"),__vite__mapDeps([23,22,2,20,11]),import.meta.url).then(t=>t.default||t))},rV=vt({name:"nuxt:prefetch",setup(t){const e=_n();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof vs[r]=="function"&&await vs[r]()})}),t.hooks.hook("link:prefetch",n=>{if(wr(n))return;const r=e.resolve(n);if(!r)return;const s=r.meta.layout;let i=ag(r.meta.middleware);i=i.filter(o=>typeof o=="string");for(const o of i)typeof Lp[o]=="function"&&Lp[o]();typeof s=="string"&&s in vs&&zO(vs[s])})}});/*!
  * shared v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function sV(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const mh=typeof window<"u",Ks=(t,e=!1)=>e?Symbol.for(t):Symbol(t),iV=(t,e,n)=>oV({l:t,k:e,s:n}),oV=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Rt=t=>typeof t=="number"&&isFinite(t),aV=t=>ff(t)==="[object Date]",gh=t=>ff(t)==="[object RegExp]",hf=t=>xe(t)&&Object.keys(t).length===0,wt=Object.assign,cV=Object.create,Ye=(t=null)=>cV(t);function ww(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Iw(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lV(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,s,i)=>`${s}="${Iw(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,s,i)=>`${s}='${Iw(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const uV=Object.prototype.hasOwnProperty;function jn(t,e){return uV.call(t,e)}const mt=Array.isArray,tt=t=>typeof t=="function",ue=t=>typeof t=="string",ft=t=>typeof t=="boolean",Ve=t=>t!==null&&typeof t=="object",hV=t=>Ve(t)&&tt(t.then)&&tt(t.catch),HA=Object.prototype.toString,ff=t=>HA.call(t),xe=t=>ff(t)==="[object Object]",fV=t=>t==null?"":mt(t)||xe(t)&&t.toString===HA?JSON.stringify(t,null,2):String(t);function lg(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const _u=t=>!Ve(t)||mt(t);function xo(t,e){if(_u(t)||_u(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Ve(r[i])&&!Ve(s[i])&&(s[i]=Array.isArray(r[i])?[]:Ye()),_u(s[i])||_u(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}function dV(t,e=t.getCurrentLanguage(),n=t.getCurrentDirection()){const r={htmlAttrs:{},link:[],meta:[]};if(t.dir&&(r.htmlAttrs.dir=n),t.lang&&e&&(r.htmlAttrs.lang=e),t.seo){const s=mV(t);r.link=r.link.concat(s,_V(t)),r.meta=r.meta.concat(yV(t),EV(t),wV(t,t.locales.map(i=>i.language||i.code)))}return r}function pV(t){const e=new Map;for(const n of t){if(!n.language){console.warn("Locale `language` ISO code is required to generate alternate link");continue}const[r,s]=n.language.split("-");r&&s&&(n.isCatchallLocale||!e.has(r))&&e.set(r,n),e.set(n.language,n)}return e}function mV(t){if(!t.hreflangLinks)return[];const e=[],n=pV(t.locales);for(const[r,s]of n.entries()){const i=gV(r,s,t);i&&(e.push(i),t.defaultLocale&&t.defaultLocale===s.code&&e[0].hreflang!=="x-default"&&e.unshift({[t.key]:"i18n-xd",rel:"alternate",href:i.href,hreflang:"x-default"}))}return e}function gV(t,e,n,r=n.strictCanonicals?n.getRouteWithoutQuery():void 0){const s=n.getLocalizedRoute(e.code,r);if(!s)return;const i=sf(wr(s)?s:ki(n.baseUrl,s),n.strictCanonicals?KA(n):{});return{[n.key]:`i18n-alt-${t}`,rel:"alternate",href:i,hreflang:t}}function WA(t,e=t.getCurrentRoute()){const n=t.getLocaleRoute(Object.assign({},e,{path:void 0,name:t.getRouteBaseName(e)}));return n?sf(ki(t.baseUrl,n.path),KA(t)):""}function _V(t,e=WA(t)){return e?[{[t.key]:"i18n-can",rel:"canonical",href:e}]:[]}function KA(t,e=t.getCurrentRoute()){const r=t.getLocaleRoute(Object.assign({},e,{path:void 0,name:t.getRouteBaseName(e)}))?.query??{},s={};for(const i of t.canonicalQueries.filter(o=>o in r)){s[i]??=[];for(const o of IV(r[i]))s[i].push(o||"")}return s}function yV(t,e=WA(t)){return e?[{[t.key]:"i18n-og-url",property:"og:url",content:e}]:[]}function EV(t,e=t.getCurrentLanguage()){return e?[{[t.key]:"i18n-og",property:"og:locale",content:GA(e)}]:[]}function wV(t,e,n=t.getCurrentLanguage()){return e.filter(s=>s&&s!==n).map(s=>({[t.key]:`i18n-og-alt-${s}`,property:"og:locale:alternate",content:GA(s)}))}function GA(t=""){return t.replace(/-/g,"_")}function IV(t){return Array.isArray(t)?t:[t]}function _h(t,e,n=t.getLocale()){if(ue(e)&&wr(e,{acceptRelative:!0}))return e;try{return QA(t,e,n).fullPath}catch{return""}}function zA(t,e,n=t.getLocale()){try{return QA(t,e,n)}catch{return}}function vV(t){if(!ue(t))return wt({},t);if(t[0]==="/"){const{pathname:e,search:n,hash:r}=vp(t);return{path:e,query:Zm(n),hash:r}}return{name:t}}function QA(t,e,n){const r=vV(e),s=t.router.resolve(t.resolveLocalizedRouteObject(r,n));return s.name?s:t.router.resolve(e)}function ug(t,e,n=t.router.currentRoute.value){const r=t.getRouteBaseName(n);if(!r)return"";const s={name:r,params:wt({},n.params,t.getLocalizedDynamicParams(e)),fullPath:n.fullPath,query:n.query,hash:n.hash,path:n.path,meta:n.meta},i=_h(t,s,e);return t.afterSwitchLocalePath(i,e)}function TV(t,e,n=t.getLocale(),r=t.getLocales(),s=t.getBaseUrl()){const i=r.find(a=>a.code===n)||{},o=typeof e.seo=="object"&&e.seo?.canonicalQueries||[];return s||console.warn("I18n `baseUrl` is required to generate valid SEO tag links."),{...e,key:"id",locales:r,baseUrl:s,canonicalQueries:o,hreflangLinks:t.routingOptions.hreflangLinks,defaultLocale:t.routingOptions.defaultLocale,strictCanonicals:t.routingOptions.strictCanonicals,getRouteBaseName:t.getRouteBaseName,getCurrentRoute:()=>t.router.currentRoute.value,getCurrentLanguage:()=>i.language,getCurrentDirection:()=>i.dir||"ltr",getLocaleRoute:a=>zA(t,a),getLocalizedRoute:(a,c)=>ug(t,a,c),getRouteWithoutQuery:()=>{try{return wt({},t.router.resolve({query:{}}),{meta:t.router.currentRoute.value.meta})}catch{return}}}}function bV(t,{dir:e=!0,lang:n=!0,seo:r=!0}){return dV(TV(t,{dir:e,lang:n,seo:r}))}function AV(t=0){return e=>{const s=(typeof e=="string"?e:e.pathname).split("?")[0].split("/");return s[0]===""&&s.shift(),s.length>t&&s[t]||""}}const df="___",RV="default",R3=df+RV;function JA(t){return typeof t=="string"?t:t!=null?t.toString():""}function Od(t){return JA(typeof t=="object"?t?.name:t).split(df)[0]}function SV(t,e,n){return t+df+e}const PV=AV(0),YA=t=>PV(t),CV=t=>t.split(df).at(1)??"";function kV(t){return String(typeof t!="object"?t:t?.name||t?.path||"")}function NV(t){const e=kV(t);return e[0]==="/"?YA(e):CV(e)}function xV(t){return(e,n)=>SV(JA(e),n)}function DV(t){return e=>t.resolve(e)}const Uc=["fr","en"],yh={fr:[{key:"locale_fr_46json_aa7b9754",load:()=>Ze(()=>import("./DLD6dpAC.js"),[],import.meta.url),cache:!0}],en:[{key:"locale_en_46json_2ae1a61e",load:()=>Ze(()=>import("./C26TrvWl.js"),[],import.meta.url),cache:!0}]},LV=[],_l=[{code:"fr",name:"Français",language:void 0},{code:"en",name:"English",language:void 0}],XA=new Map;async function OV(t){const e=Se(),n={messages:{}};for(const r of t){const s=await r().then(o=>o.default),i=tt(s)?await e.runWithContext(()=>s()):s;xo(i,n)}return n.fallbackLocale??=!1,n}const VV=t=>ff(t)==="[object Module]",MV=t=>VV(t)||!1;async function FV(t,e){const n=Se();try{const r=await n.runWithContext(e.load).then(s=>MV(s)?s.default:s);return tt(r)?await n.runWithContext(()=>r(t)):r}catch(r){throw new Error(`Failed loading locale (${t}): `+r.message)}}async function UV(t,e=[]){const n=Se(),r={};for(const s of e){const i=BV(s),o=i||await n.runWithContext(async()=>await FV(t,s));!i&&s.cache!==!1&&XA.set(s.key,{ttl:Date.now()+86400*1e3,value:o}),xo(o,r)}return r}function BV(t){if(t.cache===!1)return;const e=XA.get(t.key);if(e!=null)return e.ttl>Date.now()?e.value:void 0}function hg(t){return t!=null&&"global"in t&&"mode"in t?t.global:t}function yu(t){const e=hg(t);return"__composer"in e?e.__composer:e}function pf(t){return t?t.$config.public.i18n:Ki().public.i18n}function yl(t){const e=pf(t).detectBrowserLanguage,n=e||{};return{...n,enabled:!!e,cookieKey:n.cookieKey||"i18n_redirected"}}function $V(t){if(t)return{path:"/"+(ue(t)?t:t.path).replace(/^\//,""),code:!ue(t)&&t.statusCode||302}}function jV(t){return Array.isArray(t)?t:[t]}function qV(t,e,n){const r=(i="")=>i.replace(/https?:\/\//,""),s=t.filter(i=>r(i.domain)===e||jV(i.domains).includes(e));return s.length<=1?s[0]?.code:s.find(i=>i.code===n)?.code||s.find(i=>i.defaultForDomains?.includes(e)??i.domainDefault)?.code}function HV(t,e,n){const r=_l.find(i=>i.code===n),s=t?.[n]?.domain||r?.domain||r?.domains?.find(i=>i===e.host);if(s)return wr(s,{strict:!0})?s:e.protocol+"//"+s}function WV(t){const e={};for(const n of Uc){const r=KV(t,[n]),s=GV(n,r);e[n]={fallbacks:r,cacheable:s}}return e}function KV(t,e){if(t===!1)return[];if(mt(t))return t;let n=[];if(ue(t))return e.every(s=>s!==t)&&n.push(t),n;const r=[...e,"default"];for(const s of r)s in t&&(n=[...n,...t[s].filter(Boolean)]);return n}function vw(t){return yh[t]!=null&&yh[t].every(e=>e.cache!==!1)}function GV(t,e){return vw(t)&&e.every(n=>vw(n))}function zV(t){return _l.find(e=>!!e.defaultForDomains?.includes(t))?.code}const bi=t=>Uc.includes(t||""),Tw=t=>bi(t)?t:void 0,ZA=()=>$A("i18n:cached-locale-configs",()=>{}),eR=()=>$A("i18n:resolved-locale",()=>"");function QV({cookieCrossOrigin:t,cookieDomain:e,cookieSecure:n,cookieKey:r}){const s=new Date;return HO(r,{path:"/",readonly:!1,expires:new Date(s.setDate(s.getDate()+365)),sameSite:t?"none":"lax",domain:e||void 0,secure:t||n})}function JV(t,e,n){const r=hg(e),s=pf(t),i=yl(t),o=ZA(),a=QV(i),c=_=>o.value[_],l=_=>HV(s.domainLocales,qA(),_),h=uM(t,s.baseUrl),f=eR(),d=async _=>{const v=c(_)?.fallbacks??[];v.includes(_)||v.push(_);for(const b of v){const R=await t.runWithContext(()=>UV(b,yh[b]));r.mergeLocaleMessage(b,R)}},m=async _=>{if(!(_ in yh))return;const v=c(_)?.cacheable?{}:{"Cache-Control":"no-cache"},b=await $fetch(`/_i18n/${_}/messages.json`,{headers:v});for(const R of Object.keys(b))r.mergeLocaleMessage(R,b[R])},y={vueI18n:e,initial:!0,preloaded:!1,config:s,rootRedirect:$V(s.rootRedirect),redirectStatusCode:s.redirectStatusCode??302,dynamicResourcesSSG:!1,getDefaultLocale:()=>n,getLocale:()=>Qe(r.locale),setLocale:async _=>{const v=y.getLocale();_===v||!bi(_)||(nt(r.locale)?r.locale.value=_:r.locale=_,await t.callHook("i18n:localeSwitched",{newLocale:_,oldLocale:v}),f.value=_)},setLocaleSuspend:async _=>{bi(_)&&(y.vueI18n.__pendingLocale=_,y.vueI18n.__pendingLocalePromise=new Promise(v=>{y.vueI18n.__resolvePendingLocalePromise=async()=>{y.setCookieLocale(_),await y.setLocale(_),y.vueI18n.__pendingLocale=void 0,v()}}),y.config.skipSettingLocaleOnNavigate||await y.vueI18n.__resolvePendingLocalePromise?.())},getLocales:()=>Qe(r.locales).map(_=>ue(_)?{code:_}:_),setCookieLocale:_=>{i.useCookie&&bi(_)&&(a.value=_)},getBaseUrl:_=>ki(_&&l(_)||h(),t.$config.app.baseURL),loadMessages:async _=>{try{return y.dynamicResourcesSSG?await d(_):await m(_)}catch(v){console.warn(`Failed to load messages for locale "${_}"`,v)}},composableCtx:void 0};return y.composableCtx=oM(y,t),y}function El(t){if(t._nuxtI18n==null)throw new Error("Nuxt I18n context has not been set up yet.");return t._nuxtI18n}function YV(t,e){const n=[];for(const[r,s]of e.entries()){const i=t.find(o=>o.language?.toLowerCase()===s.toLowerCase());if(i){n.push({code:i.code,score:1-r/e.length});break}}for(const[r,s]of e.entries()){const i=s.split("-")[0].toLowerCase(),o=t.find(a=>a.language?.split("-")[0].toLowerCase()===i);if(o){n.push({code:o.code,score:.999-r/e.length});break}}return n}function XV(t,e){return t.score===e.score?e.code.length-t.code.length:e.score-t.score}function ZV(t,e){return YV(t.map(r=>({code:r.code,language:r.language||r.code})),e).sort(XV).at(0)?.code??""}const eM=(t,e)=>{const n=document.cookie;return jA(n)[e]},tM=(t,e)=>NV(e),nM=t=>ZV(_l,navigator.languages),rM=(t,e,n)=>{const r=new URL(window.location.href).host,s=_l.map(i=>({...i,domain:n[i.code]?.domain??i.domain}));return qV(s,r,YA(e))},mf=(t,e,n)=>{const r=pf(n);return{cookie:()=>eM(t,e.cookieKey),header:()=>{},navigator:()=>nM(),host:s=>rM(t,s,r.domainLocales),route:s=>tM(t,s)}},sM=t=>!!t.path&&!t.name;function wl(t){const e=t?._nuxtI18n?.composableCtx;if(!e)throw new Error("i18n context is not initialized. Ensure the i18n plugin is installed and the composable is used within a Vue component or setup function.");return e}const iM=Ho;function oM(t,e=Se()){const n=_n();mf(void 0,yl(e),e);const r=t.getDefaultLocale(),s=xV();function i(l,h){l.name||=Od(n.currentRoute.value);const f=s(l.name,h);return n.hasRoute(f)&&(l.name=f),l}const o=DV(n);function a(l,h){const f=o(l,h),d=Od(f);return d?(f.name=s(d,h),f):(lM(h,r)&&(f.path="/"+h+f.path),f.path=iM(f.path,!0),f)}const c={router:n,head:EA({}),metaState:{htmlAttrs:{},meta:[],link:[]},seoSettings:{dir:!1,lang:!1,seo:!1},localePathPayload:aM(),routingOptions:{defaultLocale:r,strictCanonicals:t.config.experimental.alternateLinkCanonicalQueries??!0,hreflangLinks:!0},getLocale:t.getLocale,getLocales:t.getLocales,getBaseUrl:t.getBaseUrl,getRouteBaseName:Od,getRouteLocalizedParams:()=>n.currentRoute.value.meta.nuxtI18nInternal??{},getLocalizedDynamicParams:l=>c.getRouteLocalizedParams()?.[l],afterSwitchLocalePath:(l,h)=>(c.getRouteLocalizedParams(),l),resolveLocalizedRouteObject:(l,h)=>sM(l)?a(l,h):i(l,h)};return c}function aM(t=Se()){const e=document.querySelector(`[data-nuxt-i18n-slp="${t._id}"]`)?.textContent;return JSON.parse(e||"{}")}async function Op(t,e){const n=El(t),r=n.getLocale();if(e===r&&!n.initial)return e;const s={oldLocale:r,newLocale:e,initialSetup:n.initial,context:t};let i=await t.callHook("i18n:beforeLocaleSwitch",s);return i!=null,i??=s.newLocale,bi(i)&&(e=i),await n.loadMessages(e),await n.setLocaleSuspend(e),e}function cM(t,e,n){return!!(t.redirectOn==="root"&&e!=="/"||t.redirectOn==="no prefix"&&!t.alwaysRedirect&&bi(n))}function Vp(t,e){const n=yl(t),r=mf(void 0,n,t),s=El(t),i=ue(e)?e:e.path;function*o(){s.initial&&n.enabled&&!cM(n,i,r.route(i))&&(yield r.cookie(),yield r.header(),yield r.navigator(),yield n.fallbackLocale),yield r.route(e)}for(const a of o())if(a&&bi(a))return a;return s.getLocale()||s.getDefaultLocale()||""}function tR(t,e,n){const r=El(t),s=wl(t);if(e.path==="/"&&r.rootRedirect)return yc(_h(s,r.rootRedirect.path,n),{redirectCode:r.rootRedirect.code});if(r.vueI18n.__pendingLocale&&Se()._processingMiddleware||mf(void 0,yl(t),t).route(e)===n)return;const o=ug(s,n,e)||_h(s,e.fullPath,n);if(!px(o,e.fullPath))return yc(o,{redirectCode:r.redirectStatusCode})}function lM(t,e){return t!==e||!1}function uM(t,e,n,r){return tt(e)?()=>e(t):()=>e??""}/*!
  * message-compiler v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function hM(t,e,n){return{line:t,column:e,offset:n}}function Mp(t,e,n){return{start:t,end:e}}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},fM=17;function gf(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function dM(t){throw t}const Rr=" ",pM="\r",cn=`
`,mM="\u2028",gM="\u2029";function _M(t){const e=t;let n=0,r=1,s=1,i=0;const o=w=>e[w]===pM&&e[w+1]===cn,a=w=>e[w]===cn,c=w=>e[w]===gM,l=w=>e[w]===mM,h=w=>o(w)||a(w)||c(w)||l(w),f=()=>n,d=()=>r,m=()=>s,y=()=>i,_=w=>o(w)||c(w)||l(w)?cn:e[w],v=()=>_(n),b=()=>_(n+i);function R(){return i=0,h(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function E(){return o(n+i)&&i++,i++,e[n+i]}function A(){n=0,r=1,s=1,i=0}function L(w=0){i=w}function M(){const w=n+i;for(;w!==n;)R();i=0}return{index:f,line:d,column:m,peekOffset:y,charAt:_,currentChar:v,currentPeek:b,next:R,peek:E,reset:A,resetPeek:L,skipToPeek:M}}const os=void 0,yM=".",bw="'",EM="tokenizer";function wM(t,e={}){const n=e.location!==!1,r=_M(t),s=()=>r.index(),i=()=>hM(r.line(),r.column(),r.index()),o=i(),a=s(),c={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:h}=e;function f(C,D,U,...W){const J=l();if(D.column+=U,D.offset+=U,h){const Z=n?Mp(J.startLoc,D):null,F=gf(C,Z,{domain:EM,args:W});h(F)}}function d(C,D,U){C.endLoc=i(),C.currentType=D;const W={type:D};return n&&(W.loc=Mp(C.startLoc,C.endLoc)),U!=null&&(W.value=U),W}const m=C=>d(C,13);function y(C,D){return C.currentChar()===D?(C.next(),D):(f(Ue.EXPECTED_TOKEN,i(),0,D),"")}function _(C){let D="";for(;C.currentPeek()===Rr||C.currentPeek()===cn;)D+=C.currentPeek(),C.peek();return D}function v(C){const D=_(C);return C.skipToPeek(),D}function b(C){if(C===os)return!1;const D=C.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D===95}function R(C){if(C===os)return!1;const D=C.charCodeAt(0);return D>=48&&D<=57}function E(C,D){const{currentType:U}=D;if(U!==2)return!1;_(C);const W=b(C.currentPeek());return C.resetPeek(),W}function A(C,D){const{currentType:U}=D;if(U!==2)return!1;_(C);const W=C.currentPeek()==="-"?C.peek():C.currentPeek(),J=R(W);return C.resetPeek(),J}function L(C,D){const{currentType:U}=D;if(U!==2)return!1;_(C);const W=C.currentPeek()===bw;return C.resetPeek(),W}function M(C,D){const{currentType:U}=D;if(U!==7)return!1;_(C);const W=C.currentPeek()===".";return C.resetPeek(),W}function w(C,D){const{currentType:U}=D;if(U!==8)return!1;_(C);const W=b(C.currentPeek());return C.resetPeek(),W}function T(C,D){const{currentType:U}=D;if(!(U===7||U===11))return!1;_(C);const W=C.currentPeek()===":";return C.resetPeek(),W}function I(C,D){const{currentType:U}=D;if(U!==9)return!1;const W=()=>{const Z=C.currentPeek();return Z==="{"?b(C.peek()):Z==="@"||Z==="|"||Z===":"||Z==="."||Z===Rr||!Z?!1:Z===cn?(C.peek(),W()):O(C,!1)},J=W();return C.resetPeek(),J}function P(C){_(C);const D=C.currentPeek()==="|";return C.resetPeek(),D}function O(C,D=!0){const U=(J=!1,Z="")=>{const F=C.currentPeek();return F==="{"||F==="@"||!F?J:F==="|"?!(Z===Rr||Z===cn):F===Rr?(C.peek(),U(!0,Rr)):F===cn?(C.peek(),U(!0,cn)):!0},W=U();return D&&C.resetPeek(),W}function N(C,D){const U=C.currentChar();return U===os?os:D(U)?(C.next(),U):null}function k(C){const D=C.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36}function ge(C){return N(C,k)}function Ie(C){const D=C.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36||D===45}function ie(C){return N(C,Ie)}function fe(C){const D=C.charCodeAt(0);return D>=48&&D<=57}function le(C){return N(C,fe)}function Pe(C){const D=C.charCodeAt(0);return D>=48&&D<=57||D>=65&&D<=70||D>=97&&D<=102}function zt(C){return N(C,Pe)}function $t(C){let D="",U="";for(;D=le(C);)U+=D;return U}function Ke(C){let D="";for(;;){const U=C.currentChar();if(U==="{"||U==="}"||U==="@"||U==="|"||!U)break;if(U===Rr||U===cn)if(O(C))D+=U,C.next();else{if(P(C))break;D+=U,C.next()}else D+=U,C.next()}return D}function Ge(C){v(C);let D="",U="";for(;D=ie(C);)U+=D;return C.currentChar()===os&&f(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),U}function Rn(C){v(C);let D="";return C.currentChar()==="-"?(C.next(),D+=`-${$t(C)}`):D+=$t(C),C.currentChar()===os&&f(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),D}function yn(C){return C!==bw&&C!==cn}function xt(C){v(C),y(C,"'");let D="",U="";for(;D=N(C,yn);)D==="\\"?U+=z(C):U+=D;const W=C.currentChar();return W===cn||W===os?(f(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),W===cn&&(C.next(),y(C,"'")),U):(y(C,"'"),U)}function z(C){const D=C.currentChar();switch(D){case"\\":case"'":return C.next(),`\\${D}`;case"u":return oe(C,D,4);case"U":return oe(C,D,6);default:return f(Ue.UNKNOWN_ESCAPE_SEQUENCE,i(),0,D),""}}function oe(C,D,U){y(C,D);let W="";for(let J=0;J<U;J++){const Z=zt(C);if(!Z){f(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${D}${W}${C.currentChar()}`);break}W+=Z}return`\\${D}${W}`}function se(C){return C!=="{"&&C!=="}"&&C!==Rr&&C!==cn}function he(C){v(C);let D="",U="";for(;D=N(C,se);)U+=D;return U}function ve(C){let D="",U="";for(;D=ge(C);)U+=D;return U}function Le(C){const D=U=>{const W=C.currentChar();return W==="{"||W==="@"||W==="|"||W==="("||W===")"||!W||W===Rr?U:(U+=W,C.next(),D(U))};return D("")}function x(C){v(C);const D=y(C,"|");return v(C),D}function V(C,D){let U=null;switch(C.currentChar()){case"{":return D.braceNest>=1&&f(Ue.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),C.next(),U=d(D,2,"{"),v(C),D.braceNest++,U;case"}":return D.braceNest>0&&D.currentType===2&&f(Ue.EMPTY_PLACEHOLDER,i(),0),C.next(),U=d(D,3,"}"),D.braceNest--,D.braceNest>0&&v(C),D.inLinked&&D.braceNest===0&&(D.inLinked=!1),U;case"@":return D.braceNest>0&&f(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),U=q(C,D)||m(D),D.braceNest=0,U;default:{let J=!0,Z=!0,F=!0;if(P(C))return D.braceNest>0&&f(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),U=d(D,1,x(C)),D.braceNest=0,D.inLinked=!1,U;if(D.braceNest>0&&(D.currentType===4||D.currentType===5||D.currentType===6))return f(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),D.braceNest=0,Y(C,D);if(J=E(C,D))return U=d(D,4,Ge(C)),v(C),U;if(Z=A(C,D))return U=d(D,5,Rn(C)),v(C),U;if(F=L(C,D))return U=d(D,6,xt(C)),v(C),U;if(!J&&!Z&&!F)return U=d(D,12,he(C)),f(Ue.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,U.value),v(C),U;break}}return U}function q(C,D){const{currentType:U}=D;let W=null;const J=C.currentChar();switch((U===7||U===8||U===11||U===9)&&(J===cn||J===Rr)&&f(Ue.INVALID_LINKED_FORMAT,i(),0),J){case"@":return C.next(),W=d(D,7,"@"),D.inLinked=!0,W;case".":return v(C),C.next(),d(D,8,".");case":":return v(C),C.next(),d(D,9,":");default:return P(C)?(W=d(D,1,x(C)),D.braceNest=0,D.inLinked=!1,W):M(C,D)||T(C,D)?(v(C),q(C,D)):w(C,D)?(v(C),d(D,11,ve(C))):I(C,D)?(v(C),J==="{"?V(C,D)||W:d(D,10,Le(C))):(U===7&&f(Ue.INVALID_LINKED_FORMAT,i(),0),D.braceNest=0,D.inLinked=!1,Y(C,D))}}function Y(C,D){let U={type:13};if(D.braceNest>0)return V(C,D)||m(D);if(D.inLinked)return q(C,D)||m(D);switch(C.currentChar()){case"{":return V(C,D)||m(D);case"}":return f(Ue.UNBALANCED_CLOSING_BRACE,i(),0),C.next(),d(D,3,"}");case"@":return q(C,D)||m(D);default:{if(P(C))return U=d(D,1,x(C)),D.braceNest=0,D.inLinked=!1,U;if(O(C))return d(D,0,Ke(C));break}}return U}function G(){const{currentType:C,offset:D,startLoc:U,endLoc:W}=c;return c.lastType=C,c.lastOffset=D,c.lastStartLoc=U,c.lastEndLoc=W,c.offset=s(),c.startLoc=i(),r.currentChar()===os?d(c,13):Y(r,c)}return{nextToken:G,currentOffset:s,currentPosition:i,context:l}}const IM="parser",vM=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function TM(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function bM(t={}){const e=t.location!==!1,{onError:n}=t;function r(b,R,E,A,...L){const M=b.currentPosition();if(M.offset+=A,M.column+=A,n){const w=e?Mp(E,M):null,T=gf(R,w,{domain:IM,args:L});n(T)}}function s(b,R,E){const A={type:b};return e&&(A.start=R,A.end=R,A.loc={start:E,end:E}),A}function i(b,R,E,A){e&&(b.end=R,b.loc&&(b.loc.end=E))}function o(b,R){const E=b.context(),A=s(3,E.offset,E.startLoc);return A.value=R,i(A,b.currentOffset(),b.currentPosition()),A}function a(b,R){const E=b.context(),{lastOffset:A,lastStartLoc:L}=E,M=s(5,A,L);return M.index=parseInt(R,10),b.nextToken(),i(M,b.currentOffset(),b.currentPosition()),M}function c(b,R){const E=b.context(),{lastOffset:A,lastStartLoc:L}=E,M=s(4,A,L);return M.key=R,b.nextToken(),i(M,b.currentOffset(),b.currentPosition()),M}function l(b,R){const E=b.context(),{lastOffset:A,lastStartLoc:L}=E,M=s(9,A,L);return M.value=R.replace(vM,TM),b.nextToken(),i(M,b.currentOffset(),b.currentPosition()),M}function h(b){const R=b.nextToken(),E=b.context(),{lastOffset:A,lastStartLoc:L}=E,M=s(8,A,L);return R.type!==11?(r(b,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),M.value="",i(M,A,L),{nextConsumeToken:R,node:M}):(R.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Zn(R)),M.value=R.value||"",i(M,b.currentOffset(),b.currentPosition()),{node:M})}function f(b,R){const E=b.context(),A=s(7,E.offset,E.startLoc);return A.value=R,i(A,b.currentOffset(),b.currentPosition()),A}function d(b){const R=b.context(),E=s(6,R.offset,R.startLoc);let A=b.nextToken();if(A.type===8){const L=h(b);E.modifier=L.node,A=L.nextConsumeToken||b.nextToken()}switch(A.type!==9&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(A)),A=b.nextToken(),A.type===2&&(A=b.nextToken()),A.type){case 10:A.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(A)),E.key=f(b,A.value||"");break;case 4:A.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(A)),E.key=c(b,A.value||"");break;case 5:A.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(A)),E.key=a(b,A.value||"");break;case 6:A.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(A)),E.key=l(b,A.value||"");break;default:{r(b,Ue.UNEXPECTED_EMPTY_LINKED_KEY,R.lastStartLoc,0);const L=b.context(),M=s(7,L.offset,L.startLoc);return M.value="",i(M,L.offset,L.startLoc),E.key=M,i(E,L.offset,L.startLoc),{nextConsumeToken:A,node:E}}}return i(E,b.currentOffset(),b.currentPosition()),{node:E}}function m(b){const R=b.context(),E=R.currentType===1?b.currentOffset():R.offset,A=R.currentType===1?R.endLoc:R.startLoc,L=s(2,E,A);L.items=[];let M=null;do{const I=M||b.nextToken();switch(M=null,I.type){case 0:I.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(I)),L.items.push(o(b,I.value||""));break;case 5:I.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(I)),L.items.push(a(b,I.value||""));break;case 4:I.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(I)),L.items.push(c(b,I.value||""));break;case 6:I.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Zn(I)),L.items.push(l(b,I.value||""));break;case 7:{const P=d(b);L.items.push(P.node),M=P.nextConsumeToken||null;break}}}while(R.currentType!==13&&R.currentType!==1);const w=R.currentType===1?R.lastOffset:b.currentOffset(),T=R.currentType===1?R.lastEndLoc:b.currentPosition();return i(L,w,T),L}function y(b,R,E,A){const L=b.context();let M=A.items.length===0;const w=s(1,R,E);w.cases=[],w.cases.push(A);do{const T=m(b);M||(M=T.items.length===0),w.cases.push(T)}while(L.currentType!==13);return M&&r(b,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),i(w,b.currentOffset(),b.currentPosition()),w}function _(b){const R=b.context(),{offset:E,startLoc:A}=R,L=m(b);return R.currentType===13?L:y(b,E,A,L)}function v(b){const R=wM(b,wt({},t)),E=R.context(),A=s(0,E.offset,E.startLoc);return e&&A.loc&&(A.loc.source=b),A.body=_(R),t.onCacheKey&&(A.cacheKey=t.onCacheKey(b)),E.currentType!==13&&r(R,Ue.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,b[E.offset]||""),i(A,R.currentOffset(),R.currentPosition()),A}return{parse:v}}function Zn(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function AM(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function Aw(t,e){for(let n=0;n<t.length;n++)fg(t[n],e)}function fg(t,e){switch(t.type){case 1:Aw(t.cases,e),e.helper("plural");break;case 2:Aw(t.items,e);break;case 6:{fg(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function RM(t,e={}){const n=AM(t);n.helper("normalize"),t.body&&fg(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function SM(t){const e=t.body;return e.type===2?Rw(e):e.cases.forEach(n=>Rw(n)),t}function Rw(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=lg(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function yo(t){switch(t.t=t.type,t.type){case 0:{const e=t;yo(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)yo(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)yo(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;yo(e.key),e.k=e.key,delete e.key,e.modifier&&(yo(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function PM(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(_,v){o.code+=_}function l(_,v=!0){const b=v?r:"";c(s?b+"  ".repeat(_):b)}function h(_=!0){const v=++o.indentLevel;_&&l(v)}function f(_=!0){const v=--o.indentLevel;_&&l(v)}function d(){l(o.indentLevel)}return{context:a,push:c,indent:h,deindent:f,newline:d,helper:_=>`_${_}`,needIndent:()=>o.needIndent}}function CM(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Go(t,e.key),e.modifier?(t.push(", "),Go(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function kM(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(Go(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function NM(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(Go(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function xM(t,e){e.body?Go(t,e.body):t.push("null")}function Go(t,e){const{helper:n}=t;switch(e.type){case 0:xM(t,e);break;case 1:NM(t,e);break;case 2:kM(t,e);break;case 6:CM(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const DM=(t,e={})=>{const n=ue(e.mode)?e.mode:"normal",r=ue(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=PM(t,{filename:r,breakLineCode:s,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${lg(o.map(h=>`${h}: _${h}`),", ")} } = ctx`),a.newline()),a.push("return "),Go(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function LM(t,e={}){const n=wt({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=bM(n).parse(t);return r?(i&&SM(a),s&&yo(a),{ast:a,code:""}):(RM(a,n),DM(a,n))}/*!
  * core-base v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ur(t){return Ve(t)&&dg(t)===0&&(jn(t,"b")||jn(t,"body"))}const nR=["b","body"];function OM(t){return Gs(t,nR)}const rR=["c","cases"];function VM(t){return Gs(t,rR,[])}const sR=["s","static"];function MM(t){return Gs(t,sR)}const iR=["i","items"];function FM(t){return Gs(t,iR,[])}const oR=["t","type"];function dg(t){return Gs(t,oR)}const aR=["v","value"];function Eu(t,e){const n=Gs(t,aR);if(n!=null)return n;throw Bc(e)}const cR=["m","modifier"];function UM(t){return Gs(t,cR)}const lR=["k","key"];function BM(t){const e=Gs(t,lR);if(e)return e;throw Bc(6)}function Gs(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(jn(t,s)&&t[s]!=null)return t[s]}return n}const uR=[...nR,...rR,...sR,...iR,...lR,...cR,...aR,...oR];function Bc(t){return new Error(`unhandled node type: ${t}`)}function Vd(t){return n=>$M(n,t)}function $M(t,e){const n=OM(e);if(n==null)throw Bc(0);if(dg(n)===1){const i=VM(n);return t.plural(i.reduce((o,a)=>[...o,Sw(t,a)],[]))}else return Sw(t,n)}function Sw(t,e){const n=MM(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=FM(e).reduce((s,i)=>[...s,Fp(t,i)],[]);return t.normalize(r)}}function Fp(t,e){const n=dg(e);switch(n){case 3:return Eu(e,n);case 9:return Eu(e,n);case 4:{const r=e;if(jn(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(jn(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Bc(n)}case 5:{const r=e;if(jn(r,"i")&&Rt(r.i))return t.interpolate(t.list(r.i));if(jn(r,"index")&&Rt(r.index))return t.interpolate(t.list(r.index));throw Bc(n)}case 6:{const r=e,s=UM(r),i=BM(r);return t.linked(Fp(t,i),s?Fp(t,s):void 0,t.type)}case 7:return Eu(e,n);case 8:return Eu(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const jM=t=>t;let wu=Ye();function qM(t,e={}){let n=!1;const r=e.onError||dM;return e.onError=s=>{n=!0,r(s)},{...LM(t,e),detectError:n}}function HM(t,e){if(ue(t)){ft(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||jM)(t),s=wu[r];if(s)return s;const{ast:i,detectError:o}=qM(t,{...e,location:!1,jit:!0}),a=Vd(i);return o?a:wu[r]=a}else{const n=t.cacheKey;if(n){const r=wu[n];return r||(wu[n]=Vd(t))}else return Vd(t)}}const Nr={INVALID_ARGUMENT:fM,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},WM=24;function xr(t){return gf(t,null,void 0)}function pg(t,e){return e.locale!=null?Pw(e.locale):Pw(t.locale)}let Md;function Pw(t){if(ue(t))return t;if(tt(t)){if(t.resolvedOnce&&Md!=null)return Md;if(t.constructor.name==="Function"){const e=t();if(hV(e))throw xr(Nr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Md=e}else throw xr(Nr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw xr(Nr.NOT_SUPPORT_LOCALE_TYPE)}function KM(t,e,n){return[...new Set([n,...mt(e)?e:Ve(e)?Object.keys(e):ue(e)?[e]:[n]])]}function hR(t,e,n){const r=ue(n)?n:Eh,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;mt(o);)o=Cw(i,o,e);const a=mt(e)||!xe(e)?e:e.default?e.default:null;o=ue(a)?[a]:a,mt(o)&&Cw(i,o,!1),s.__localeChainCache.set(r,i)}return i}function Cw(t,e,n){let r=!0;for(let s=0;s<e.length&&ft(r);s++){const i=e[s];ue(i)&&(r=GM(t,e[s],n))}return r}function GM(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=zM(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function zM(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(mt(n)||xe(n))&&n[s]&&(r=n[s])}return r}const zs=[];zs[0]={w:[0],i:[3,0],"[":[4],o:[7]};zs[1]={w:[1],".":[2],"[":[4],o:[7]};zs[2]={w:[2],i:[3,0],0:[3,0]};zs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};zs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};zs[5]={"'":[4,0],o:8,l:[5,0]};zs[6]={'"':[4,0],o:8,l:[6,0]};const QM=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function JM(t){return QM.test(t)}function YM(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function XM(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ZM(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:JM(e)?YM(e):"*"+e}function eF(t){const e=[];let n=-1,r=0,s=0,i,o,a,c,l,h,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,r=4,d[0]();else{if(s=0,o===void 0||(o=ZM(o),o===!1))return!1;d[1]()}};function m(){const y=t[n+1];if(r===5&&y==="'"||r===6&&y==='"')return n++,a="\\"+y,d[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&m())){if(c=XM(i),f=zs[r],l=f[c]||f.l||8,l===8||(r=l[0],l[1]!==void 0&&(h=d[l[1]],h&&(a=i,h()===!1))))return;if(r===7)return e}}const kw=new Map;function tF(t,e){return Ve(t)?t[e]:null}function nF(t,e){if(!Ve(t))return null;let n=kw.get(e);if(n||(n=eF(e),n&&kw.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=n[i];if(uR.includes(o)&&ur(s))return null;const a=s[o];if(a===void 0||tt(s))return null;s=a,i++}return s}const rF="11.1.11",_f=-1,Eh="en-US",Nw="",xw=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function sF(){return{upper:(t,e)=>e==="text"&&ue(t)?t.toUpperCase():e==="vnode"&&Ve(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&ue(t)?t.toLowerCase():e==="vnode"&&Ve(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&ue(t)?xw(t):e==="vnode"&&Ve(t)&&"__v_isVNode"in t?xw(t.children):t}}let fR;function iF(t){fR=t}let dR;function oF(t){dR=t}let pR;function aF(t){pR=t}let mR=null;const Dw=t=>{mR=t},cF=()=>mR;let Lw=0;function lF(t={}){const e=tt(t.onWarn)?t.onWarn:sV,n=ue(t.version)?t.version:rF,r=ue(t.locale)||tt(t.locale)?t.locale:Eh,s=tt(r)?Eh:r,i=mt(t.fallbackLocale)||xe(t.fallbackLocale)||ue(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=xe(t.messages)?t.messages:Fd(s),a=xe(t.datetimeFormats)?t.datetimeFormats:Fd(s),c=xe(t.numberFormats)?t.numberFormats:Fd(s),l=wt(Ye(),t.modifiers,sF()),h=t.pluralRules||Ye(),f=tt(t.missing)?t.missing:null,d=ft(t.missingWarn)||gh(t.missingWarn)?t.missingWarn:!0,m=ft(t.fallbackWarn)||gh(t.fallbackWarn)?t.fallbackWarn:!0,y=!!t.fallbackFormat,_=!!t.unresolving,v=tt(t.postTranslation)?t.postTranslation:null,b=xe(t.processor)?t.processor:null,R=ft(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter,A=tt(t.messageCompiler)?t.messageCompiler:fR,L=tt(t.messageResolver)?t.messageResolver:dR||tF,M=tt(t.localeFallbacker)?t.localeFallbacker:pR||KM,w=Ve(t.fallbackContext)?t.fallbackContext:void 0,T=t,I=Ve(T.__datetimeFormatters)?T.__datetimeFormatters:new Map,P=Ve(T.__numberFormatters)?T.__numberFormatters:new Map,O=Ve(T.__meta)?T.__meta:{};Lw++;const N={version:n,cid:Lw,locale:r,fallbackLocale:i,messages:o,modifiers:l,pluralRules:h,missing:f,missingWarn:d,fallbackWarn:m,fallbackFormat:y,unresolving:_,postTranslation:v,processor:b,warnHtmlMessage:R,escapeParameter:E,messageCompiler:A,messageResolver:L,localeFallbacker:M,fallbackContext:w,onWarn:e,__meta:O};return N.datetimeFormats=a,N.numberFormats=c,N.__datetimeFormatters=I,N.__numberFormatters=P,N}const Fd=t=>({[t]:Ye()});function mg(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return ue(a)?a:e}else return e}function Qa(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function uF(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function hF(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(uF(t,e[r]))return!0;return!1}function Ow(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,h,f]=Up(...e),d=ft(h.missingWarn)?h.missingWarn:t.missingWarn;ft(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const m=!!h.part,y=pg(t,h),_=o(t,s,y);if(!ue(c)||c==="")return new Intl.DateTimeFormat(y,f).format(l);let v={},b,R=null;const E="datetime format";for(let M=0;M<_.length&&(b=_[M],v=n[b]||{},R=v[c],!xe(R));M++)mg(t,c,b,d,E);if(!xe(R)||!ue(b))return r?_f:c;let A=`${b}__${c}`;hf(f)||(A=`${A}__${JSON.stringify(f)}`);let L=a.get(A);return L||(L=new Intl.DateTimeFormat(b,wt({},R,f)),a.set(A,L)),m?L.formatToParts(l):L.format(l)}const gR=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Up(...t){const[e,n,r,s]=t,i=Ye();let o=Ye(),a;if(ue(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw xr(Nr.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw xr(Nr.INVALID_ISO_DATE_ARGUMENT)}}else if(aV(e)){if(isNaN(e.getTime()))throw xr(Nr.INVALID_DATE_ARGUMENT);a=e}else if(Rt(e))a=e;else throw xr(Nr.INVALID_ARGUMENT);return ue(n)?i.key=n:xe(n)&&Object.keys(n).forEach(c=>{gR.includes(c)?o[c]=n[c]:i[c]=n[c]}),ue(r)?i.locale=r:xe(r)&&(o=r),xe(s)&&(o=s),[i.key||"",a,i,o]}function Vw(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function Mw(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,h,f]=Bp(...e),d=ft(h.missingWarn)?h.missingWarn:t.missingWarn;ft(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const m=!!h.part,y=pg(t,h),_=o(t,s,y);if(!ue(c)||c==="")return new Intl.NumberFormat(y,f).format(l);let v={},b,R=null;const E="number format";for(let M=0;M<_.length&&(b=_[M],v=n[b]||{},R=v[c],!xe(R));M++)mg(t,c,b,d,E);if(!xe(R)||!ue(b))return r?_f:c;let A=`${b}__${c}`;hf(f)||(A=`${A}__${JSON.stringify(f)}`);let L=a.get(A);return L||(L=new Intl.NumberFormat(b,wt({},R,f)),a.set(A,L)),m?L.formatToParts(l):L.format(l)}const _R=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Bp(...t){const[e,n,r,s]=t,i=Ye();let o=Ye();if(!Rt(e))throw xr(Nr.INVALID_ARGUMENT);const a=e;return ue(n)?i.key=n:xe(n)&&Object.keys(n).forEach(c=>{_R.includes(c)?o[c]=n[c]:i[c]=n[c]}),ue(r)?i.locale=r:xe(r)&&(o=r),xe(s)&&(o=s),[i.key||"",a,i,o]}function Fw(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const fF=t=>t,dF=t=>"",pF="text",mF=t=>t.length===0?"":lg(t),gF=fV;function Uw(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function _F(t){const e=Rt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Rt(t.named.count)||Rt(t.named.n))?Rt(t.named.count)?t.named.count:Rt(t.named.n)?t.named.n:e:e}function yF(t,e){e.count||(e.count=t),e.n||(e.n=t)}function EF(t={}){const e=t.locale,n=_F(t),r=Ve(t.pluralRules)&&ue(e)&&tt(t.pluralRules[e])?t.pluralRules[e]:Uw,s=Ve(t.pluralRules)&&ue(e)&&tt(t.pluralRules[e])?Uw:void 0,i=b=>b[r(n,b.length,s)],o=t.list||[],a=b=>o[b],c=t.named||Ye();Rt(t.pluralIndex)&&yF(n,c);const l=b=>c[b];function h(b,R){const E=tt(t.messages)?t.messages(b,!!R):Ve(t.messages)?t.messages[b]:!1;return E||(t.parent?t.parent.message(b):dF)}const f=b=>t.modifiers?t.modifiers[b]:fF,d=xe(t.processor)&&tt(t.processor.normalize)?t.processor.normalize:mF,m=xe(t.processor)&&tt(t.processor.interpolate)?t.processor.interpolate:gF,y=xe(t.processor)&&ue(t.processor.type)?t.processor.type:pF,v={list:a,named:l,plural:i,linked:(b,...R)=>{const[E,A]=R;let L="text",M="";R.length===1?Ve(E)?(M=E.modifier||M,L=E.type||L):ue(E)&&(M=E||M):R.length===2&&(ue(E)&&(M=E||M),ue(A)&&(L=A||L));const w=h(b,!0)(v),T=L==="vnode"&&mt(w)&&M?w[0]:w;return M?f(M)(T,L):T},message:h,type:y,interpolate:m,normalize:d,values:wt(Ye(),o,c)};return v}const Bw=()=>"",Mr=t=>tt(t);function $w(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[c,l]=$p(...e),h=ft(l.missingWarn)?l.missingWarn:t.missingWarn,f=ft(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,d=ft(l.escapeParameter)?l.escapeParameter:t.escapeParameter,m=!!l.resolvedMessage,y=ue(l.default)||ft(l.default)?ft(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:null,_=n||y!=null&&(ue(y)||tt(y)),v=pg(t,l);d&&wF(l);let[b,R,E]=m?[c,v,a[v]||Ye()]:yR(t,c,v,o,f,h),A=b,L=c;if(!m&&!(ue(A)||ur(A)||Mr(A))&&_&&(A=y,L=A),!m&&(!(ue(A)||ur(A)||Mr(A))||!ue(R)))return s?_f:c;let M=!1;const w=()=>{M=!0},T=Mr(A)?A:ER(t,c,R,A,L,w);if(M)return A;const I=TF(t,R,E,l),P=EF(I),O=IF(t,T,P);let N=r?r(O,c):O;return d&&ue(N)&&(N=lV(N)),N}function wF(t){mt(t.list)?t.list=t.list.map(e=>ue(e)?ww(e):e):Ve(t.named)&&Object.keys(t.named).forEach(e=>{ue(t.named[e])&&(t.named[e]=ww(t.named[e]))})}function yR(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,h=l(t,r,n);let f=Ye(),d,m=null;const y="translate";for(let _=0;_<h.length&&(d=h[_],f=o[d]||Ye(),(m=c(f,e))===null&&(m=f[e]),!(ue(m)||ur(m)||Mr(m)));_++)if(!hF(d,h)){const v=mg(t,e,d,i,y);v!==e&&(m=v)}return[m,d,f]}function ER(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Mr(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||e,l}if(o==null){const l=()=>r;return l.locale=n,l.key=e,l}const c=o(r,vF(t,n,s,r,a,i));return c.locale=n,c.key=e,c.source=r,c}function IF(t,e,n){return e(n)}function $p(...t){const[e,n,r]=t,s=Ye();if(!ue(e)&&!Rt(e)&&!Mr(e)&&!ur(e))throw xr(Nr.INVALID_ARGUMENT);const i=Rt(e)?String(e):(Mr(e),e);return Rt(n)?s.plural=n:ue(n)?s.default=n:xe(n)&&!hf(n)?s.named=n:mt(n)&&(s.list=n),Rt(r)?s.plural=r:ue(r)?s.default=r:xe(r)&&wt(s,r),[i,s]}function vF(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>iV(e,n,o)}}function TF(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:h}=t,d={locale:e,modifiers:s,pluralRules:i,messages:(m,y)=>{let _=o(n,m);if(_==null&&(h||y)){const[,,v]=yR(h||t,m,e,a,c,l);_=o(v,m)}if(ue(_)||ur(_)){let v=!1;const R=ER(t,m,e,_,m,()=>{v=!0});return v?Bw:R}else return Mr(_)?_:Bw}};return t.processor&&(d.processor=t.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),Rt(r.plural)&&(d.pluralIndex=r.plural),d}/*!
  * vue-i18n v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const bF="11.1.11",Ln={UNEXPECTED_RETURN_TYPE:WM,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Jn(t,...e){return gf(t,null,void 0)}const jp=Ks("__translateVNode"),qp=Ks("__datetimeParts"),Hp=Ks("__numberParts"),AF=Ks("__setPluralRules"),RF=Ks("__injectWithOption"),Wp=Ks("__dispose");function $c(t){if(!Ve(t)||ur(t))return t;for(const e in t)if(jn(t,e))if(!e.includes("."))Ve(t[e])&&$c(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in s||(s[n[o]]=Ye()),!Ve(s[n[o]])){i=!0;break}s=s[n[o]]}if(i||(ur(s)?uR.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!ur(s)){const o=s[n[r]];Ve(o)&&$c(o)}}return t}function wR(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=xe(n)?n:mt(r)?Ye():{[t]:Ye()};if(mt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||Ye(),xo(l,o[c])):xo(l,o)}else ue(a)&&xo(JSON.parse(a),o)}),s==null&&i)for(const a in o)jn(o,a)&&$c(o[a]);return o}function SF(t){return t.type}function PF(t,e,n){let r=Ve(e.messages)?e.messages:Ye();"__i18nGlobal"in n&&(r=wR(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(Ve(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ve(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function jw(t){return ht(Cs,null,t,0)}const qw=()=>[],CF=()=>!1;let Hw=0;function Ww(t){return(e,n,r,s)=>t(n,r,Ws()||void 0,s)}function IR(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,s=t.flatJson,i=mh?Mt:Os;let o=ft(t.inheritLocale)?t.inheritLocale:!0;const a=i(e&&o?e.locale.value:ue(t.locale)?t.locale:Eh),c=i(e&&o?e.fallbackLocale.value:ue(t.fallbackLocale)||mt(t.fallbackLocale)||xe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),l=i(wR(a.value,t)),h=i(xe(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),f=i(xe(t.numberFormats)?t.numberFormats:{[a.value]:{}});let d=e?e.missingWarn:ft(t.missingWarn)||gh(t.missingWarn)?t.missingWarn:!0,m=e?e.fallbackWarn:ft(t.fallbackWarn)||gh(t.fallbackWarn)?t.fallbackWarn:!0,y=e?e.fallbackRoot:ft(t.fallbackRoot)?t.fallbackRoot:!0,_=!!t.fallbackFormat,v=tt(t.missing)?t.missing:null,b=tt(t.missing)?Ww(t.missing):null,R=tt(t.postTranslation)?t.postTranslation:null,E=e?e.warnHtmlMessage:ft(t.warnHtmlMessage)?t.warnHtmlMessage:!0,A=!!t.escapeParameter;const L=e?e.modifiers:xe(t.modifiers)?t.modifiers:{};let M=t.pluralRules||e&&e.pluralRules,w;w=(()=>{r&&Dw(null);const F={version:bF,locale:a.value,fallbackLocale:c.value,messages:l.value,modifiers:L,pluralRules:M,missing:b===null?void 0:b,missingWarn:d,fallbackWarn:m,fallbackFormat:_,unresolving:!0,postTranslation:R===null?void 0:R,warnHtmlMessage:E,escapeParameter:A,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};F.datetimeFormats=h.value,F.numberFormats=f.value,F.__datetimeFormatters=xe(w)?w.__datetimeFormatters:void 0,F.__numberFormatters=xe(w)?w.__numberFormatters:void 0;const H=lF(F);return r&&Dw(H),H})(),Qa(w,a.value,c.value);function I(){return[a.value,c.value,l.value,h.value,f.value]}const P=gt({get:()=>a.value,set:F=>{w.locale=F,a.value=F}}),O=gt({get:()=>c.value,set:F=>{w.fallbackLocale=F,c.value=F,Qa(w,a.value,F)}}),N=gt(()=>l.value),k=gt(()=>h.value),ge=gt(()=>f.value);function Ie(){return tt(R)?R:null}function ie(F){R=F,w.postTranslation=F}function fe(){return v}function le(F){F!==null&&(b=Ww(F)),v=F,w.missing=b}const Pe=(F,H,ee,ae,Te,Ae)=>{I();let at;try{r||(w.fallbackContext=e?cF():void 0),at=F(w)}finally{r||(w.fallbackContext=void 0)}if(ee!=="translate exists"&&Rt(at)&&at===_f||ee==="translate exists"&&!at){const[Tt,Dt]=H();return e&&y?ae(e):Te(Tt)}else{if(Ae(at))return at;throw Jn(Ln.UNEXPECTED_RETURN_TYPE)}};function zt(...F){return Pe(H=>Reflect.apply($w,null,[H,...F]),()=>$p(...F),"translate",H=>Reflect.apply(H.t,H,[...F]),H=>H,H=>ue(H))}function $t(...F){const[H,ee,ae]=F;if(ae&&!Ve(ae))throw Jn(Ln.INVALID_ARGUMENT);return zt(H,ee,wt({resolvedMessage:!0},ae||{}))}function Ke(...F){return Pe(H=>Reflect.apply(Ow,null,[H,...F]),()=>Up(...F),"datetime format",H=>Reflect.apply(H.d,H,[...F]),()=>Nw,H=>ue(H)||mt(H))}function Ge(...F){return Pe(H=>Reflect.apply(Mw,null,[H,...F]),()=>Bp(...F),"number format",H=>Reflect.apply(H.n,H,[...F]),()=>Nw,H=>ue(H)||mt(H))}function Rn(F){return F.map(H=>ue(H)||Rt(H)||ft(H)?jw(String(H)):H)}const xt={normalize:Rn,interpolate:F=>F,type:"vnode"};function z(...F){return Pe(H=>{let ee;const ae=H;try{ae.processor=xt,ee=Reflect.apply($w,null,[ae,...F])}finally{ae.processor=null}return ee},()=>$p(...F),"translate",H=>H[jp](...F),H=>[jw(H)],H=>mt(H))}function oe(...F){return Pe(H=>Reflect.apply(Mw,null,[H,...F]),()=>Bp(...F),"number format",H=>H[Hp](...F),qw,H=>ue(H)||mt(H))}function se(...F){return Pe(H=>Reflect.apply(Ow,null,[H,...F]),()=>Up(...F),"datetime format",H=>H[qp](...F),qw,H=>ue(H)||mt(H))}function he(F){M=F,w.pluralRules=M}function ve(F,H){return Pe(()=>{if(!F)return!1;const ee=ue(H)?H:a.value,ae=V(ee),Te=w.messageResolver(ae,F);return ur(Te)||Mr(Te)||ue(Te)},()=>[F],"translate exists",ee=>Reflect.apply(ee.te,ee,[F,H]),CF,ee=>ft(ee))}function Le(F){let H=null;const ee=hR(w,c.value,a.value);for(let ae=0;ae<ee.length;ae++){const Te=l.value[ee[ae]]||{},Ae=w.messageResolver(Te,F);if(Ae!=null){H=Ae;break}}return H}function x(F){const H=Le(F);return H??(e?e.tm(F)||{}:{})}function V(F){return l.value[F]||{}}function q(F,H){if(s){const ee={[F]:H};for(const ae in ee)jn(ee,ae)&&$c(ee[ae]);H=ee[F]}l.value[F]=H,w.messages=l.value}function Y(F,H){l.value[F]=l.value[F]||{};const ee={[F]:H};if(s)for(const ae in ee)jn(ee,ae)&&$c(ee[ae]);H=ee[F],xo(H,l.value[F]),w.messages=l.value}function G(F){return h.value[F]||{}}function C(F,H){h.value[F]=H,w.datetimeFormats=h.value,Vw(w,F,H)}function D(F,H){h.value[F]=wt(h.value[F]||{},H),w.datetimeFormats=h.value,Vw(w,F,H)}function U(F){return f.value[F]||{}}function W(F,H){f.value[F]=H,w.numberFormats=f.value,Fw(w,F,H)}function J(F,H){f.value[F]=wt(f.value[F]||{},H),w.numberFormats=f.value,Fw(w,F,H)}Hw++,e&&mh&&(gn(e.locale,F=>{o&&(a.value=F,w.locale=F,Qa(w,a.value,c.value))}),gn(e.fallbackLocale,F=>{o&&(c.value=F,w.fallbackLocale=F,Qa(w,a.value,c.value))}));const Z={id:Hw,locale:P,fallbackLocale:O,get inheritLocale(){return o},set inheritLocale(F){o=F,F&&e&&(a.value=e.locale.value,c.value=e.fallbackLocale.value,Qa(w,a.value,c.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:N,get modifiers(){return L},get pluralRules(){return M||{}},get isGlobal(){return r},get missingWarn(){return d},set missingWarn(F){d=F,w.missingWarn=d},get fallbackWarn(){return m},set fallbackWarn(F){m=F,w.fallbackWarn=m},get fallbackRoot(){return y},set fallbackRoot(F){y=F},get fallbackFormat(){return _},set fallbackFormat(F){_=F,w.fallbackFormat=_},get warnHtmlMessage(){return E},set warnHtmlMessage(F){E=F,w.warnHtmlMessage=F},get escapeParameter(){return A},set escapeParameter(F){A=F,w.escapeParameter=F},t:zt,getLocaleMessage:V,setLocaleMessage:q,mergeLocaleMessage:Y,getPostTranslationHandler:Ie,setPostTranslationHandler:ie,getMissingHandler:fe,setMissingHandler:le,[AF]:he};return Z.datetimeFormats=k,Z.numberFormats=ge,Z.rt=$t,Z.te=ve,Z.tm=x,Z.d=Ke,Z.n=Ge,Z.getDateTimeFormat=G,Z.setDateTimeFormat=C,Z.mergeDateTimeFormat=D,Z.getNumberFormat=U,Z.setNumberFormat=W,Z.mergeNumberFormat=J,Z[RF]=n,Z[jp]=z,Z[qp]=se,Z[Hp]=oe,Z}const gg={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function kF({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===Vt?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Ye())}function vR(){return Vt}const NF=Mn({name:"i18n-t",props:wt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Rt(t)||!isNaN(t)}},gg),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||_g({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f[0]!=="_"),o=Ye();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=ue(t.plural)?+t.plural:t.plural);const a=kF(e,i),c=s[jp](t.keypath,a,o),l=wt(Ye(),r),h=ue(t.tag)||Ve(t.tag)?t.tag:vR();return Et(h,l,c)}}}),Kw=NF;function xF(t){return mt(t)&&!ue(t[0])}function TR(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a=Ye();t.locale&&(o.locale=t.locale),ue(t.format)?o.key=t.format:Ve(t.format)&&(ue(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((d,m)=>n.includes(m)?wt(Ye(),d,{[m]:t.format[m]}):d,Ye()));const c=r(t.value,o,a);let l=[o.key];mt(c)?l=c.map((d,m)=>{const y=s[d.type],_=y?y({[d.type]:d.value,index:m,parts:c}):[d.value];return xF(_)&&(_[0].key=`${d.type}-${m}`),_}):ue(c)&&(l=[c]);const h=wt(Ye(),i),f=ue(t.tag)||Ve(t.tag)?t.tag:vR();return Et(f,h,l)}}const DF=Mn({name:"i18n-n",props:wt({value:{type:Number,required:!0},format:{type:[String,Object]}},gg),setup(t,e){const n=t.i18n||_g({useScope:t.scope,__useComponent:!0});return TR(t,e,_R,(...r)=>n[Hp](...r))}}),Gw=DF;function LF(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function OF(t){const e=o=>{const{instance:a,value:c}=o;if(!a||!a.$)throw Jn(Ln.UNEXPECTED_ERROR);const l=LF(t,a.$),h=zw(c);return[Reflect.apply(l.t,l,[...Qw(h)]),l]};return{created:(o,a)=>{const[c,l]=e(a);mh&&t.global===l&&(o.__i18nWatcher=gn(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{mh&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=zw(a);o.textContent=Reflect.apply(c.t,c,[...Qw(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function zw(t){if(ue(t))return{path:t};if(xe(t)){if(!("path"in t))throw Jn(Ln.REQUIRED_VALUE,"path");return t}else throw Jn(Ln.INVALID_VALUE)}function Qw(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return ue(n)&&(o.locale=n),Rt(s)&&(o.plural=s),Rt(i)&&(o.plural=i),[e,a,o]}function VF(t,e,...n){const r=xe(n[0])?n[0]:{};(ft(r.globalInstall)?r.globalInstall:!0)&&([Kw.name,"I18nT"].forEach(i=>t.component(i,Kw)),[Gw.name,"I18nN"].forEach(i=>t.component(i,Gw)),[Yw.name,"I18nD"].forEach(i=>t.component(i,Yw))),t.directive("t",OF(e))}const MF=Ks("global-vue-i18n");function FF(t={}){const e=ft(t.globalInjection)?t.globalInjection:!0,n=new Map,[r,s]=UF(t),i=Ks("");function o(h){return n.get(h)||null}function a(h,f){n.set(h,f)}function c(h){n.delete(h)}const l={get mode(){return"composition"},async install(h,...f){if(h.__VUE_I18N_SYMBOL__=i,h.provide(h.__VUE_I18N_SYMBOL__,l),xe(f[0])){const y=f[0];l.__composerExtend=y.__composerExtend,l.__vueI18nExtend=y.__vueI18nExtend}let d=null;e&&(d=GF(h,l.global)),VF(h,l,...f);const m=h.unmount;h.unmount=()=>{d&&d(),l.dispose(),m()}},get global(){return s},dispose(){r.stop()},__instances:n,__getInstance:o,__setInstance:a,__deleteInstance:c};return l}function _g(t={}){const e=Ws();if(e==null)throw Jn(Ln.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Jn(Ln.NOT_INSTALLED);const n=BF(e),r=jF(n),s=SF(e),i=$F(t,s);if(i==="global")return PF(r,t,s),r;if(i==="parent"){let c=qF(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(e);if(a==null){const c=wt({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=IR(c),o.__composerExtend&&(a[Wp]=o.__composerExtend(a)),WF(o,e,a),o.__setInstance(e,a)}return a}function UF(t,e){const n=cl(),r=n.run(()=>IR(t));if(r==null)throw Jn(Ln.UNEXPECTED_ERROR);return[n,r]}function BF(t){const e=Pt(t.isCE?MF:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Jn(t.isCE?Ln.NOT_INSTALLED_WITH_PROVIDE:Ln.UNEXPECTED_ERROR);return e}function $F(t,e){return hf(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function jF(t){return t.mode==="composition"?t.global:t.global.__composer}function qF(t,e,n=!1){let r=null;const s=e.root;let i=HF(e,n);for(;i!=null;){const o=t;if(t.mode==="composition"&&(r=o.__getInstance(i)),r!=null||s===i)break;i=i.parent}return r}function HF(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function WF(t,e,n){fl(()=>{},e),ef(()=>{const r=n;t.__deleteInstance(e);const s=r[Wp];s&&(s(),delete r[Wp])},e)}const KF=["locale","fallbackLocale","availableLocales"],Jw=["t","rt","d","n","tm","te"];function GF(t,e){const n=Object.create(null);return KF.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw Jn(Ln.UNEXPECTED_ERROR);const o=nt(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,Jw.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw Jn(Ln.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,Jw.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}const zF=Mn({name:"i18n-d",props:wt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},gg),setup(t,e){const n=t.i18n||_g({useScope:t.scope,__useComponent:!0});return TR(t,e,gR,(...r)=>n[qp](...r))}}),Yw=zF;iF(HM);oF(nF);aF(hR);function Xw(t=Se()){const e=wl(t);return n=>{if(n!=null)return e.getRouteBaseName(n)||void 0}}function QF(t=Se()){const e=wl(t);return(n,r)=>_h(e,n,r)}function JF(t=Se()){const e=wl(t);return(n,r)=>zA(e,n,r)}function bR(t=Se()){const e=wl(t);return n=>ug(e,n)}const Zw="nuxt-i18n-slp",YF=new RegExp([`<!--${Zw}-\\[(\\w+)\\]-->`,".+?",`<!--/${Zw}-->`].join(""),"g"),XF=vt({name:"i18n:plugin:switch-locale-path-ssr",dependsOn:["i18n:plugin"],setup(t){const e=Se(t._id),n=bR(e);e.hook("app:rendered",r=>{r.renderResult?.html!=null&&(r.renderResult.html=r.renderResult.html.replaceAll(YF,(s,i)=>{const o=encodeURI(n(i??""));return s.replace(/href="([^"]+)"/,`href="${o||"#"}" `)}))})}}),ZF=vt({name:"i18n:plugin:route-locale-detect",dependsOn:["i18n:plugin"],async setup(t){let e,n;const r=Se(t._id),s=El(r),i=eR();[e,n]=lr(()=>r.runWithContext(()=>Op(r,s.initial&&i.value||Vp(r,r.$router.currentRoute.value)))),await e,n(),cD("locale-changing",async o=>{let a,c;const l=([a,c]=lr(()=>r.runWithContext(()=>Op(r,Vp(r,o)))),a=await a,c(),a);return s.initial=!1,r.runWithContext(()=>tR(r,o,l))},{global:!0})}}),eU=vt({name:"i18n:plugin:preload",dependsOn:["i18n:plugin"],async setup(t){}});function tU(t,{extendComposer:e,extendComposerInstance:n}){const r=cl(),s=t.install.bind(t);t.install=(i,...o)=>{const a=wt({},o[0]);a.__composerExtend=l=>(n(l,yu(t)),()=>{}),t.mode==="legacy"&&(a.__vueI18nExtend=l=>(n(l,yu(l)),()=>{})),Reflect.apply(s,t,[i,a]);const c=yu(t);if(r.run(()=>{e(c),t.mode==="legacy"&&"__composer"in t.global&&n(t.global,yu(t.global))}),t.mode==="composition"&&i.config.globalProperties.$i18n!=null&&n(i.config.globalProperties.$i18n,c),i.unmount){const l=i.unmount.bind(i);i.unmount=()=>{r.stop(),l()}}}}const nU=async t=>{const e=await OV(LV);e.locale=t||e.locale||"en-US",e.defaultLocale=t,e.fallbackLocale??=!1,e.messages??={};for(const n of Uc)e.messages[n]??={};return e},rU=vt({name:"i18n:plugin",parallel:!1,async setup(t){let e,n;Object.defineProperty(t.versions,"nuxtI18n",{get:()=>"10.0.3"});const r=Se(t._id),s=pf(r),i=r.ssrContext?.event?.context?.nuxtI18n?.vueI18nOptions,o=zV(qA().host)||s.defaultLocale||"",a=i||([e,n]=lr(()=>nU(o)),e=await e,n(),e),c=ZA();c.value??=WV(a.fallbackLocale),Uc.map(d=>`/_i18n/${d}/messages.json`);const l=FF(a),h=mf(void 0,yl(r),r),f=JV(r,l,a.defaultLocale);r._nuxtI18n=f,tU(l,{extendComposer(d){d.locales=gt(()=>s.locales),d.localeCodes=gt(()=>Uc);const m=Mt(f.getBaseUrl());d.baseUrl=gt(()=>m.value),gn(d.locale,()=>m.value=f.getBaseUrl()),d.strategy="prefix_except_default",d.localeProperties=gt(()=>_l.find(y=>y.code===d.locale.value)||{code:d.locale.value}),d.setLocale=async y=>{await Op(r,y),await r.runWithContext(()=>tR(r,r.$router.currentRoute.value,y))},d.loadLocaleMessages=f.loadMessages,d.differentDomains=!1,d.defaultLocale=a.defaultLocale,d.getBrowserLocale=()=>Tw(h.navigator()),d.getLocaleCookie=()=>Tw(h.cookie()),d.setLocaleCookie=f.setCookieLocale,d.finalizePendingLocaleChange=async()=>{l.__pendingLocale&&await l.__resolvePendingLocalePromise?.()},d.waitForPendingLocaleChange=async()=>{await l?.__pendingLocalePromise}},extendComposerInstance(d,m){const y=[["locales",()=>m.locales],["localeCodes",()=>m.localeCodes],["baseUrl",()=>m.baseUrl],["strategy",()=>"prefix_except_default"],["localeProperties",()=>m.localeProperties],["setLocale",()=>async _=>Reflect.apply(m.setLocale,m,[_])],["loadLocaleMessages",()=>async _=>Reflect.apply(m.loadLocaleMessages,m,[_])],["differentDomains",()=>!1],["defaultLocale",()=>m.defaultLocale],["getBrowserLocale",()=>()=>Reflect.apply(m.getBrowserLocale,m,[])],["getLocaleCookie",()=>()=>Reflect.apply(m.getLocaleCookie,m,[])],["setLocaleCookie",()=>_=>Reflect.apply(m.setLocaleCookie,m,[_])],["finalizePendingLocaleChange",()=>()=>Reflect.apply(m.finalizePendingLocaleChange,m,[])],["waitForPendingLocaleChange",()=>()=>Reflect.apply(m.waitForPendingLocaleChange,m,[])]];for(const[_,v]of y)Object.defineProperty(d,_,{get:v})}}),r.vueApp.use(l),Object.defineProperty(r,"$i18n",{get:()=>hg(l)}),r.provide("localeHead",d=>bV(r._nuxtI18n.composableCtx,d)),r.provide("localePath",QF(r)),r.provide("localeRoute",JF(r)),r.provide("routeBaseName",Xw(r)),r.provide("getRouteBaseName",Xw(r)),r.provide("switchLocalePath",bR(r))}}),AR=/^[a-z0-9]+(-[a-z0-9]+)*$/,Il=(t,e,n,r="")=>{const s=t.split(":");if(t.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;r=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const a=s.pop(),c=s.pop(),l={provider:s.length>0?s[0]:r,prefix:c,name:a};return e&&!Ou(l)?null:l}const i=s[0],o=i.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return e&&!Ou(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:i};return e&&!Ou(a,n)?null:a}return null},Ou=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,RR=Object.freeze({left:0,top:0,width:16,height:16}),wh=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ya=Object.freeze({...RR,...wh}),Kp=Object.freeze({...ya,body:"",hidden:!1});function sU(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function eI(t,e){const n=sU(t,e);for(const r in Kp)r in wh?r in t&&!(r in n)&&(n[r]=wh[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function iU(t,e){const n=t.icons,r=t.aliases||Object.create(null),s=Object.create(null);function i(o){if(n[o])return s[o]=[];if(!(o in s)){s[o]=null;const a=r[o]&&r[o].parent,c=a&&i(a);c&&(s[o]=[a].concat(c))}return s[o]}return Object.keys(n).concat(Object.keys(r)).forEach(i),s}function oU(t,e,n){const r=t.icons,s=t.aliases||Object.create(null);let i={};function o(a){i=eI(r[a]||s[a],i)}return o(e),n.forEach(o),eI(t,i)}function SR(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(s=>{e(s,null),n.push(s)});const r=iU(t);for(const s in r){const i=r[s];i&&(e(s,oU(t,s,i)),n.push(s))}return n}const aU={provider:"",aliases:{},not_found:{},...RR};function Ud(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function PR(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Ud(t,aU))return null;const n=e.icons;for(const s in n){const i=n[s];if(!s||typeof i.body!="string"||!Ud(i,Kp))return null}const r=e.aliases||Object.create(null);for(const s in r){const i=r[s],o=i.parent;if(!s||typeof o!="string"||!n[o]&&!r[o]||!Ud(i,Kp))return null}return e}const tI=Object.create(null);function cU(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function xi(t,e){const n=tI[t]||(tI[t]=Object.create(null));return n[e]||(n[e]=cU(t,e))}function CR(t,e){return PR(e)?SR(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function lU(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let jc=!1;function kR(t){return typeof t=="boolean"&&(jc=t),jc}function yg(t){const e=typeof t=="string"?Il(t,!0,jc):t;if(e){const n=xi(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function uU(t,e){const n=Il(t,!0,jc);if(!n)return!1;const r=xi(n.provider,n.prefix);return e?lU(r,n.name,e):(r.missing.add(n.name),!0)}function hU(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),jc&&!e&&!t.prefix){let s=!1;return PR(t)&&(t.prefix="",SR(t,(i,o)=>{uU(i,o)&&(s=!0)})),s}const n=t.prefix;if(!Ou({prefix:n,name:"a"}))return!1;const r=xi(e,n);return!!CR(r,t)}function S3(t){const e=yg(t);return e&&{...ya,...e}}const NR=Object.freeze({width:null,height:null}),xR=Object.freeze({...NR,...wh}),fU=/(-?[0-9.]*[0-9]+[0-9.]*)/g,dU=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function nI(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(fU);if(r===null||!r.length)return t;const s=[];let i=r.shift(),o=dU.test(i);for(;;){if(o){const a=parseFloat(i);isNaN(a)?s.push(i):s.push(Math.ceil(a*e*n)/n)}else s.push(i);if(i=r.shift(),i===void 0)return s.join("");o=!o}}function pU(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const s=t.indexOf(">",r),i=t.indexOf("</"+e);if(s===-1||i===-1)break;const o=t.indexOf(">",i);if(o===-1)break;n+=t.slice(s+1,i).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function mU(t,e){return t?"<defs>"+t+"</defs>"+e:e}function gU(t,e,n){const r=pU(t);return mU(r.defs,e+r.content+n)}const _U=t=>t==="unset"||t==="undefined"||t==="none";function yU(t,e){const n={...ya,...t},r={...xR,...e},s={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,r].forEach(_=>{const v=[],b=_.hFlip,R=_.vFlip;let E=_.rotate;b?R?E+=2:(v.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),v.push("scale(-1 1)"),s.top=s.left=0):R&&(v.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),v.push("scale(1 -1)"),s.top=s.left=0);let A;switch(E<0&&(E-=Math.floor(E/4)*4),E=E%4,E){case 1:A=s.height/2+s.top,v.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:v.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:A=s.width/2+s.left,v.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}E%2===1&&(s.left!==s.top&&(A=s.left,s.left=s.top,s.top=A),s.width!==s.height&&(A=s.width,s.width=s.height,s.height=A)),v.length&&(i=gU(i,'<g transform="'+v.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,c=s.width,l=s.height;let h,f;o===null?(f=a===null?"1em":a==="auto"?l:a,h=nI(f,c/l)):(h=o==="auto"?c:o,f=a===null?nI(h,l/c):a==="auto"?l:a);const d={},m=(_,v)=>{_U(v)||(d[_]=v.toString())};m("width",h),m("height",f);const y=[s.left,s.top,c,l];return d.viewBox=y.join(" "),{attributes:d,viewBox:y,body:i}}const EU=/\sid="(\S+)"/g,wU="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let IU=0;function vU(t,e=wU){const n=[];let r;for(;r=EU.exec(t);)n.push(r[1]);if(!n.length)return t;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(i=>{const o=typeof e=="function"?e(i):e+(IU++).toString(),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+s+"$3")}),t=t.replace(new RegExp(s,"g"),""),t}const Gp=Object.create(null);function DR(t,e){Gp[t]=e}function zp(t){return Gp[t]||Gp[""]}function Eg(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const yf=Object.create(null),Ja=["https://api.simplesvg.com","https://api.unisvg.com"],Vu=[];for(;Ja.length>0;)Ja.length===1||Math.random()>.5?Vu.push(Ja.shift()):Vu.push(Ja.pop());yf[""]=Eg({resources:["https://api.iconify.design"].concat(Vu)});function LR(t,e){const n=Eg(e);return n===null?!1:(yf[t]=n,!0)}function Ef(t){return yf[t]}function TU(){return Object.keys(yf)}const bU=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let Ih=bU();function AU(t){Ih=t}function RU(){return Ih}function SU(t,e){const n=Ef(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let s=0;n.resources.forEach(o=>{s=Math.max(s,o.length)});const i=e+".json?icons=";r=n.maxURL-s-n.path.length-i.length}return r}function PU(t){return t===404}const CU=(t,e,n)=>{const r=[],s=SU(t,e),i="icons";let o={type:i,provider:t,prefix:e,icons:[]},a=0;return n.forEach((c,l)=>{a+=c.length+1,a>=s&&l>0&&(r.push(o),o={type:i,provider:t,prefix:e,icons:[]},a=c.length),o.icons.push(c)}),r.push(o),r};function kU(t){if(typeof t=="string"){const e=Ef(t);if(e)return e.path}return"/"}const NU=(t,e,n)=>{if(!Ih){n("abort",424);return}let r=kU(e.provider);switch(e.type){case"icons":{const i=e.prefix,a=e.icons.join(","),c=new URLSearchParams({icons:a});r+=i+".json?"+c.toString();break}case"custom":{const i=e.uri;r+=i.slice(0,1)==="/"?i.slice(1):i;break}default:n("abort",400);return}let s=503;Ih(t+r).then(i=>{const o=i.status;if(o!==200){setTimeout(()=>{n(PU(o)?"abort":"next",o)});return}return s=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?n("abort",i):n("next",s)});return}setTimeout(()=>{n("success",i)})}).catch(()=>{n("next",s)})},xU={prepare:CU,send:NU};function DU(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((s,i)=>s.provider!==i.provider?s.provider.localeCompare(i.provider):s.prefix!==i.prefix?s.prefix.localeCompare(i.prefix):s.name.localeCompare(i.name));let r={provider:"",prefix:"",name:""};return t.forEach(s=>{if(r.name===s.name&&r.prefix===s.prefix&&r.provider===s.provider)return;r=s;const i=s.provider,o=s.prefix,a=s.name,c=n[i]||(n[i]=Object.create(null)),l=c[o]||(c[o]=xi(i,o));let h;a in l.icons?h=e.loaded:o===""||l.missing.has(a)?h=e.missing:h=e.pending;const f={provider:i,prefix:o,name:a};h.push(f)}),e}function OR(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(s=>s.id!==e))})}function LU(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,s=t.prefix;e.forEach(i=>{const o=i.icons,a=o.pending.length;o.pending=o.pending.filter(c=>{if(c.prefix!==s)return!0;const l=c.name;if(t.icons[l])o.loaded.push({provider:r,prefix:s,name:l});else if(t.missing.has(l))o.missing.push({provider:r,prefix:s,name:l});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||OR([t],i.id),i.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),i.abort))})}))}let OU=0;function VU(t,e,n){const r=OU++,s=OR.bind(null,n,r);if(!e.pending.length)return s;const i={id:r,icons:e,callback:t,abort:s};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(i)}),s}function MU(t,e=!0,n=!1){const r=[];return t.forEach(s=>{const i=typeof s=="string"?Il(s,e,n):s;i&&r.push(i)}),r}var FU={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function UU(t,e,n,r){const s=t.resources.length,i=t.random?Math.floor(Math.random()*s):t.index;let o;if(t.random){let M=t.resources.slice(0);for(o=[];M.length>1;){const w=Math.floor(Math.random()*M.length);o.push(M[w]),M=M.slice(0,w).concat(M.slice(w+1))}o=o.concat(M)}else o=t.resources.slice(i).concat(t.resources.slice(0,i));const a=Date.now();let c="pending",l=0,h,f=null,d=[],m=[];typeof r=="function"&&m.push(r);function y(){f&&(clearTimeout(f),f=null)}function _(){c==="pending"&&(c="aborted"),y(),d.forEach(M=>{M.status==="pending"&&(M.status="aborted")}),d=[]}function v(M,w){w&&(m=[]),typeof M=="function"&&m.push(M)}function b(){return{startTime:a,payload:e,status:c,queriesSent:l,queriesPending:d.length,subscribe:v,abort:_}}function R(){c="failed",m.forEach(M=>{M(void 0,h)})}function E(){d.forEach(M=>{M.status==="pending"&&(M.status="aborted")}),d=[]}function A(M,w,T){const I=w!=="success";switch(d=d.filter(P=>P!==M),c){case"pending":break;case"failed":if(I||!t.dataAfterTimeout)return;break;default:return}if(w==="abort"){h=T,R();return}if(I){h=T,d.length||(o.length?L():R());return}if(y(),E(),!t.random){const P=t.resources.indexOf(M.resource);P!==-1&&P!==t.index&&(t.index=P)}c="completed",m.forEach(P=>{P(T)})}function L(){if(c!=="pending")return;y();const M=o.shift();if(M===void 0){if(d.length){f=setTimeout(()=>{y(),c==="pending"&&(E(),R())},t.timeout);return}R();return}const w={status:"pending",resource:M,callback:(T,I)=>{A(w,T,I)}};d.push(w),l++,f=setTimeout(L,t.rotate),n(M,e,w.callback)}return setTimeout(L),b}function VR(t){const e={...FU,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function s(a,c,l){const h=UU(e,a,c,(f,d)=>{r(),l&&l(f,d)});return n.push(h),h}function i(a){return n.find(c=>a(c))||null}return{query:s,find:i,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function rI(){}const Bd=Object.create(null);function BU(t){if(!Bd[t]){const e=Ef(t);if(!e)return;const n=VR(e),r={config:e,redundancy:n};Bd[t]=r}return Bd[t]}function MR(t,e,n){let r,s;if(typeof t=="string"){const i=zp(t);if(!i)return n(void 0,424),rI;s=i.send;const o=BU(t);o&&(r=o.redundancy)}else{const i=Eg(t);if(i){r=VR(i);const o=t.resources?t.resources[0]:"",a=zp(o);a&&(s=a.send)}}return!r||!s?(n(void 0,424),rI):r.query(e,s,n)().abort}function sI(){}function $U(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,LU(t)}))}function jU(t){const e=[],n=[];return t.forEach(r=>{(r.match(AR)?e:n).push(r)}),{valid:e,invalid:n}}function Ya(t,e,n){function r(){const s=t.pendingIcons;e.forEach(i=>{s&&s.delete(i),t.icons[i]||t.missing.add(i)})}if(n&&typeof n=="object")try{if(!CR(t,n).length){r();return}}catch(s){console.error(s)}r(),$U(t)}function iI(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function qU(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,s=t.iconsToLoad;if(delete t.iconsToLoad,!s||!s.length)return;const i=t.loadIcon;if(t.loadIcons&&(s.length>1||!i)){iI(t.loadIcons(s,r,n),h=>{Ya(t,s,h)});return}if(i){s.forEach(h=>{const f=i(h,r,n);iI(f,d=>{const m=d?{prefix:r,icons:{[h]:d}}:null;Ya(t,[h],m)})});return}const{valid:o,invalid:a}=jU(s);if(a.length&&Ya(t,a,null),!o.length)return;const c=r.match(AR)?zp(n):null;if(!c){Ya(t,o,null);return}c.prepare(n,r,o).forEach(h=>{MR(n,h,f=>{Ya(t,h.icons,f)})})}))}const FR=(t,e)=>{const n=MU(t,!0,kR()),r=DU(n);if(!r.pending.length){let c=!0;return e&&setTimeout(()=>{c&&e(r.loaded,r.missing,r.pending,sI)}),()=>{c=!1}}const s=Object.create(null),i=[];let o,a;return r.pending.forEach(c=>{const{provider:l,prefix:h}=c;if(h===a&&l===o)return;o=l,a=h,i.push(xi(l,h));const f=s[l]||(s[l]=Object.create(null));f[h]||(f[h]=[])}),r.pending.forEach(c=>{const{provider:l,prefix:h,name:f}=c,d=xi(l,h),m=d.pendingIcons||(d.pendingIcons=new Set);m.has(f)||(m.add(f),s[l][h].push(f))}),i.forEach(c=>{const l=s[c.provider][c.prefix];l.length&&qU(c,l)}),e?VU(e,r,i):sI},P3=t=>new Promise((e,n)=>{const r=typeof t=="string"?Il(t,!0):t;if(!r){n(t);return}FR([r||t],s=>{if(s.length&&r){const i=yg(r);if(i){e({...ya,...i});return}}n(t)})});function HU(t,e,n){xi("",e).loadIcons=t}function WU(t,e){const n={...t};for(const r in e){const s=e[r],i=typeof s;r in NR?(s===null||s&&(i==="string"||i==="number"))&&(n[r]=s):i===typeof n[r]&&(n[r]=r==="rotate"?s%4:s)}return n}const KU=/[\s,]+/;function GU(t,e){e.split(KU).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function zU(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(s){for(;s<0;)s+=4;return s%4}if(n===""){const s=parseInt(t);return isNaN(s)?0:r(s)}else if(n!==t){let s=0;switch(n){case"%":s=25;break;case"deg":s=90}if(s){let i=parseFloat(t.slice(0,t.length-n.length));return isNaN(i)?0:(i=i/s,i%1===0?r(i):0)}}return e}function QU(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function JU(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function YU(t){return"data:image/svg+xml,"+JU(t)}function XU(t){return'url("'+YU(t)+'")'}const oI={...xR,inline:!1},ZU={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},e2={display:"inline-block"},Qp={backgroundColor:"currentColor"},UR={backgroundColor:"transparent"},aI={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},cI={webkitMask:Qp,mask:Qp,background:UR};for(const t in cI){const e=cI[t];for(const n in aI)e[t+n]=aI[n]}const Mu={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";Mu[t+"-flip"]=e,Mu[t.slice(0,1)+"-flip"]=e,Mu[t+"Flip"]=e});function lI(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const uI=(t,e)=>{const n=WU(oI,e),r={...ZU},s=e.mode||"svg",i={},o=e.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let _ in e){const v=e[_];if(v!==void 0)switch(_){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[_]=v===!0||v==="true"||v===1;break;case"flip":typeof v=="string"&&GU(n,v);break;case"color":i.color=v;break;case"rotate":typeof v=="string"?n[_]=zU(v):typeof v=="number"&&(n[_]=v);break;case"ariaHidden":case"aria-hidden":v!==!0&&v!=="true"&&delete r["aria-hidden"];break;default:{const b=Mu[_];b?(v===!0||v==="true"||v===1)&&(n[b]=!0):oI[_]===void 0&&(r[_]=v)}}}const c=yU(t,n),l=c.attributes;if(n.inline&&(i.verticalAlign="-0.125em"),s==="svg"){r.style={...i,...a},Object.assign(r,l);let _=0,v=e.id;return typeof v=="string"&&(v=v.replace(/-/g,"_")),r.innerHTML=vU(c.body,v?()=>v+"ID"+_++:"iconifyVue"),Et("svg",r)}const{body:h,width:f,height:d}=t,m=s==="mask"||(s==="bg"?!1:h.indexOf("currentColor")!==-1),y=QU(h,{...l,width:f+"",height:d+""});return r.style={...i,"--svg":XU(y),width:lI(l.width),height:lI(l.height),...e2,...m?Qp:UR,...a},Et("span",r)};kR(!0);DR("",xU);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!hU(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const s=e[n];if(typeof s!="object"||!s||s.resources===void 0)continue;LR(n,s)||console.error(r)}catch{console.error(r)}}}}const t2={...ya,body:""},C3=Mn((t,{emit:e})=>{const n=Mt(null);function r(){n.value&&(n.value.abort?.(),n.value=null)}const s=Mt(!!t.ssr),i=Mt(""),o=Os(null);function a(){const l=t.icon;if(typeof l=="object"&&l!==null&&typeof l.body=="string")return i.value="",{data:l};let h;if(typeof l!="string"||(h=Il(l,!1,!0))===null)return null;let f=yg(h);if(!f){const y=n.value;return(!y||y.name!==l)&&(f===null?n.value={name:l}:n.value={name:l,abort:FR([h],c)}),null}r(),i.value!==l&&(i.value=l,_r(()=>{e("load",l)}));const d=t.customise;if(d){f=Object.assign({},f);const y=d(f.body,h.name,h.prefix,h.provider);typeof y=="string"&&(f.body=y)}const m=["iconify"];return h.prefix!==""&&m.push("iconify--"+h.prefix),h.provider!==""&&m.push("iconify--"+h.provider),{data:f,classes:m}}function c(){const l=a();l?l.data!==o.value?.data&&(o.value=l):o.value=null}return s.value?c():fl(()=>{s.value=!0,c()}),gn(()=>t.icon,c),ef(r),()=>{const l=o.value;if(!l)return uI(t2,t);let h=t;return l.classes&&(h={...t,class:l.classes.join(" ")}),uI({...ya,...l.data},h)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),hI={getAPIConfig:Ef,setAPIModule:DR,sendAPIQuery:MR,setFetch:AU,getFetch:RU,listAPIProviders:TU},n2=vt({name:"@nuxt/icon",setup(){const t=Ki(),e=XO().icon;hI.setFetch($fetch.native);const n=[];if(e.provider==="server"){const s=t.app?.baseURL?.replace(/\/$/,"")??"";n.push(s+(e.localApiEndpoint||"/api/_nuxt_icon")),(e.fallbackToApi===!0||e.fallbackToApi==="client-only")&&n.push(e.iconifyApiEndpoint)}else e.provider==="none"?hI.setFetch(()=>Promise.resolve(new Response)):n.push(e.iconifyApiEndpoint);async function r(s,i){try{const o=await $fetch(n[0]+"/"+i+".json",{query:{icons:s.join(",")}});if(!o||o.prefix!==i||!o.icons)throw new Error("Invalid data"+JSON.stringify(o));return o}catch(o){return console.error("Failed to load custom icons",o),null}}LR("",{resources:n});for(const s of e.customCollections||[])s&&HU(r,s)}});/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=()=>{};var fI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},s2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||f==null)throw new i2;const d=i<<2|a>>4;if(r.push(d),l!==64){const m=a<<4&240|l>>2;if(r.push(m),f!==64){const y=l<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(t){const e=BR(t);return $R.encodeByteArray(e,!0)},vh=function(t){return o2(t).replace(/\./g,"")},jR=function(t){try{return $R.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=()=>qR().__FIREBASE_DEFAULTS__,c2=()=>{if(typeof process>"u"||typeof fI>"u")return;const t=fI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jR(t[1]);return e&&JSON.parse(e)},wf=()=>{try{return r2()||a2()||c2()||l2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HR=t=>wf()?.emulatorHosts?.[t],u2=t=>{const e=HR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WR=()=>wf()?.config,KR=t=>wf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vh(JSON.stringify(n)),vh(JSON.stringify(o)),""].join(".")}const vc={};function d2(){const t={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?t.emulator.push(e):t.prod.push(e);return t}function p2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dI=!1;function GR(t,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||vc[t]===e||vc[t]||dI)return;vc[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",i=d2().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function c(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function l(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{dI=!0,o()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=p2(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),_=n("learnmore"),v=document.getElementById(_)||document.createElement("a"),b=n("preprendIcon"),R=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;a(E),h(v,_);const A=l();c(R,b),E.append(R,y,v,A),document.body.appendChild(E)}i?(y.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function zR(){const t=wf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E2(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){return!zR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function YR(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I2,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?v2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Gr(s,a,r)}}function v2(t,e){return t.replace(T2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const T2=/\{\$([^}]+)}/g;function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yn(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(pI(i)&&pI(o)){if(!Yn(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function pI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A2(t,e){const n=new R2(t,e);return n.subscribe.bind(n)}class R2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$d),s.error===void 0&&(s.error=$d),s.complete===void 0&&(s.complete=$d);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new h2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k2(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C2(t){return t===fi?void 0:t}function k2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const x2={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},D2=Ce.INFO,L2={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},O2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=L2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=D2,this._logHandler=O2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const V2=(t,e)=>e.some(n=>t instanceof n);let mI,gI;function M2(){return mI||(mI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return gI||(gI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XR=new WeakMap,Jp=new WeakMap,ZR=new WeakMap,jd=new WeakMap,vg=new WeakMap;function U2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ks(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XR.set(n,t)}).catch(()=>{}),vg.set(e,t),e}function B2(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $2(t){Yp=t(Yp)}function j2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qd(this),e,...n);return ZR.set(r,e.sort?e.sort():[e]),ks(r)}:F2().includes(t)?function(...e){return t.apply(qd(this),e),ks(XR.get(this))}:function(...e){return ks(t.apply(qd(this),e))}}function q2(t){return typeof t=="function"?j2(t):(t instanceof IDBTransaction&&B2(t),V2(t,M2())?new Proxy(t,Yp):t)}function ks(t){if(t instanceof IDBRequest)return U2(t);if(jd.has(t))return jd.get(t);const e=q2(t);return e!==t&&(jd.set(t,e),vg.set(e,t)),e}const qd=t=>vg.get(t);function H2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ks(o.result),c.oldVersion,c.newVersion,ks(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const W2=["get","getKey","getAll","getAllKeys","count"],K2=["put","add","delete","clear"],Hd=new Map;function _I(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=K2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||W2.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Hd.set(e,i),i}$2(t=>({...t,get:(e,n,r)=>_I(e,n)||t.get(e,n,r),has:(e,n)=>!!_I(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z2(t){return t.getComponent()?.type==="VERSION"}const Xp="@firebase/app",yI="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Ig("@firebase/app"),Q2="@firebase/app-compat",J2="@firebase/analytics-compat",Y2="@firebase/analytics",X2="@firebase/app-check-compat",Z2="@firebase/app-check",e4="@firebase/auth",t4="@firebase/auth-compat",n4="@firebase/database",r4="@firebase/data-connect",s4="@firebase/database-compat",i4="@firebase/functions",o4="@firebase/functions-compat",a4="@firebase/installations",c4="@firebase/installations-compat",l4="@firebase/messaging",u4="@firebase/messaging-compat",h4="@firebase/performance",f4="@firebase/performance-compat",d4="@firebase/remote-config",p4="@firebase/remote-config-compat",m4="@firebase/storage",g4="@firebase/storage-compat",_4="@firebase/firestore",y4="@firebase/ai",E4="@firebase/firestore-compat",w4="firebase",I4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="[DEFAULT]",v4={[Xp]:"fire-core",[Q2]:"fire-core-compat",[Y2]:"fire-analytics",[J2]:"fire-analytics-compat",[Z2]:"fire-app-check",[X2]:"fire-app-check-compat",[e4]:"fire-auth",[t4]:"fire-auth-compat",[n4]:"fire-rtdb",[r4]:"fire-data-connect",[s4]:"fire-rtdb-compat",[i4]:"fire-fn",[o4]:"fire-fn-compat",[a4]:"fire-iid",[c4]:"fire-iid-compat",[l4]:"fire-fcm",[u4]:"fire-fcm-compat",[h4]:"fire-perf",[f4]:"fire-perf-compat",[d4]:"fire-rc",[p4]:"fire-rc-compat",[m4]:"fire-gcs",[g4]:"fire-gcs-compat",[_4]:"fire-fst",[E4]:"fire-fst-compat",[y4]:"fire-vertex","fire-js":"fire-js",[w4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,T4=new Map,Zp=new Map;function EI(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(Zp.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of qc.values())EI(n,t);for(const n of T4.values())EI(n,t);return!0}function bl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function b4(t,e,n=Th){bl(t,e).clearInstance(n)}function hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new vl("app","Firebase",A4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=I4;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Th,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ns.create("bad-app-name",{appName:String(s)});if(n||(n=WR()),!n)throw Ns.create("no-options");const i=qc.get(s);if(i){if(Yn(n,i.options)&&Yn(r,i.config))return i;throw Ns.create("duplicate-app",{appName:s})}const o=new N2(s);for(const c of Zp.values())o.addComponent(c);const a=new R4(n,r,o);return qc.set(s,a),a}function tS(t=Th){const e=qc.get(t);if(!e&&t===Th&&WR())return eS();if(!e)throw Ns.create("no-app",{appName:t});return e}function wI(){return Array.from(qc.values())}function xs(t,e,n){let r=v4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(o.join(" "));return}zo(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="firebase-heartbeat-database",P4=1,Hc="firebase-heartbeat-store";let Wd=null;function nS(){return Wd||(Wd=H2(S4,P4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),Wd}async function C4(t){try{const n=(await nS()).transaction(Hc),r=await n.objectStore(Hc).get(rS(t));return await n.done,r}catch(e){if(e instanceof Gr)jr.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}}async function II(t,e){try{const r=(await nS()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,rS(t)),await r.done}catch(n){if(n instanceof Gr)jr.warn(n.message);else{const r=Ns.create("idb-set",{originalErrorMessage:n?.message});jr.warn(r.message)}}}function rS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1024,N4=30;class x4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vI();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>N4){const s=O4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vI(),{heartbeatsToSend:n,unsentEntries:r}=D4(this._heartbeatsCache.heartbeats),s=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return jr.warn(e),""}}}function vI(){return new Date().toISOString().substring(0,10)}function D4(t,e=k4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),TI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),TI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YR()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return II(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return II(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TI(t){return vh(JSON.stringify({version:2,heartbeats:t})).length}function O4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){zo(new Di("platform-logger",e=>new G2(e),"PRIVATE")),zo(new Di("heartbeat",e=>new x4(e),"PRIVATE")),xs(Xp,yI,t),xs(Xp,yI,"esm2020"),xs("fire-js","")}V4("");var M4="firebase",F4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(M4,F4,"app");function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U4=sS,iS=new vl("auth","Firebase",sS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Ig("@firebase/auth");function B4(t,...e){bh.logLevel<=Ce.WARN&&bh.warn(`Auth (${Ea}): ${t}`,...e)}function Fu(t,...e){bh.logLevel<=Ce.ERROR&&bh.error(`Auth (${Ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw bg(t,...e)}function Wn(t,...e){return bg(t,...e)}function Tg(t,e,n){const r={...U4(),[e]:n};return new vl("auth","Firebase",r).create(e,{appName:t.name})}function hr(t){return Tg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oS(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&On(t,"argument-error"),Tg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iS.create(t,...e)}function _e(t,e,...n){if(!t)throw bg(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function qr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return typeof self<"u"&&self.location?.href||""}function $4(){return bI()==="http:"||bI()==="https:"}function bI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($4()||_2()||"connection"in navigator)?navigator.onLine:!0}function q4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=m2()||y2()}get(){return j4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K4=new Al(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qr(t,e,n,r,s={}){return cS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Tl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const l={method:e,headers:c,...i};return g2()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(l.credentials="include"),aS.fetch()(await lS(t,t.config.apiHost,n,a),l)})}async function cS(t,e,n){t._canInitEmulator=!1;const r={...H4,...e};try{const s=new z4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Iu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Iu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Tg(t,h,l);On(t,h)}}catch(s){if(s instanceof Gr)throw s;On(t,"network-request-failed",{message:String(s)})}}async function Rl(t,e,n,r,s={}){const i=await Qr(t,e,n,r,s);return"mfaPendingCredential"in i&&On(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function lS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ag(t.config,s):`${t.config.apiScheme}://${s}`;return W4.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function G4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),K4.get())})}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Wn(t,e,r);return s.customData._tokenResponse=n,s}function AI(t){return t!==void 0&&t.enterprise!==void 0}class Q4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J4(t,e){return Qr(t,"GET","/v2/recaptchaConfig",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function Ah(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X4(t,e=!1){const n=qe(t),r=await n.getIdToken(e),s=Rg(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Tc(Kd(s.auth_time)),issuedAtTime:Tc(Kd(s.iat)),expirationTime:Tc(Kd(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Kd(t){return Number(t)*1e3}function Rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const s=jR(n);return s?JSON.parse(s):(Fu("Failed to decode base64 JWT payload"),null)}catch(s){return Fu("Caught error parsing JWT payload as JSON",s?.toString()),null}}function RI(t){const e=Rg(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&Z4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t){const e=t.auth,n=await t.getIdToken(),r=await Wc(t,Ah(e,{idToken:n}));_e(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?uS(s.providerUserInfo):[],o=nB(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!o?.length,l=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new tm(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)}async function tB(t){const e=qe(t);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nB(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e){const n=await cS(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await lS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Gi(t.emulatorConfig.host)&&(c.credentials="include"),aS.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sB(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=RI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await rB(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Do;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new eB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X4(this,e)}reload(){return tB(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Wc(this,Y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:m,providerData:y,stsTokenManager:_}=n;_e(f&&_,e,"internal-error");const v=Do.fromJSON(this.name,_);_e(typeof f=="string",e,"internal-error"),as(r,e.name),as(s,e.name),_e(typeof d=="boolean",e,"internal-error"),_e(typeof m=="boolean",e,"internal-error"),as(i,e.name),as(o,e.name),as(a,e.name),as(c,e.name),as(l,e.name),as(h,e.name);const b=new qn({uid:f,auth:e,email:s,emailVerified:d,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:v,createdAt:l,lastLoginAt:h});return y&&Array.isArray(y)&&(b.providerData=y.map(R=>({...R}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Do;s.updateFromServerResponse(n);const i=new qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];_e(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?uS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Do;a.updateFromIdToken(r);const c=new qn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new tm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;function Lr(t){qr(t instanceof Function,"Expected a class definition");let e=SI.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hS.type="NONE";const PI=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class Lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Uu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Uu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lo(Lr(PI),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Lr(PI);const o=Uu(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const h=await l._get(o);if(h){let f;if(typeof h=="string"){const d=await Ah(e,{idToken:h}).catch(()=>{});if(!d)break;f=await qn._fromGetAccountInfoResponse(e,d,h)}else f=qn._fromJSON(e,h);l!==i&&(a=f),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Lo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Lo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_S(e))return"Blackberry";if(yS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||pS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fS(t=kt()){return/firefox\//i.test(t)}function dS(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pS(t=kt()){return/crios\//i.test(t)}function mS(t=kt()){return/iemobile/i.test(t)}function gS(t=kt()){return/android/i.test(t)}function _S(t=kt()){return/blackberry/i.test(t)}function yS(t=kt()){return/webos/i.test(t)}function Sg(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iB(t=kt()){return Sg(t)&&!!window.navigator?.standalone}function oB(){return E2()&&document.documentMode===10}function ES(t=kt()){return Sg(t)||gS(t)||yS(t)||_S(t)||/windows phone/i.test(t)||mS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e=[]){let n;switch(t){case"Browser":n=CI(kt());break;case"Worker":n=`${CI(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=6;class uB{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kI(this),this.idTokenSubscription=new kI(this),this.beforeStateQueue=new aB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(hr(this));const n=e?qe(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cB(this),n=new uB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&B4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xn(t){return qe(t)}class kI{constructor(e){this.auth=e,this.observer=null,this.addObserver=A2(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fB(t){If=t}function IS(t){return If.loadJS(t)}function dB(){return If.recaptchaEnterpriseScript}function pB(){return If.gapiScript}function mB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gB{constructor(){this.enterprise=new _B}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _B{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yB="recaptcha-enterprise",vS="NO_RECAPTCHA";class EB{constructor(e){this.type=yB,this.auth=Xn(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{J4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new Q4(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;AI(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(vS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gB().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&AI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dB();c.length!==0&&(c+=a),IS(c).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function NI(t,e,n,r=!1,s=!1){const i=new EB(t);let o;if(s)o=vS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Sh(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await NI(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await NI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e){const n=bl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yn(i,e??{}))return s;On(s,"already-initialized")}return n.initialize({options:e})}function IB(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vB(t,e,n){const r=Xn(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TS(e),{host:o,port:a}=TB(e),c=a===null?"":`:${a}`,l={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Yn(l,r.config.emulator)&&Yn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gi(o)?(wg(`${i}//${o}${c}`),GR("Auth",!0)):bB()}function TS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TB(t){const e=TS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:xI(o)}}}function xI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function AB(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RB(t,e){return Rl(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}async function SB(t,e){return Qr(t,"POST","/v1/accounts:sendOobCode",zr(t,e))}async function PB(t,e){return SB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function kB(t,e){return Rl(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Pg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,n,"signInWithPassword",RB);case"emailLink":return CB(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,r,"signUpPassword",AB);case"emailLink":return kB(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return Rl(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="http://localhost";class Li extends Pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:NB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DB(t){const e=ic(oc(t)).link,n=e?ic(oc(e)).deep_link_id:null,r=ic(oc(t)).deep_link_id;return(r?ic(oc(r)).link:null)||r||n||e||t}class Cg{constructor(e){const n=ic(oc(e)),r=n.apiKey??null,s=n.oobCode??null,i=xB(n.mode??null);_e(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=DB(e);try{return new Cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return Kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cg.parseLink(n);return _e(r,"argument-error"),Kc._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Sl{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Sl{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Sl{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e){return Rl(t,"POST","/v1/accounts:signUp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await qn._fromIdTokenResponse(e,r,s),o=DI(r);return new Oi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=DI(r);return new Oi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function DI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Gr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ph(e,n,r,s)}}function bS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,i,e,r):i})}async function OB(t,e,n=!1){const r=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t,e,n=!1){const{auth:r}=t;if(hn(r.app))return Promise.reject(hr(r));const s="reauthenticate";try{const i=await Wc(t,bS(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=Rg(i.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),Oi._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&On(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(t,e,n=!1){if(hn(t.app))return Promise.reject(hr(t));const r="signIn",s=await bS(t,r,e),i=await Oi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function MB(t,e){return AS(Xn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(t){const e=Xn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k3(t,e,n){const r=Xn(t);await Sh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PB)}async function N3(t,e,n){if(hn(t.app))return Promise.reject(hr(t));const r=Xn(t),o=await Sh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&RS(t),c}),a=await Oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function x3(t,e,n){return hn(t.app)?Promise.reject(hr(t)):MB(qe(t),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e){return qe(t).setPersistence(e)}function UB(t,e,n,r){return qe(t).onIdTokenChanged(e,n,r)}function BB(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function D3(t,e,n,r){return qe(t).onAuthStateChanged(e,n,r)}function L3(t){return qe(t).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=1e3,jB=10;class PS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);oB()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jB):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$B)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PS.type="LOCAL";const CS=PS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kS.type="SESSION";const NS=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await qB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=kg("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function WB(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function KB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GB(){return navigator?.serviceWorker?.controller||null}function zB(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebaseLocalStorageDb",QB=1,kh="firebaseLocalStorage",LS="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function JB(){const t=indexedDB.deleteDatabase(DS);return new Pl(t).toPromise()}function nm(){const t=indexedDB.open(DS,QB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:LS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await JB(),e(await nm()))})})}async function LI(t,e,n){const r=bf(t,!0).put({[LS]:e,value:n});return new Pl(r).toPromise()}async function YB(t,e){const n=bf(t,!1).get(e),r=await new Pl(n).toPromise();return r===void 0?null:r.value}function OI(t,e){const n=bf(t,!0).delete(e);return new Pl(n).toPromise()}const XB=800,ZB=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(zB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KB(),!this.activeServiceWorker)return;this.sender=new HB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await LI(e,Ch,"1"),await OI(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bf(s,!1).getAll();return new Pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const e$=OS;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){return e?Lr(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t$(t){return AS(t.auth,new xg(t),t.bypassAuthState)}function n$(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),VB(n,new xg(t),t.bypassAuthState)}async function r$(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),OB(n,new xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t$;case"linkViaPopup":case"linkViaRedirect":return r$;case"reauthViaPopup":case"reauthViaRedirect":return n$;default:On(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new Al(2e3,1e4);async function O3(t,e,n){if(hn(t.app))return Promise.reject(Wn(t,"operation-not-supported-in-this-environment"));const r=Xn(t);oS(t,e,vf);const s=Ng(r,n);return new Ei(r,"signInViaPopup",e,s).executeNotNull()}class Ei extends VS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s$.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="pendingRedirect",Bu=new Map;class o$ extends VS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await a$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a$(t,e){const n=FS(e),r=MS(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function c$(t,e){return MS(t)._set(FS(e),"true")}function l$(t,e){Bu.set(t._key(),e)}function MS(t){return Lr(t._redirectPersistence)}function FS(t){return Uu(i$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t,e,n){return u$(t,e,n)}async function u$(t,e,n){if(hn(t.app))return Promise.reject(hr(t));const r=Xn(t);oS(t,e,vf),await r._initializationPromise;const s=Ng(r,n);return await c$(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function M3(t,e){return await Xn(t)._initializationPromise,US(t,e,!1)}async function US(t,e,n=!1){if(hn(t.app))return Promise.reject(hr(t));const r=Xn(t),s=Ng(r,e),o=await new o$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=600*1e3;class f${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h$&&this.cachedEventUids.clear(),this.cachedEventUids.has(VI(e))}saveEventToCache(e){this.cachedEventUids.add(VI(e)),this.lastProcessedEventTime=Date.now()}}function VI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function d$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g$=/^https?/;async function _$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await p$(t);for(const n of e)try{if(y$(n))return}catch{}On(t,"unauthorized-domain")}function y$(t){const e=em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!g$.test(n))return!1;if(m$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=new Al(3e4,6e4);function MI(){const t=fr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w$(t){return new Promise((e,n)=>{function r(){MI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MI(),n(Wn(t,"network-request-failed"))},timeout:E$.get()})}if(fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fr().gapi?.load)r();else{const s=mB("iframefcb");return fr()[s]=()=>{gapi.load?r():n(Wn(t,"network-request-failed"))},IS(`${pB()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw $u=null,e})}let $u=null;function I$(t){return $u=$u||w$(t),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=new Al(5e3,15e3),T$="__/auth/iframe",b$="emulator/auth/iframe",A$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S$(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ag(e,b$):`https://${t.config.authDomain}/${T$}`,r={apiKey:e.apiKey,appName:t.name,v:Ea},s=R$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tl(r).slice(1)}`}async function P$(t){const e=await I$(t),n=fr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:S$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Wn(t,"network-request-failed"),a=fr().setTimeout(()=>{i(o)},v$.get());function c(){fr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,N$=600,x$="_blank",D$="http://localhost";class FI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L$(t,e,n,r=k$,s=N$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...C$,width:r.toString(),height:s.toString(),top:i,left:o},l=kt().toLowerCase();n&&(a=pS(l)?x$:n),fS(l)&&(e=e||D$,c.scrollbars="yes");const h=Object.entries(c).reduce((d,[m,y])=>`${d}${m}=${y},`,"");if(iB(l)&&a!=="_self")return O$(e||"",a),new FI(null);const f=window.open(e||"",a,h);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new FI(f)}function O$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="__/auth/handler",M$="emulator/auth/handler",F$=encodeURIComponent("fac");async function UI(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ea,eventId:s};if(e instanceof vf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Sl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),l=c?`#${F$}=${encodeURIComponent(c)}`:"";return`${U$(t)}?${Tl(a).slice(1)}${l}`}function U$({config:t}){return t.emulator?Ag(t,M$):`https://${t.authDomain}/${V$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class B${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NS,this._completeRedirectFn=US,this._overrideRedirectResult=l$}async _openPopup(e,n,r,s){qr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await UI(e,n,r,em(),s);return L$(e,i,kg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await UI(e,n,r,em(),s);return WB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(qr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await P$(e),r=new f$(e);return n.register("authEvent",s=>(_e(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gd,{type:Gd},s=>{const i=s?.[0]?.[Gd];i!==void 0&&n(!!i),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||dS()||Sg()}}const $$=B$;var BI="@firebase/auth",$I="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H$(t){zo(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(t)},l=new hB(r,s,i,c);return IB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zo(new Di("auth-internal",e=>{const n=Xn(e.getProvider("auth").getImmediate());return(r=>new j$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(BI,$I,q$(t)),xs(BI,$I,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=300,K$=KR("authIdTokenMaxAge")||W$;let jI=null;const G$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K$)return;const s=n?.token;jI!==s&&(jI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function z$(t=tS()){const e=bl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wB(t,{popupRedirectResolver:$$,persistence:[e$,CS,NS]}),r=KR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=G$(i.toString());BB(n,o,()=>o(n.currentUser)),UB(n,a=>o(a))}}const s=HR("auth");return s&&vB(n,`http://${s}`),n}function Q$(){return document.getElementsByTagName("head")?.[0]??document}fB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Q$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H$("Browser");var qI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,$S;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,T){function I(){}I.prototype=T.prototype,w.D=T.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(P,O,N){for(var k=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)k[ge-2]=arguments[ge];return T.prototype[O].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(w,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)P[O]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(O=0;16>O;++O)P[O]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=w.g[0],I=w.g[1],O=w.g[2];var N=w.g[3],k=T+(N^I&(O^N))+P[0]+3614090360&4294967295;T=I+(k<<7&4294967295|k>>>25),k=N+(O^T&(I^O))+P[1]+3905402710&4294967295,N=T+(k<<12&4294967295|k>>>20),k=O+(I^N&(T^I))+P[2]+606105819&4294967295,O=N+(k<<17&4294967295|k>>>15),k=I+(T^O&(N^T))+P[3]+3250441966&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(N^I&(O^N))+P[4]+4118548399&4294967295,T=I+(k<<7&4294967295|k>>>25),k=N+(O^T&(I^O))+P[5]+1200080426&4294967295,N=T+(k<<12&4294967295|k>>>20),k=O+(I^N&(T^I))+P[6]+2821735955&4294967295,O=N+(k<<17&4294967295|k>>>15),k=I+(T^O&(N^T))+P[7]+4249261313&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(N^I&(O^N))+P[8]+1770035416&4294967295,T=I+(k<<7&4294967295|k>>>25),k=N+(O^T&(I^O))+P[9]+2336552879&4294967295,N=T+(k<<12&4294967295|k>>>20),k=O+(I^N&(T^I))+P[10]+4294925233&4294967295,O=N+(k<<17&4294967295|k>>>15),k=I+(T^O&(N^T))+P[11]+2304563134&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(N^I&(O^N))+P[12]+1804603682&4294967295,T=I+(k<<7&4294967295|k>>>25),k=N+(O^T&(I^O))+P[13]+4254626195&4294967295,N=T+(k<<12&4294967295|k>>>20),k=O+(I^N&(T^I))+P[14]+2792965006&4294967295,O=N+(k<<17&4294967295|k>>>15),k=I+(T^O&(N^T))+P[15]+1236535329&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(O^N&(I^O))+P[1]+4129170786&4294967295,T=I+(k<<5&4294967295|k>>>27),k=N+(I^O&(T^I))+P[6]+3225465664&4294967295,N=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(N^T))+P[11]+643717713&4294967295,O=N+(k<<14&4294967295|k>>>18),k=I+(N^T&(O^N))+P[0]+3921069994&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(O^N&(I^O))+P[5]+3593408605&4294967295,T=I+(k<<5&4294967295|k>>>27),k=N+(I^O&(T^I))+P[10]+38016083&4294967295,N=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(N^T))+P[15]+3634488961&4294967295,O=N+(k<<14&4294967295|k>>>18),k=I+(N^T&(O^N))+P[4]+3889429448&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(O^N&(I^O))+P[9]+568446438&4294967295,T=I+(k<<5&4294967295|k>>>27),k=N+(I^O&(T^I))+P[14]+3275163606&4294967295,N=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(N^T))+P[3]+4107603335&4294967295,O=N+(k<<14&4294967295|k>>>18),k=I+(N^T&(O^N))+P[8]+1163531501&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(O^N&(I^O))+P[13]+2850285829&4294967295,T=I+(k<<5&4294967295|k>>>27),k=N+(I^O&(T^I))+P[2]+4243563512&4294967295,N=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(N^T))+P[7]+1735328473&4294967295,O=N+(k<<14&4294967295|k>>>18),k=I+(N^T&(O^N))+P[12]+2368359562&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(I^O^N)+P[5]+4294588738&4294967295,T=I+(k<<4&4294967295|k>>>28),k=N+(T^I^O)+P[8]+2272392833&4294967295,N=T+(k<<11&4294967295|k>>>21),k=O+(N^T^I)+P[11]+1839030562&4294967295,O=N+(k<<16&4294967295|k>>>16),k=I+(O^N^T)+P[14]+4259657740&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(I^O^N)+P[1]+2763975236&4294967295,T=I+(k<<4&4294967295|k>>>28),k=N+(T^I^O)+P[4]+1272893353&4294967295,N=T+(k<<11&4294967295|k>>>21),k=O+(N^T^I)+P[7]+4139469664&4294967295,O=N+(k<<16&4294967295|k>>>16),k=I+(O^N^T)+P[10]+3200236656&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(I^O^N)+P[13]+681279174&4294967295,T=I+(k<<4&4294967295|k>>>28),k=N+(T^I^O)+P[0]+3936430074&4294967295,N=T+(k<<11&4294967295|k>>>21),k=O+(N^T^I)+P[3]+3572445317&4294967295,O=N+(k<<16&4294967295|k>>>16),k=I+(O^N^T)+P[6]+76029189&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(I^O^N)+P[9]+3654602809&4294967295,T=I+(k<<4&4294967295|k>>>28),k=N+(T^I^O)+P[12]+3873151461&4294967295,N=T+(k<<11&4294967295|k>>>21),k=O+(N^T^I)+P[15]+530742520&4294967295,O=N+(k<<16&4294967295|k>>>16),k=I+(O^N^T)+P[2]+3299628645&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(O^(I|~N))+P[0]+4096336452&4294967295,T=I+(k<<6&4294967295|k>>>26),k=N+(I^(T|~O))+P[7]+1126891415&4294967295,N=T+(k<<10&4294967295|k>>>22),k=O+(T^(N|~I))+P[14]+2878612391&4294967295,O=N+(k<<15&4294967295|k>>>17),k=I+(N^(O|~T))+P[5]+4237533241&4294967295,I=O+(k<<21&4294967295|k>>>11),k=T+(O^(I|~N))+P[12]+1700485571&4294967295,T=I+(k<<6&4294967295|k>>>26),k=N+(I^(T|~O))+P[3]+2399980690&4294967295,N=T+(k<<10&4294967295|k>>>22),k=O+(T^(N|~I))+P[10]+4293915773&4294967295,O=N+(k<<15&4294967295|k>>>17),k=I+(N^(O|~T))+P[1]+2240044497&4294967295,I=O+(k<<21&4294967295|k>>>11),k=T+(O^(I|~N))+P[8]+1873313359&4294967295,T=I+(k<<6&4294967295|k>>>26),k=N+(I^(T|~O))+P[15]+4264355552&4294967295,N=T+(k<<10&4294967295|k>>>22),k=O+(T^(N|~I))+P[6]+2734768916&4294967295,O=N+(k<<15&4294967295|k>>>17),k=I+(N^(O|~T))+P[13]+1309151649&4294967295,I=O+(k<<21&4294967295|k>>>11),k=T+(O^(I|~N))+P[4]+4149444226&4294967295,T=I+(k<<6&4294967295|k>>>26),k=N+(I^(T|~O))+P[11]+3174756917&4294967295,N=T+(k<<10&4294967295|k>>>22),k=O+(T^(N|~I))+P[2]+718787259&4294967295,O=N+(k<<15&4294967295|k>>>17),k=I+(N^(O|~T))+P[9]+3951481745&4294967295,w.g[0]=w.g[0]+T&4294967295,w.g[1]=w.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+N&4294967295}r.prototype.u=function(w,T){T===void 0&&(T=w.length);for(var I=T-this.blockSize,P=this.B,O=this.h,N=0;N<T;){if(O==0)for(;N<=I;)s(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<T;)if(P[O++]=w.charCodeAt(N++),O==this.blockSize){s(this,P),O=0;break}}else for(;N<T;)if(P[O++]=w[N++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var T=1;T<w.length-8;++T)w[T]=0;var I=8*this.o;for(T=w.length-8;T<w.length;++T)w[T]=I&255,I/=256;for(this.u(w),w=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)w[I++]=this.g[T]>>>P&255;return w};function i(w,T){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=T(w)}function o(w,T){this.h=T;for(var I=[],P=!0,O=w.length-1;0<=O;O--){var N=w[O]|0;P&&N==T||(I[O]=N,P=!1)}this.g=I}var a={};function c(w){return-128<=w&&128>w?i(w,function(T){return new o([T|0],0>T?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return v(l(-w));for(var T=[],I=1,P=0;w>=I;P++)T[P]=w/I|0,I*=4294967296;return new o(T,0)}function h(w,T){if(w.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w.charAt(0)=="-")return v(h(w.substring(1),T));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(T,8)),P=f,O=0;O<w.length;O+=8){var N=Math.min(8,w.length-O),k=parseInt(w.substring(O,O+N),T);8>N?(N=l(Math.pow(T,N)),P=P.j(N).add(l(k))):(P=P.j(I),P=P.add(l(k)))}return P}var f=c(0),d=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-v(this).m();for(var w=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);w+=(0<=P?P:4294967296+P)*T,T*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(y(this))return"0";if(_(this))return"-"+v(this).toString(w);for(var T=l(Math.pow(w,6)),I=this,P="";;){var O=A(I,T).g;I=b(I,O.j(T));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=O,y(I))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function y(w){if(w.h!=0)return!1;for(var T=0;T<w.g.length;T++)if(w.g[T]!=0)return!1;return!0}function _(w){return w.h==-1}t.l=function(w){return w=b(this,w),_(w)?-1:y(w)?0:1};function v(w){for(var T=w.g.length,I=[],P=0;P<T;P++)I[P]=~w.g[P];return new o(I,~w.h).add(d)}t.abs=function(){return _(this)?v(this):this},t.add=function(w){for(var T=Math.max(this.g.length,w.g.length),I=[],P=0,O=0;O<=T;O++){var N=P+(this.i(O)&65535)+(w.i(O)&65535),k=(N>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);P=k>>>16,N&=65535,k&=65535,I[O]=k<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(w,T){return w.add(v(T))}t.j=function(w){if(y(this)||y(w))return f;if(_(this))return _(w)?v(this).j(v(w)):v(v(this).j(w));if(_(w))return v(this.j(v(w)));if(0>this.l(m)&&0>w.l(m))return l(this.m()*w.m());for(var T=this.g.length+w.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<w.g.length;O++){var N=this.i(P)>>>16,k=this.i(P)&65535,ge=w.i(O)>>>16,Ie=w.i(O)&65535;I[2*P+2*O]+=k*Ie,R(I,2*P+2*O),I[2*P+2*O+1]+=N*Ie,R(I,2*P+2*O+1),I[2*P+2*O+1]+=k*ge,R(I,2*P+2*O+1),I[2*P+2*O+2]+=N*ge,R(I,2*P+2*O+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new o(I,0)};function R(w,T){for(;(w[T]&65535)!=w[T];)w[T+1]+=w[T]>>>16,w[T]&=65535,T++}function E(w,T){this.g=w,this.h=T}function A(w,T){if(y(T))throw Error("division by zero");if(y(w))return new E(f,f);if(_(w))return T=A(v(w),T),new E(v(T.g),v(T.h));if(_(T))return T=A(w,v(T)),new E(v(T.g),T.h);if(30<w.g.length){if(_(w)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var I=d,P=T;0>=P.l(w);)I=L(I),P=L(P);var O=M(I,1),N=M(P,1);for(P=M(P,2),I=M(I,2);!y(P);){var k=N.add(P);0>=k.l(w)&&(O=O.add(I),N=k),P=M(P,1),I=M(I,1)}return T=b(w,O.j(T)),new E(O,T)}for(O=f;0<=w.l(T);){for(I=Math.max(1,Math.floor(w.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=l(I),k=N.j(T);_(k)||0<k.l(w);)I-=P,N=l(I),k=N.j(T);y(N)&&(N=d),O=O.add(N),w=b(w,k)}return new E(O,w)}t.A=function(w){return A(this,w).h},t.and=function(w){for(var T=Math.max(this.g.length,w.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&w.i(P);return new o(I,this.h&w.h)},t.or=function(w){for(var T=Math.max(this.g.length,w.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|w.i(P);return new o(I,this.h|w.h)},t.xor=function(w){for(var T=Math.max(this.g.length,w.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^w.i(P);return new o(I,this.h^w.h)};function L(w){for(var T=w.g.length+1,I=[],P=0;P<T;P++)I[P]=w.i(P)<<1|w.i(P-1)>>>31;return new o(I,w.h)}function M(w,T){var I=T>>5;T%=32;for(var P=w.g.length-I,O=[],N=0;N<P;N++)O[N]=0<T?w.i(N+I)>>>T|w.i(N+I+1)<<32-T:w.i(N+I);return new o(O,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$S=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Ds=o}).apply(typeof qI<"u"?qI:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jS,ac,qS,ju,rm,HS,WS,KS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var $=u[S];if(!($ in g))break e;g=g[$]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var g=0,S=!1,$={next:function(){if(!S&&g<u.length){var K=g++;return{value:p(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function f(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),u.apply(p,$)}}return function(){return u.apply(p,arguments)}}function d(u,p,g){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function y(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,$,K){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return p.prototype[$].apply(S,re)}}function _(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function v(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(c(S)){const $=u.length||0,K=S.length||0;u.length=$+K;for(let re=0;re<K;re++)u[$+re]=S[re]}else u.push(S)}}class b{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function R(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var L=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function w(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function T(u){const p={};for(const g in u)p[g]=u[g];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let g,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(g in S)u[g]=S[g];for(let K=0;K<I.length;K++)g=I[K],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function O(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function N(u){a.setTimeout(()=>{throw u},0)}function k(){var u=Pe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ge{constructor(){this.h=this.g=null}add(p,g){const S=Ie.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var Ie=new b(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,le=!1,Pe=new ge,zt=()=>{const u=a.Promise.resolve(void 0);fe=()=>{u.then($t)}};var $t=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(g){N(g)}var p=Ie;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}le=!1};function Ke(){this.s=this.s,this.C=this.C}Ke.prototype.s=!1,Ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var Rn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function yn(u,p){if(Ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(L){e:{try{A(p.nodeName);var $=!0;break e}catch{}$=!1}$||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yn.aa.h.call(this)}}y(yn,Ge);var xt={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(u,p,g,S,$){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=$,this.key=++oe,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ve(u){this.src=u,this.g={},this.h=0}ve.prototype.add=function(u,p,g,S,$){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var re=x(u,p,S,$);return-1<re?(p=u[re],g||(p.fa=!1)):(p=new se(p,this.src,K,!!S,$),p.fa=g,u.push(p)),p};function Le(u,p){var g=p.type;if(g in u.g){var S=u.g[g],$=Array.prototype.indexOf.call(S,p,void 0),K;(K=0<=$)&&Array.prototype.splice.call(S,$,1),K&&(he(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function x(u,p,g,S){for(var $=0;$<u.length;++$){var K=u[$];if(!K.da&&K.listener==p&&K.capture==!!g&&K.ha==S)return $}return-1}var V="closure_lm_"+(1e6*Math.random()|0),q={};function Y(u,p,g,S,$){if(Array.isArray(p)){for(var K=0;K<p.length;K++)Y(u,p[K],g,S,$);return null}return g=H(g),u&&u[z]?u.K(p,g,l(S)?!!S.capture:!1,$):G(u,p,g,!1,S,$)}function G(u,p,g,S,$,K){if(!p)throw Error("Invalid event type");var re=l($)?!!$.capture:!!$,ze=Z(u);if(ze||(u[V]=ze=new ve(u)),g=ze.add(p,g,S,re,K),g.proxy)return g;if(S=C(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)Rn||($=re),$===void 0&&($=!1),u.addEventListener(p.toString(),S,$);else if(u.attachEvent)u.attachEvent(W(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function C(){function u(g){return p.call(u.src,u.listener,g)}const p=J;return u}function D(u,p,g,S,$){if(Array.isArray(p))for(var K=0;K<p.length;K++)D(u,p[K],g,S,$);else S=l(S)?!!S.capture:!!S,g=H(g),u&&u[z]?(u=u.i,p=String(p).toString(),p in u.g&&(K=u.g[p],g=x(K,g,S,$),-1<g&&(he(K[g]),Array.prototype.splice.call(K,g,1),K.length==0&&(delete u.g[p],u.h--)))):u&&(u=Z(u))&&(p=u.g[p.toString()],u=-1,p&&(u=x(p,g,S,$)),(g=-1<u?p[u]:null)&&U(g))}function U(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[z])Le(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(W(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Z(p))?(Le(g,u),g.h==0&&(g.src=null,p[V]=null)):he(u)}}}function W(u){return u in q?q[u]:q[u]="on"+u}function J(u,p){if(u.da)u=!0;else{p=new yn(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&U(u),u=g.call(S,p)}return u}function Z(u){return u=u[V],u instanceof ve?u:null}var F="__closure_events_fn_"+(1e9*Math.random()>>>0);function H(u){return typeof u=="function"?u:(u[F]||(u[F]=function(p){return u.handleEvent(p)}),u[F])}function ee(){Ke.call(this),this.i=new ve(this),this.M=this,this.F=null}y(ee,Ke),ee.prototype[z]=!0,ee.prototype.removeEventListener=function(u,p,g,S){D(this,u,p,g,S)};function ae(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Ge(p,u);else if(p instanceof Ge)p.target=p.target||u;else{var $=p;p=new Ge(S,u),P(p,$)}if($=!0,g)for(var K=g.length-1;0<=K;K--){var re=p.g=g[K];$=Te(re,S,!0,p)&&$}if(re=p.g=u,$=Te(re,S,!0,p)&&$,$=Te(re,S,!1,p)&&$,g)for(K=0;K<g.length;K++)re=p.g=g[K],$=Te(re,S,!1,p)&&$}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)he(g[S]);delete u.g[p],u.h--}}this.F=null},ee.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},ee.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function Te(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var $=!0,K=0;K<p.length;++K){var re=p[K];if(re&&!re.da&&re.capture==g){var ze=re.listener,jt=re.ha||re.src;re.fa&&Le(u.i,re),$=ze.call(jt,S)!==!1&&$}}return $&&!S.defaultPrevented}function Ae(u,p,g){if(typeof u=="function")g&&(u=d(u,g));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function at(u){u.g=Ae(()=>{u.g=null,u.i&&(u.i=!1,at(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Tt extends Ke{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(u){Ke.call(this),this.h=u,this.g={}}y(Dt,Ke);var Qt=[];function es(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&U(p)},u),u.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),es(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=a.JSON.stringify,sn=a.JSON.parse,Sn=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function to(){}to.prototype.h=null;function Na(u){return u.h||(u.h=u.i())}function $_(){}var xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zf(){Ge.call(this,"d")}y(Zf,Ge);function ed(){Ge.call(this,"c")}y(ed,Ge);var ti={},j_=null;function ql(){return j_=j_||new ee}ti.La="serverreachability";function q_(u){Ge.call(this,ti.La,u)}y(q_,Ge);function Da(u){const p=ql();ae(p,new q_(p))}ti.STAT_EVENT="statevent";function H_(u,p){Ge.call(this,ti.STAT_EVENT,u),this.stat=p}y(H_,Ge);function on(u){const p=ql();ae(p,new H_(p,u))}ti.Ma="timingevent";function W_(u,p){Ge.call(this,ti.Ma,u),this.size=p}y(W_,Ge);function La(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Oa(){this.g=!0}Oa.prototype.xa=function(){this.g=!1};function N0(u,p,g,S,$,K){u.info(function(){if(u.g)if(K)for(var re="",ze=K.split("&"),jt=0;jt<ze.length;jt++){var Oe=ze[jt].split("=");if(1<Oe.length){var Jt=Oe[0];Oe=Oe[1];var Yt=Jt.split("_");re=2<=Yt.length&&Yt[1]=="type"?re+(Jt+"="+Oe+"&"):re+(Jt+"=redacted&")}}else re=null;else re=K;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+p+`
`+g+`
`+re})}function x0(u,p,g,S,$,K,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+p+`
`+g+`
`+K+" "+re})}function no(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+L0(u,g)+(S?" "+S:"")})}function D0(u,p){u.info(function(){return"TIMEOUT: "+p})}Oa.prototype.info=function(){};function L0(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var re=1;re<$.length;re++)$[re]=""}}}}return eo(g)}catch{return p}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},K_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},td;function Wl(){}y(Wl,to),Wl.prototype.g=function(){return new XMLHttpRequest},Wl.prototype.i=function(){return{}},td=new Wl;function ts(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new G_}function G_(){this.i=null,this.g="",this.h=!1}var z_={},nd={};function rd(u,p,g){u.L=1,u.v=Ql(Ir(p)),u.m=g,u.P=!0,Q_(u,null)}function Q_(u,p){u.F=Date.now(),Kl(u),u.A=Ir(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ly(g.i,"t",S),u.C=0,g=u.j.J,u.h=new G_,u.g=Sy(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Tt(d(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var $="readystatechange";Array.isArray($)||($&&(Qt[0]=$.toString()),$=Qt);for(var K=0;K<$.length;K++){var re=Y(g,$[K],S||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Da(),N0(u.i,u.u,u.A,u.l,u.R,u.m)}ts.prototype.ca=function(u){u=u.target;const p=this.M;p&&vr(u)==3?p.j():this.Y(u)},ts.prototype.Y=function(u){try{if(u==this.g)e:{const Yt=vr(this.g);var p=this.g.Ba();const io=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||gy(this.g)))){this.J||Yt!=4||p==7||(p==8||0>=io?Da(3):Da(2)),sd(this);var g=this.g.Z();this.X=g;t:if(J_(this)){var S=gy(this.g);u="";var $=S.length,K=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Va(this);var re="";break t}this.h.i=new a.TextDecoder}for(p=0;p<$;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(K&&p==$-1)});S.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=g==200,x0(this.i,this.u,this.A,this.l,this.R,Yt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,jt=this.g;if((ze=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ze)){var Oe=ze;break t}}Oe=null}if(g=Oe)no(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,id(this,g);else{this.o=!1,this.s=3,on(12),ni(this),Va(this);break e}}if(this.P){g=!0;let Fn;for(;!this.J&&this.C<re.length;)if(Fn=O0(this,re),Fn==nd){Yt==4&&(this.s=4,on(14),g=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==z_){this.s=4,on(15),no(this.i,this.l,re,"[Invalid Chunk]"),g=!1;break}else no(this.i,this.l,Fn,null),id(this,Fn);if(J_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||re.length!=0||this.h.h||(this.s=1,on(16),g=!1),this.o=this.o&&g,!g)no(this.i,this.l,re,"[Invalid Chunked Response]"),ni(this),Va(this);else if(0<re.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),hd(Jt),Jt.M=!0,on(11))}}else no(this.i,this.l,re,null),id(this,re);Yt==4&&ni(this),this.o&&!this.J&&(Yt==4?Ty(this.j,this):(this.o=!1,Kl(this)))}else X0(this.g),g==400&&0<re.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),ni(this),Va(this)}}}catch{}finally{}};function J_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function O0(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?nd:(g=Number(p.substring(g,S)),isNaN(g)?z_:(S+=1,S+g>p.length?nd:(p=p.slice(S,S+g),u.C=S+g,p)))}ts.prototype.cancel=function(){this.J=!0,ni(this)};function Kl(u){u.S=Date.now()+u.I,Y_(u,u.I)}function Y_(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=La(d(u.ba,u),p)}function sd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ts.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(D0(this.i,this.A),this.L!=2&&(Da(),on(17)),ni(this),this.s=2,Va(this)):Y_(this,this.S-u)};function Va(u){u.j.G==0||u.J||Ty(u.j,u)}function ni(u){sd(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,es(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function id(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||od(g.h,u))){if(!u.K&&od(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)tu(g),Zl(g);else break e;ud(g),on(18)}}else g.za=$[1],0<g.za-g.T&&37500>$[2]&&g.F&&g.v==0&&!g.C&&(g.C=La(d(g.Za,g),6e3));if(1>=ey(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else si(g,11)}else if((u.K||g.g==u)&&tu(g),!R(p))for($=g.Da.g.parse(p),p=0;p<$.length;p++){let Oe=$[p];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];const Jt=Oe[3];Jt!=null&&(g.la=Jt,g.j.info("VER="+g.la));const Yt=Oe[4];Yt!=null&&(g.Aa=Yt,g.j.info("SVER="+g.Aa));const io=Oe[5];io!=null&&typeof io=="number"&&0<io&&(S=1.5*io,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Fn=u.g;if(Fn){const ru=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var K=S.h;K.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ad(K,K.h),K.h=null))}if(S.D){const fd=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;fd&&(S.ya=fd,st(S.I,S.D,fd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var re=u;if(S.qa=Ry(S,S.J?S.ia:null,S.W),re.K){ty(S.h,re);var ze=re,jt=S.L;jt&&(ze.I=jt),ze.B&&(sd(ze),Kl(ze)),S.g=re}else Iy(S);0<g.i.length&&eu(g)}else Oe[0]!="stop"&&Oe[0]!="close"||si(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?si(g,7):ld(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}Da(4)}catch{}}var V0=class{constructor(u,p){this.g=u,this.map=p}};function X_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ey(u){return u.h?1:u.g?u.g.size:0}function od(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ad(u,p){u.g?u.g.add(p):u.h=p}function ty(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}X_.prototype.cancel=function(){if(this.i=ny(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ny(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return _(u.i)}function M0(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function F0(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function ry(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=F0(u),S=M0(u),$=S.length,K=0;K<$;K++)p.call(void 0,S[K],g&&g[K],u)}var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U0(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),$=null;if(0<=S){var K=u[g].substring(0,S);$=u[g].substring(S+1)}else K=u[g];p(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ri){this.h=u.h,Gl(this,u.j),this.o=u.o,this.g=u.g,zl(this,u.s),this.l=u.l;var p=u.i,g=new Ua;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),iy(this,g),this.m=u.m}else u&&(p=String(u).match(sy))?(this.h=!1,Gl(this,p[1]||"",!0),this.o=Ma(p[2]||""),this.g=Ma(p[3]||"",!0),zl(this,p[4]),this.l=Ma(p[5]||"",!0),iy(this,p[6]||"",!0),this.m=Ma(p[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}ri.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Fa(p,oy,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Fa(p,oy,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Fa(g,g.charAt(0)=="/"?j0:$0,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Fa(g,H0)),u.join("")};function Ir(u){return new ri(u)}function Gl(u,p,g){u.j=g?Ma(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function zl(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function iy(u,p,g){p instanceof Ua?(u.i=p,W0(u.i,u.h)):(g||(p=Fa(p,q0)),u.i=new Ua(p,u.h))}function st(u,p,g){u.i.set(p,g)}function Ql(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ma(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fa(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,B0),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function B0(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oy=/[#\/\?@]/g,$0=/[#\?:]/g,j0=/[#\?]/g,q0=/[#\?@]/g,H0=/#/g;function Ua(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ns(u){u.g||(u.g=new Map,u.h=0,u.i&&U0(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Ua.prototype,t.add=function(u,p){ns(this),this.i=null,u=ro(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function ay(u,p){ns(u),p=ro(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function cy(u,p){return ns(u),p=ro(u,p),u.g.has(p)}t.forEach=function(u,p){ns(this),this.g.forEach(function(g,S){g.forEach(function($){u.call(p,$,S,this)},this)},this)},t.na=function(){ns(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const $=u[S];for(let K=0;K<$.length;K++)g.push(p[S])}return g},t.V=function(u){ns(this);let p=[];if(typeof u=="string")cy(this,u)&&(p=p.concat(this.g.get(ro(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return ns(this),this.i=null,u=ro(this,u),cy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ly(u,p,g){ay(u,p),0<g.length&&(u.i=null,u.g.set(ro(u,p),_(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const K=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var $=K;re[S]!==""&&($+="="+encodeURIComponent(String(re[S]))),u.push($)}}return this.i=u.join("&")};function ro(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function W0(u,p){p&&!u.j&&(ns(u),u.i=null,u.g.forEach(function(g,S){var $=S.toLowerCase();S!=$&&(ay(this,S),ly(this,$,g))},u)),u.j=p}function K0(u,p){const g=new Oa;if(a.Image){const S=new Image;S.onload=m(rs,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(rs,g,"TestLoadImage: error",!1,p,S),S.onabort=m(rs,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(rs,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function G0(u,p){const g=new Oa,S=new AbortController,$=setTimeout(()=>{S.abort(),rs(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout($),K.ok?rs(g,"TestPingServer: ok",!0,p):rs(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout($),rs(g,"TestPingServer: error",!1,p)})}function rs(u,p,g,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(g)}catch{}}function z0(){this.g=new Sn}function Q0(u,p,g){const S=g||"";try{ry(u,function($,K){let re=$;l($)&&(re=eo($)),p.push(S+K+"="+encodeURIComponent(re))})}catch($){throw p.push(S+"type="+encodeURIComponent("_badmap")),$}}function Jl(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Jl,to),Jl.prototype.g=function(){return new Yl(this.l,this.j)},Jl.prototype.i=function(u){return function(){return u}}({});function Yl(u,p){ee.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Yl,ee),t=Yl.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,$a(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function uy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ba(this):$a(this),this.readyState==3&&uy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ba(this))},t.Qa=function(u){this.g&&(this.response=u,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$a(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function $a(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hy(u){let p="";return M(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function cd(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=hy(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):st(u,p,g))}function pt(u){ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(pt,ee);var J0=/^https?$/i,Y0=["POST","PUT"];t=pt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():td.g(),this.v=this.o?Na(this.o):Na(td),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(K){fy(this,K);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)g.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())g.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(K=>K.toLowerCase()=="content-type"),$=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Y0,p,void 0))||S||$||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of g)this.g.setRequestHeader(K,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{my(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){fy(this,K)}};function fy(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,dy(u),Xl(u)}function dy(u){u.A||(u.A=!0,ae(u,"complete"),ae(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ae(this,"complete"),ae(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?py(this):this.bb())},t.bb=function(){py(this)};function py(u){if(u.h&&typeof o<"u"&&(!u.v[1]||vr(u)!=4||u.Z()!=2)){if(u.u&&vr(u)==4)Ae(u.Ea,0,u);else if(ae(u,"readystatechange"),vr(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=re===0){var $=String(u.D).match(sy)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),S=!J0.test($?$.toLowerCase():"")}g=S}if(g)ae(u,"complete"),ae(u,"success");else{u.m=6;try{var K=2<vr(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",dy(u)}}finally{Xl(u)}}}}function Xl(u,p){if(u.g){my(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ae(u,"ready");try{g.onreadystatechange=S}catch{}}}function my(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function vr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),sn(p)}};function gy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function X0(u){const p={};u=(u.g&&2<=vr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var g=O(u[S]);const $=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const K=p[$]||[];p[$]=K,K.push(g)}w(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function _y(u){this.Aa=0,this.i=[],this.j=new Oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,u),this.cb=ja("retryDelaySeedMs",1e4,u),this.Wa=ja("forwardChannelMaxRetries",2,u),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new X_(u&&u.concurrentRequestLimit),this.Da=new z0,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_y.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){on(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Ry(this,null,this.W),eu(this)};function ld(u){if(yy(u),u.G==3){var p=u.U++,g=Ir(u.I);if(st(g,"SID",u.K),st(g,"RID",p),st(g,"TYPE","terminate"),qa(u,g),p=new ts(u,u.j,p),p.L=2,p.v=Ql(Ir(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Sy(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Kl(p)}Ay(u)}function Zl(u){u.g&&(hd(u),u.g.cancel(),u.g=null)}function yy(u){Zl(u),u.u&&(a.clearTimeout(u.u),u.u=null),tu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function eu(u){if(!Z_(u.h)&&!u.s){u.s=!0;var p=u.Ga;fe||zt(),le||(fe(),le=!0),Pe.add(p,u),u.B=0}}function Z0(u,p){return ey(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=La(d(u.Ga,u,p),by(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new ts(this,this.j,u);let K=this.o;if(this.S&&(K?(K=T(K),P(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=wy(this,$,p),g=Ir(this.I),st(g,"RID",u),st(g,"CVER",22),this.D&&st(g,"X-HTTP-Session-Id",this.D),qa(this,g),K&&(this.O?p="headers="+encodeURIComponent(String(hy(K)))+"&"+p:this.m&&cd(g,this.m,K)),ad(this.h,$),this.Ua&&st(g,"TYPE","init"),this.P?(st(g,"$req",p),st(g,"SID","null"),$.T=!0,rd($,g,null)):rd($,g,p),this.G=2}}else this.G==3&&(u?Ey(this,u):this.i.length==0||Z_(this.h)||Ey(this))};function Ey(u,p){var g;p?g=p.l:g=u.U++;const S=Ir(u.I);st(S,"SID",u.K),st(S,"RID",g),st(S,"AID",u.T),qa(u,S),u.m&&u.o&&cd(S,u.m,u.o),g=new ts(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=wy(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ad(u.h,g),rd(g,S,p)}function qa(u,p){u.H&&M(u.H,function(g,S){st(p,S,g)}),u.l&&ry({},function(g,S){st(p,S,g)})}function wy(u,p,g){g=Math.min(u.i.length,g);var S=u.l?d(u.l.Na,u.l,u):null;e:{var $=u.i;let K=-1;for(;;){const re=["count="+g];K==-1?0<g?(K=$[0].g,re.push("ofs="+K)):K=0:re.push("ofs="+K);let ze=!0;for(let jt=0;jt<g;jt++){let Oe=$[jt].g;const Jt=$[jt].map;if(Oe-=K,0>Oe)K=Math.max(0,$[jt].g-100),ze=!1;else try{Q0(Jt,re,"req"+Oe+"_")}catch{S&&S(Jt)}}if(ze){S=re.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function Iy(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;fe||zt(),le||(fe(),le=!0),Pe.add(p,u),u.v=0}}function ud(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=La(d(u.Fa,u),by(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,vy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=La(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),Zl(this),vy(this))};function hd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function vy(u){u.g=new ts(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ir(u.qa);st(p,"RID","rpc"),st(p,"SID",u.K),st(p,"AID",u.T),st(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(p,"TO",u.ja),st(p,"TYPE","xmlhttp"),qa(u,p),u.m&&u.o&&cd(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Ql(Ir(p)),g.m=null,g.P=!0,Q_(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),ud(this),on(19))};function tu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ty(u,p){var g=null;if(u.g==p){tu(u),hd(u),u.g=null;var S=2}else if(od(u.h,p))g=p.D,ty(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var $=u.B;S=ql(),ae(S,new W_(S,g)),eu(u)}else Iy(u);else if($=p.s,$==3||$==0&&0<p.X||!(S==1&&Z0(u,p)||S==2&&ud(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),$){case 1:si(u,5);break;case 4:si(u,10);break;case 3:si(u,6);break;default:si(u,2)}}}function by(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function si(u,p){if(u.j.info("Error code "+p),p==2){var g=d(u.fb,u),S=u.Xa;const $=!S;S=new ri(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(S,"https"),Ql(S),$?K0(S.toString(),g):G0(S.toString(),g)}else on(2);u.G=0,u.l&&u.l.sa(p),Ay(u),yy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function Ay(u){if(u.G=0,u.ka=[],u.l){const p=ny(u.h);(p.length!=0||u.i.length!=0)&&(v(u.ka,p),v(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Ry(u,p,g){var S=g instanceof ri?Ir(g):new ri(g);if(S.g!="")p&&(S.g=p+"."+S.g),zl(S,S.s);else{var $=a.location;S=$.protocol,p=p?p+"."+$.hostname:$.hostname,$=+$.port;var K=new ri(null);S&&Gl(K,S),p&&(K.g=p),$&&zl(K,$),g&&(K.l=g),S=K}return g=u.D,p=u.ya,g&&p&&st(S,g,p),st(S,"VER",u.la),qa(u,S),S}function Sy(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new pt(new Jl({eb:g})):new pt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Py(){}t=Py.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(u,p){return new En(u,p)};function En(u,p){ee.call(this),this.g=new _y(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!R(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new so(this)}y(En,ee),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ld(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=eo(u),u=g);p.i.push(new V0(p.Ya++,u)),p.G==3&&eu(p)},En.prototype.N=function(){this.g.l=null,delete this.j,ld(this.g),delete this.g,En.aa.N.call(this)};function Cy(u){Zf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(Cy,Zf);function ky(){ed.call(this),this.status=1}y(ky,ed);function so(u){this.g=u}y(so,Py),so.prototype.ua=function(){ae(this.g,"a")},so.prototype.ta=function(u){ae(this.g,new Cy(u))},so.prototype.sa=function(u){ae(this.g,new ky)},so.prototype.ra=function(){ae(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,KS=function(){return new nu},WS=function(){return ql()},HS=ti,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,ju=Hl,K_.COMPLETE="complete",qS=K_,$_.EventType=xa,xa.OPEN="a",xa.CLOSE="b",xa.ERROR="c",xa.MESSAGE="d",ee.prototype.listen=ee.prototype.K,ac=$_,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,jS=pt}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});const HI="@firebase/firestore",WI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Ig("@firebase/firestore");function Eo(){return Ms.logLevel}function F3(t){Ms.setLogLevel(t)}function X(t,...e){if(Ms.logLevel<=Ce.DEBUG){const n=e.map(Dg);Ms.debug(`Firestore (${Ia}): ${t}`,...n)}}function yt(t,...e){if(Ms.logLevel<=Ce.ERROR){const n=e.map(Dg);Ms.error(`Firestore (${Ia}): ${t}`,...n)}}function Vn(t,...e){if(Ms.logLevel<=Ce.WARN){const n=e.map(Dg);Ms.warn(`Firestore (${Ia}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GS(t,r,n)}function GS(t,e,n){let r=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yt(r),new Error(r)}function de(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||GS(e,s,r)}function U3(t,e){t||ce(57014,e)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class Y${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X${constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ft,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ft)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new zS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class Z${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ej{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Z$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class B3{getToken(){return Promise.resolve(new sm(""))}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=nj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function im(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return zd(s)===zd(i)?ye(s,i):zd(s)?1:-1}return ye(t.length,e.length)}const rj=55296,sj=57343;function zd(t){const e=t.charCodeAt(0);return e>=rj&&e<=sj}function Qo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function QS(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="__name__";class nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=nr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const r=nr.isNumericId(e),s=nr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?nr.extractNumericId(e).compare(nr.extractNumericId(n)):im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class be extends nr{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const ij=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends nr{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return ij.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===om}static keyField(){return new lt([om])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(be.fromString(e))}static fromName(e){return new te(be.fromString(e).popFirst(5))}static empty(){return new te(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e,n){if(!n)throw new Q(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oj(t,e,n,r){if(e===!0&&r===!0)throw new Q(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KI(t){if(!te.isDocumentKey(t))throw new Q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GI(t){if(te.isDocumentKey(t))throw new Q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new Q(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YS(t,e){if(e<=0)throw new Q(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e){const n={typeString:t};return e&&(n.value=e),n}function zi(t,e){if(!JS(t))throw new Q(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=-62135596800,QI=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QI);return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zI)throw new Q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QI}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zi(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:St("string",Be._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Be(0,0))}static max(){return new pe(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=-1;class Yo{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function am(t){return t.fields.find(e=>e.kind===2)}function di(t){return t.fields.filter(e=>e.kind!==2)}function aj(t,e){let n=ye(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=cj(t.fields[r],e.fields[r]),n!==0)return n;return ye(t.fields.length,e.fields.length)}Yo.UNKNOWN_ID=-1;class Ai{constructor(e,n){this.fieldPath=e,this.kind=n}}function cj(t,e){const n=lt.comparator(t.fieldPath,e.fieldPath);return n!==0?n:ye(t.kind,e.kind)}class Xo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xo(0,An.min())}}function XS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new An(s,te.empty(),e)}function ZS(t){return new An(t.readTime,t.key,Jo)}class An{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new An(pe.min(),te.empty(),Jo)}static max(){return new An(pe.max(),te.empty(),Jo)}}function Vg(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==eP)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(h=>{o[l]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="SimpleDb";class Rf{static open(e,n,r,s){try{return new Rf(n,e.transaction(s,r))}catch(i){throw new bc(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ft,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new bc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Mg(r.target.error);this.S.reject(new bc(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(X(wn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uj(n)}}class dr{static delete(e){return X(wn,"Removing database:",e),mi(qR().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!YR())return!1;if(dr.F())return!0;const e=kt(),n=dr.M(e),r=0<n&&n<10,s=nP(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,dr.M(kt())===12.2&&yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(X(wn,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new bc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new Q(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Q(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new bc(e,o))},s.onupgradeneeded=i=>{X(wn,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next(()=>{X(wn,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const a=Rf.open(this.db,e,i?"readonly":"readwrite",r),c=s(a).next(l=>(a.C(),l)).catch(l=>(a.abort(l),B.reject(l))).toPromise();return c.catch(()=>{}),await a.D,c}catch(a){const c=a,l=c.name!=="FirebaseError"&&o<3;if(X(wn,"Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function nP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class lj{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return mi(this.U.delete())}}class bc extends Q{constructor(e,n){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Js(t){return t.name==="IndexedDbTransactionError"}class uj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X(wn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(X(wn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mi(r)}add(e){return X(wn,"ADD",this.store.name,e,e),mi(this.store.add(e))}get(e){return mi(this.store.get(e)).next(n=>(n===void 0&&(n=null),X(wn,"GET",this.store.name,e,n),n))}delete(e){return X(wn,"DELETE",this.store.name,e),mi(this.store.delete(e))}count(){return X(wn,"COUNT",this.store.name),mi(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new B((o,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.H(i,(a,c)=>{o.push(c)}).next(()=>o)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}Z(e,n){X(wn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,(i,o,a)=>a.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new B((r,s)=>{n.onerror=i=>{const o=Mg(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new B((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const c=new lj(a),l=n(a.primaryKey,a.value,c);if(l instanceof B){const h=l.catch(f=>(c.done(),B.reject(f)));r.push(h)}c.isDone?s():c.G===null?a.continue():a.continue(c.G)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function mi(t){return new B((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Mg(r.target.error);n(s)}})}let JI=!1;function Mg(t){const e=dr.M(kt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JI||(JI=!0,setTimeout(()=>{throw r},0)),r}}return t}const Ac="IndexBackfiller";class hj{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){X(Ac,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();X(Ac,`Documents written: ${n}`)}catch(n){Js(n)?X(Ac,"Ignoring IndexedDB error during index backfill: ",n):await Qs(n)}await this.re(6e4)})}}class fj{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let s=n,i=!0;return B.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return X(Ac,`Processing collection: ${o}`),this.oe(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this._e(s,i)).next(a=>(X(Ac,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}_e(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=ZS(i);Vg(o,r)>0&&(r=o)}),new An(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=-1;function Cl(t){return t==null}function Gc(t){return t===0&&1/t==-1/0}function rP(t){return typeof t=="number"&&Number.isInteger(t)&&!Gc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="";function nn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YI(e)),e=dj(t.get(n),e);return YI(e)}function dj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Nh:n+="";break;default:n+=i}}return n}function YI(t){return t+Nh+""}function or(t){const e=t.length;if(de(e>=2,64408,{path:t}),e===2)return de(t.charAt(0)===Nh&&t.charAt(1)==="",56145,{path:t}),be.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(Nh,i);switch((o<0||o>n)&&ce(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let c;s.length===0?c=a:(s+=a,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ce(61167,{path:t})}i=o+2}return new be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="remoteDocuments",kl="owner",lo="owner",zc="mutationQueues",pj="userId",Bn="mutations",XI="batchId",wi="userMutationsIndex",ZI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e){return[t,nn(e)]}function sP(t,e,n){return[t,nn(e),n]}const mj={},Zo="documentMutations",xh="remoteDocumentsV14",gj=["prefixPath","collectionGroup","readTime","documentId"],Hu="documentKeyIndex",_j=["prefixPath","collectionGroup","documentId"],iP="collectionGroupIndex",yj=["collectionGroup","readTime","prefixPath","documentId"],Qc="remoteDocumentGlobal",cm="remoteDocumentGlobalKey",ea="targets",oP="queryTargetsIndex",Ej=["canonicalId","targetId"],ta="targetDocuments",wj=["targetId","path"],Fg="documentTargetsIndex",Ij=["path","targetId"],Dh="targetGlobalKey",Ri="targetGlobal",Jc="collectionParents",vj=["collectionId","parent"],na="clientMetadata",Tj="clientId",Sf="bundles",bj="bundleId",Pf="namedQueries",Aj="name",Ug="indexConfiguration",Rj="indexId",lm="collectionGroupIndex",Sj="collectionGroup",Rc="indexState",Pj=["indexId","uid"],aP="sequenceNumberIndex",Cj=["uid","sequenceNumber"],Sc="indexEntries",kj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cP="documentKeyIndex",Nj=["indexId","uid","orderedDocumentKey"],Cf="documentOverlays",xj=["userId","collectionPath","documentId"],um="collectionPathOverlayIndex",Dj=["userId","collectionPath","largestBatchId"],lP="collectionGroupOverlayIndex",Lj=["userId","collectionGroup","largestBatchId"],Bg="globals",Oj="name",uP=[zc,Bn,Zo,pi,ea,kl,Ri,ta,na,Qc,Jc,Sf,Pf],Vj=[...uP,Cf],hP=[zc,Bn,Zo,xh,ea,kl,Ri,ta,na,Qc,Jc,Sf,Pf,Cf],fP=hP,$g=[...fP,Ug,Rc,Sc],Mj=$g,dP=[...$g,Bg],Fj=dP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends tP{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Nt(t,e){const n=ne(t);return dr.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pP(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qt.RED,this.left=s??qt.EMPTY,this.right=i??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new je(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gP("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const Uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=Uj.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="server_timestamp",yP="__type__",EP="__previous_value__",wP="__local_write_time__";function kf(t){return(t?.mapValue?.fields||{})[yP]?.stringValue===_P}function Nf(t){const e=t.mapValue.fields[EP];return kf(e)?Nf(e):e}function Yc(t){const e=Hr(t.mapValue.fields[wP].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n,r,s,i,o,a,c,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}}const Xc="(default)";class Vi{constructor(e,n){this.projectId=e,this.database=n||Xc}static empty(){return new Vi("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="__type__",IP="__max__",Ts={mapValue:{fields:{__type__:{stringValue:IP}}}},qg="__vector__",ra="value",Wu={nullValue:"NULL_VALUE"};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kf(t)?4:vP(t)?9007199254740991:xf(t)?10:11:ce(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hr(s.timestampValue),a=Hr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wr(s.bytesValue).isEqual(Wr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ct(s.geoPointValue.latitude)===ct(i.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ct(s.integerValue)===ct(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ct(s.doubleValue),a=ct(i.doubleValue);return o===a?Gc(o)===Gc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ev(o)!==ev(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yr(o[c],a[c])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Us(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ct(i.integerValue||i.doubleValue),c=ct(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return nv(t.timestampValue,e.timestampValue);case 4:return nv(Yc(t),Yc(e));case 5:return im(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Wr(i),c=Wr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=ye(a[l],c[l]);if(h!==0)return h}return ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ye(ct(i.latitude),ct(o.latitude));return a!==0?a:ye(ct(i.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rv(t.arrayValue,e.arrayValue);case 10:return function(i,o){const a=i.fields||{},c=o.fields||{},l=a[ra]?.arrayValue,h=c[ra]?.arrayValue,f=ye(l?.values?.length||0,h?.values?.length||0);return f!==0?f:rv(l,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ts.mapValue&&o===Ts.mapValue)return 0;if(i===Ts.mapValue)return 1;if(o===Ts.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const d=im(c[f],h[f]);if(d!==0)return d;const m=Us(a[c[f]],l[h[f]]);if(m!==0)return m}return ye(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function nv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Hr(t),r=Hr(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function rv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Us(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function sa(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function Ku(t){switch(Fs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(t);return e?16+Ku(e):16;case 5:return 2*t.stringValue.length;case 6:return Wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ku(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ys(r.fields,(i,o)=>{s+=i.length+Ku(o)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function Mi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dm(t){return!!t&&"integerValue"in t}function el(t){return!!t&&"arrayValue"in t}function sv(t){return!!t&&"nullValue"in t}function iv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gu(t){return!!t&&"mapValue"in t}function xf(t){return(t?.mapValue?.fields||{})[jg]?.stringValue===qg}function Pc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return{...t}}function vP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IP}const TP={mapValue:{fields:{[jg]:{stringValue:qg},[ra]:{arrayValue:{}}}}};function $j(t){return"nullValue"in t?Wu:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Mi(Vi.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?xf(t)?TP:{mapValue:{}}:ce(35942,{value:t})}function jj(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Mi(Vi.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?TP:"mapValue"in t?xf(t)?{mapValue:{}}:Ts:ce(61959,{value:t})}function ov(t,e){const n=Us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function av(t,e){const n=Us(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=lt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Pc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kt(Pc(this.value))}}function bP(t){const e=[];return Ys(t.fields,(n,r)=>{const s=new lt([n]);if(Gu(r)){const i=bP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new it(e,0,pe.min(),pe.min(),pe.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new it(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new it(e,2,n,pe.min(),pe.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,pe.min(),pe.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.position=e,this.inclusive=n}}function cv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Us(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function lv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function qj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{}class ke extends AP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hj(e,n,r):n==="array-contains"?new Gj(e,r):n==="in"?new NP(e,r):n==="not-in"?new zj(e,r):n==="array-contains-any"?new Qj(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wj(e,r):new Kj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Us(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends AP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $e(e,n)}matches(e){return ia(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ia(t){return t.op==="and"}function pm(t){return t.op==="or"}function Hg(t){return RP(t)&&ia(t)}function RP(t){for(const e of t.filters)if(e instanceof $e)return!1;return!0}function mm(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(Hg(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function SP(t,e){return t instanceof ke?function(r,s){return s instanceof ke&&r.op===s.op&&r.field.isEqual(s.field)&&yr(r.value,s.value)}(t,e):t instanceof $e?function(r,s){return s instanceof $e&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&SP(o,s.filters[a]),!0):!1}(t,e):void ce(19439)}function PP(t,e){const n=t.filters.concat(e);return $e.create(n,t.op)}function CP(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${sa(n.value)}`}(t):t instanceof $e?function(n){return n.op.toString()+" {"+n.getFilters().map(CP).join(" ,")+"}"}(t):"Filter"}class Hj extends ke{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wj extends ke{constructor(e,n){super(e,"in",n),this.keys=kP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kj extends ke{constructor(e,n){super(e,"not-in",n),this.keys=kP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kP(t,e){return(e.arrayValue?.values||[]).map(n=>te.fromName(n.referenceValue))}class Gj extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return el(n)&&Zc(n.arrayValue,this.value)}}class NP extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class zj extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class Qj extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!el(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function gm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Jj(t,e,n,r,s,i,o)}function Fi(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.Te=n}return e.Te}function Nl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lv(t.startAt,e.startAt)&&lv(t.endAt,e.endAt)}function Lh(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Oh(t,e){return t.filters.filter(n=>n instanceof ke&&n.field.isEqual(e))}function uv(t,e,n){let r=Wu,s=!0;for(const i of Oh(t,e)){let o=Wu,a=!0;switch(i.op){case"<":case"<=":o=$j(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=Wu}ov({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];ov({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function hv(t,e,n){let r=Ts,s=!0;for(const i of Oh(t,e)){let o=Ts,a=!0;switch(i.op){case">=":case">":o=jj(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Ts}av({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];av({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xP(t,e,n,r,s,i,o,a){return new Jr(t,e,n,r,s,i,o,a)}function va(t){return new Jr(t)}function fv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Wg(t){return t.collectionGroup!==null}function Vo(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new je(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new tl(i,r))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new tl(lt.keyField(),r))}return e.Ie}function rn(t){const e=ne(t);return e.Ee||(e.Ee=LP(e,Vo(t))),e.Ee}function DP(t){const e=ne(t);return e.de||(e.de=LP(e,t.explicitOrderBy)),e.de}function LP(t,e){if(t.limitType==="F")return gm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new tl(s.field,i)});const n=t.endAt?new Bs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bs(t.startAt.position,t.startAt.inclusive):null;return gm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _m(t,e){const n=t.filters.concat([e]);return new Jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vh(t,e,n){return new Jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xl(t,e){return Nl(rn(t),rn(e))&&t.limitType===e.limitType}function OP(t){return`${Fi(rn(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CP(s)).join(", ")}]`),Cl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>sa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>sa(s)).join(",")),`Target(${r})`}(rn(t))}; limitType=${t.limitType})`}function Dl(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Vo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=cv(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Vo(r),s)||r.endAt&&!function(o,a,c){const l=cv(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Vo(r),s))}(t,e)}function VP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MP(t){return(e,n)=>{let r=!1;for(const s of Vo(t)){const i=Yj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Yj(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Us(c,l):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return mP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new rt(te.comparator);function mn(){return Xj}const FP=new rt(te.comparator);function cc(...t){let e=FP;for(const n of t)e=e.insert(n.key,n);return e}function UP(t){let e=FP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ar(){return Cc()}function BP(){return Cc()}function Cc(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zj=new rt(te.comparator),e6=new je(te.comparator);function we(...t){let e=e6;for(const n of t)e=e.add(n);return e}const t6=new je(ye);function Kg(){return t6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function $P(t){return{integerValue:""+t}}function jP(t,e){return rP(e)?$P(e):Gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function n6(t,e,n){return t instanceof oa?function(s,i){const o={fields:{[yP]:{stringValue:_P},[wP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&kf(i)&&(i=Nf(i)),i&&(o.fields[EP]=i),{mapValue:o}}(n,e):t instanceof Ui?HP(t,e):t instanceof Bi?WP(t,e):function(s,i){const o=qP(s,i),a=dv(o)+dv(s.Ae);return dm(o)&&dm(s.Ae)?$P(a):Gg(s.serializer,a)}(t,e)}function r6(t,e,n){return t instanceof Ui?HP(t,e):t instanceof Bi?WP(t,e):n}function qP(t,e){return t instanceof aa?function(r){return dm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class oa extends Df{}class Ui extends Df{constructor(e){super(),this.elements=e}}function HP(t,e){const n=KP(e);for(const r of t.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Bi extends Df{constructor(e){super(),this.elements=e}}function WP(t,e){let n=KP(e);for(const r of t.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class aa extends Df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dv(t){return ct(t.integerValue||t.doubleValue)}function KP(t){return el(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.field=e,this.transform=n}}function s6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ui&&s instanceof Ui||r instanceof Bi&&s instanceof Bi?Qo(r.elements,s.elements,yr):r instanceof aa&&s instanceof aa?yr(r.Ae,s.Ae):r instanceof oa&&s instanceof oa}(t.transform,e.transform)}class i6{constructor(e,n){this.version=e,this.transformResults=n}}class ut{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ut}static exists(e){return new ut(void 0,e)}static updateTime(e){return new ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function GP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ba(t.key,ut.none()):new Ta(t.key,t.data,ut.none());{const n=t.data,r=Kt.empty();let s=new je(lt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xr(t.key,r,new pn(s.toArray()),ut.none())}}function o6(t,e,n){t instanceof Ta?function(s,i,o){const a=s.value.clone(),c=mv(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(s,i,o){if(!zu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=mv(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(zP(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function kc(t,e,n,r){return t instanceof Ta?function(i,o,a,c){if(!zu(i.precondition,o))return a;const l=i.value.clone(),h=gv(i.fieldTransforms,c,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(i,o,a,c){if(!zu(i.precondition,o))return a;const l=gv(i.fieldTransforms,c,o),h=o.data;return h.setAll(zP(i)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return zu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function a6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qP(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function pv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Qo(r,s,(i,o)=>s6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ta extends Lf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xr extends Lf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mv(t,e,n){const r=new Map;de(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,r6(o,a,n[s]))}return r}function gv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,n6(i,o,e))}return r}class ba extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zg extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&o6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=GP(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>pv(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>pv(n,r))}}class Jg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){de(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Zj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Jg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ne;function JP(t){switch(t){case j.OK:return ce(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function YP(t){if(t===void 0)return yt("GRPC error has no .code"),j.UNKNOWN;switch(t){case bt.OK:return j.OK;case bt.CANCELLED:return j.CANCELLED;case bt.UNKNOWN:return j.UNKNOWN;case bt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case bt.INTERNAL:return j.INTERNAL;case bt.UNAVAILABLE:return j.UNAVAILABLE;case bt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case bt.NOT_FOUND:return j.NOT_FOUND;case bt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case bt.ABORTED:return j.ABORTED;case bt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case bt.DATA_LOSS:return j.DATA_LOSS;default:return ce(39323,{code:t})}}(Ne=bt||(bt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Ds([4294967295,4294967295],0);function _v(t){const e=XP().encode(t),n=new $S;return n.update(e),new Uint8Array(n.digest())}function yv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([s,i],0)]}class Xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ds.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ds.fromNumber(r)));return s.compare(l6)===1&&(s=new Ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_v(e),[r,s]=yv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=_v(e),[r,s]=yv(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ol(pe.min(),s,new rt(ye),mn(),we())}}class Vl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class ZP{constructor(e,n){this.targetId=e,this.Ce=n}}class eC{constructor(e,n,r=_t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ev{constructor(){this.ve=0,this.Fe=wv(),this.Me=_t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new Vl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class u6{constructor(e){this.Ge=e,this.ze=new Map,this.je=mn(),this.Je=bu(),this.He=bu(),this.Ye=new rt(ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Lh(i))if(r===0){const o=new te(i.path);this.et(n,o,it.newNoDocument(o,pe.min()))}else de(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,l)}ym?.lt(function(h,f,d,m,y){const _={localCacheCount:h,existenceFilterCount:f.count,databaseId:d.database,projectId:d.projectId},v=f.unchangedNames;return v&&(_.bloomFilter={applied:y===0,hashCount:v?.hashCount??0,bitmapLength:v?.bits?.bitmap?.length??0,padding:v?.bits?.padding??0,mightContain:b=>m?.mightContain(b)??!1}),_}(o,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Wr(r).toUint8Array()}catch(c){if(c instanceof gP)return Vn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Xg(o,s,i)}catch(c){return Vn(c instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Lh(a.target)){const c=new te(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,it.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=we();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.ot(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ol(e,n,this.Ye,this.je,r);return this.je=mn(),this.Je=bu(),this.He=bu(),this.Ye=new rt(ye),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ev,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new je(ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new je(ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ev),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bu(){return new rt(te.comparator)}function wv(){return new rt(te.comparator)}const h6={asc:"ASCENDING",desc:"DESCENDING"},f6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d6={and:"AND",or:"OR"};class p6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||Cl(e)?e:{value:e}}function ca(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m6(t,e){return ca(t,e.toTimestamp())}function It(t){return de(!!t,49232),pe.fromTimestamp(function(n){const r=Hr(n);return new Be(r.seconds,r.nanos)}(t))}function Zg(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nC(t){const e=be.fromString(t);return de(hC(e),10190,{key:e.toString()}),e}function nl(t,e){return Zg(t.databaseId,e.path)}function pr(t,e){const n=nC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(iC(n))}function rC(t,e){return Zg(t.databaseId,e)}function sC(t){const e=nC(t);return e.length===4?be.emptyPath():iC(e)}function Im(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iC(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Iv(t,e,n){return{name:nl(t,e),fields:n.value.mapValue.fields}}function Of(t,e,n){const r=pr(t,e.name),s=It(e.updateTime),i=e.createTime?It(e.createTime):pe.min(),o=new Kt({mapValue:{fields:e.fields}}),a=it.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function g6(t,e){return"found"in e?function(r,s){de(!!s.found,43571),s.found.name,s.found.updateTime;const i=pr(r,s.found.name),o=It(s.found.updateTime),a=s.found.createTime?It(s.found.createTime):pe.min(),c=new Kt({mapValue:{fields:s.found.fields}});return it.newFoundDocument(i,o,a,c)}(t,e):"missing"in e?function(r,s){de(!!s.missing,3894),de(!!s.readTime,22933);const i=pr(r,s.missing),o=It(s.readTime);return it.newNoDocument(i,o)}(t,e):ce(7234,{result:e})}function _6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,h){return l.useProto3Json?(de(h===void 0||typeof h=="string",58123),_t.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const h=l.code===void 0?j.UNKNOWN:YP(l.code);return new Q(h,l.message||"")}(o);n=new eC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pr(t,r.document.name),i=It(r.document.updateTime),o=r.document.createTime?It(r.document.createTime):pe.min(),a=new Kt({mapValue:{fields:r.document.fields}}),c=it.newFoundDocument(s,i,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Qu(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pr(t,r.document),i=r.readTime?It(r.readTime):pe.min(),o=it.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pr(t,r.document),i=r.removedTargetIds||[];n=new Qu([],i,s,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new c6(s,i),a=r.targetId;n=new ZP(a,o)}}return n}function rl(t,e){let n;if(e instanceof Ta)n={update:Iv(t,e.key,e.value)};else if(e instanceof ba)n={delete:nl(t,e.key)};else if(e instanceof Xr)n={update:Iv(t,e.key,e.data),updateMask:T6(e.fieldMask)};else{if(!(e instanceof zg))return ce(16599,{Vt:e.type});n={verify:nl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof oa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ui)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof aa)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:m6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function vm(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?ut.updateTime(It(i.updateTime)):i.exists!==void 0?ut.exists(i.exists):ut.none()}(e.currentDocument):ut.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let c=null;if("setToServerValue"in a)de(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),c=new oa;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];c=new Ui(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];c=new Bi(h)}else"increment"in a?c=new aa(o,a.increment):ce(16584,{proto:a});const l=lt.fromServerFormat(a.fieldPath);return new Ll(l,c)}(t,s)):[];if(e.update){e.update.name;const s=pr(t,e.update.name),i=new Kt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const l=c.fieldPaths||[];return new pn(l.map(h=>lt.fromServerFormat(h)))}(e.updateMask);return new Xr(s,i,o,n,r)}return new Ta(s,i,n,r)}if(e.delete){const s=pr(t,e.delete);return new ba(s,n)}if(e.verify){const s=pr(t,e.verify);return new zg(s,n)}return ce(1463,{proto:e})}function y6(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?It(s.updateTime):It(i);return o.isEqual(pe.min())&&(o=It(i)),new i6(o,s.transformResults||[])}(n,e))):[]}function oC(t,e){return{documents:[rC(t,e.path)]}}function Vf(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rC(t,s);const i=function(l){if(l.length!==0)return uC($e.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(h=>function(d){return{field:ws(d.field),direction:w6(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ft:n,parent:s}}function aC(t,e,n,r){const{ft:s,parent:i}=Vf(t,e),o={},a=[];let c=0;return n.forEach(l=>{const h=r?l.alias:"aggregate_"+c++;o[h]=l.alias,l.aggregateType==="count"?a.push({alias:h,count:{}}):l.aggregateType==="avg"?a.push({alias:h,avg:{field:ws(l.fieldPath)}}):l.aggregateType==="sum"&&a.push({alias:h,sum:{field:ws(l.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:s.structuredQuery},parent:s.parent},gt:o,parent:i}}function cC(t){let e=sC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){de(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const d=lC(f);return d instanceof $e&&Hg(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(y){return new tl(Io(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Cl(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(f){const d=!!f.before,m=f.values||[];return new Bs(m,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,m=f.values||[];return new Bs(m,d)}(n.endAt)),xP(e,s,o,i,a,"F",c,l)}function E6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Io(n.unaryFilter.field);return ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Io(n.unaryFilter.field);return ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Io(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return ke.create(Io(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $e.create(n.compositeFilter.filters.map(r=>lC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function w6(t){return h6[t]}function I6(t){return f6[t]}function v6(t){return d6[t]}function ws(t){return{fieldPath:t.canonicalString()}}function Io(t){return lt.fromServerFormat(t.fieldPath)}function uC(t){return t instanceof ke?function(n){if(n.op==="=="){if(iv(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NAN"}};if(sv(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iv(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NAN"}};if(sv(n.value))return{unaryFilter:{field:ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(n.field),op:I6(n.op),value:n.value}}}(t):t instanceof $e?function(n){const r=n.getFilters().map(s=>uC(s));return r.length===1?r[0]:{compositeFilter:{op:v6(n.op),filters:r}}}(t):ce(54877,{filter:t})}function T6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=_t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.yt=e}}function b6(t,e){let n;if(e.document)n=Of(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),s=ji(e.noDocument.readTime);n=it.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ce(56709);{const r=te.fromSegments(e.unknownDocument.path),s=ji(e.unknownDocument.version);n=it.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Be(s[0],s[1]);return pe.fromTimestamp(i)}(e.readTime)),n}function vv(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:nl(i,o.key),fields:o.data.value.mapValue.fields,updateTime:ca(i,o.version.toTimestamp()),createTime:ca(i,o.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$i(e.version)};else{if(!e.isUnknownDocument())return ce(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:$i(e.version)}}return r}function Mh(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $i(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ji(t){const e=new Be(t.seconds,t.nanoseconds);return pe.fromTimestamp(e)}function gi(t,e){const n=(e.baseMutations||[]).map(i=>vm(t.yt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>vm(t.yt,i)),s=Be.fromMillis(e.localWriteTimeMs);return new Qg(e.batchId,s,n,r)}function uc(t){const e=ji(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ji(t.lastLimboFreeSnapshotVersion):pe.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return de(o===1,1966,{count:o}),rn(va(sC(i.documents[0])))}(t.query):function(i){return rn(cC(i))}(t.query),new Or(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,_t.fromBase64String(t.resumeToken))}function dC(t,e){const n=$i(e.snapshotVersion),r=$i(e.lastLimboFreeSnapshotVersion);let s;s=Lh(e.target)?oC(t.yt,e.target):Vf(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fi(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Mf(t){const e=cC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vh(e,e.limit,"L"):e}function Qd(t,e){return new Yg(e.largestBatchId,vm(t.yt,e.overlayMutation))}function Tv(t,e){const n=e.path.lastSegment();return[t,nn(e.path.popLast()),n]}function bv(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:$i(r.readTime),documentKey:nn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{getBundleMetadata(e,n){return Av(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:ji(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return Av(e).put(function(s){return{bundleId:s.id,createTime:$i(It(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return Rv(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:Mf(i.bundledQuery),readTime:ji(i.readTime)}}(r)})}saveNamedQuery(e,n){return Rv(e).put(function(s){return{name:s.name,readTime:$i(It(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function Av(t){return Nt(t,Sf)}function Rv(t){return Nt(t,Pf)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Ff(e,r)}getOverlay(e,n){return Xa(e).get(Tv(this.userId,n)).next(r=>r?Qd(this.serializer,r):null)}getOverlays(e,n){const r=ar();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new Yg(n,o);s.push(this.St(e,a))}),B.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(nn(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Xa(e).Z(um,a))}),B.waitFor(i)}getOverlaysForCollection(e,n,r){const s=ar(),i=nn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Xa(e).J(um,o).next(a=>{for(const c of a){const l=Qd(this.serializer,c);s.set(l.getKey(),l)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=ar();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xa(e).ee({index:lP,range:a},(c,l,h)=>{const f=Qd(this.serializer,l);i.size()<s||f.largestBatchId===o?(i.set(f.getKey(),f),o=f.largestBatchId):h.done()}).next(()=>i)}St(e,n){return Xa(e).put(function(s,i,o){const[a,c,l]=Tv(i,o.mutation.key);return{userId:i,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:rl(s.yt,o.mutation)}}(this.serializer,this.userId,n))}}function Xa(t){return Nt(t,Cf)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{bt(e){return Nt(e,Bg)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n?.value;return r?_t.fromUint8Array(r):_t.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(ct(e.integerValue));else if("doubleValue"in e){const r=ct(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Gc(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Hr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Wr(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?vP(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):xf(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ce(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const s=ra,i=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(ct(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),te.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}_i.Kt=new _i;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=255;function S6(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function Sv(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=S6(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class P6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=Sv(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=Sv(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(ho),this.sn(255)}_n(){this.an(ho),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===ho?(this.sn(ho),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===ho?(this.an(ho),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class C6{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class k6{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Za{constructor(){this.cn=new P6,this.ln=new C6(this.cn),this.hn=new k6(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new yi(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Ju(this.En),directionalValue:Ju(this.dn),orderedDocumentKey:Ju(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function cs(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=Pv(t.En,e.En),n!==0?n:(n=Pv(t.dn,e.dn),n!==0?n:te.comparator(t.In,e.In)))}function Pv(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Ju(t){return JR()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function Cv(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class kv{constructor(e){this.mn=new je((n,r)=>lt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(de(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=am(e);if(n!==void 0&&!this.wn(n))return!1;const r=di(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const a=this.mn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const c=r[i];if(!this.Sn(a,c)||!this.bn(this.fn[o++],c))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],a))return!1}return!0}Dn(){if(this.pn)return null;let e=new je(lt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ai(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ai(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ai(r.field,r.dir==="asc"?0:1)));return new Yo(Yo.UNKNOWN_ID,this.collectionId,n,Xo.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){if(de(t instanceof ke||t instanceof $e,20012),t instanceof ke){if(t instanceof NP){const n=t.value.arrayValue?.values?.map(r=>ke.create(t.field,"==",r))||[];return $e.create(n,"or")}return t}const e=t.filters.map(n=>pC(n));return $e.create(e,t.op)}function N6(t){if(t.getFilters().length===0)return[];const e=Am(pC(t));return de(mC(e),7391),Tm(e)||bm(e)?[e]:e.getFilters()}function Tm(t){return t instanceof ke}function bm(t){return t instanceof $e&&Hg(t)}function mC(t){return Tm(t)||bm(t)||function(n){if(n instanceof $e&&pm(n)){for(const r of n.getFilters())if(!Tm(r)&&!bm(r))return!1;return!0}return!1}(t)}function Am(t){if(de(t instanceof ke||t instanceof $e,34018),t instanceof ke)return t;if(t.filters.length===1)return Am(t.filters[0]);const e=t.filters.map(r=>Am(r));let n=$e.create(e,t.op);return n=Fh(n),mC(n)?n:(de(n instanceof $e,64498),de(ia(n),40251),de(n.filters.length>1,57927),n.filters.reduce((r,s)=>e_(r,s)))}function e_(t,e){let n;return de(t instanceof ke||t instanceof $e,38388),de(e instanceof ke||e instanceof $e,25473),n=t instanceof ke?e instanceof ke?function(s,i){return $e.create([s,i],"and")}(t,e):Nv(t,e):e instanceof ke?Nv(e,t):function(s,i){if(de(s.filters.length>0&&i.filters.length>0,48005),ia(s)&&ia(i))return PP(s,i.getFilters());const o=pm(s)?s:i,a=pm(s)?i:s,c=o.filters.map(l=>e_(l,a));return $e.create(c,"or")}(t,e),Fh(n)}function Nv(t,e){if(ia(e))return PP(e,t.getFilters());{const n=e.filters.map(r=>e_(t,r));return $e.create(n,"or")}}function Fh(t){if(de(t instanceof ke||t instanceof $e,11850),t instanceof ke)return t;const e=t.getFilters();if(e.length===1)return Fh(e[0]);if(RP(t))return t;const n=e.map(s=>Fh(s)),r=[];return n.forEach(s=>{s instanceof ke?r.push(s):s instanceof $e&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:$e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.Cn=new t_}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(An.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(An.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class t_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new je(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new je(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="IndexedDbIndexManager",Au=new Uint8Array(0);class D6{constructor(e,n){this.databaseId=n,this.vn=new t_,this.Fn=new Yr(r=>Fi(r),(r,s)=>Nl(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:r,parent:nn(s)};return Dv(e).put(i)}return B.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[QS(n),""],!1,!0);return Dv(e).J(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(or(o.parent))}return r})}addFieldIndex(e,n){const r=ec(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=po(e);return i.next(a=>{o.put(bv(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=ec(e),s=po(e),i=fo(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=ec(e),r=fo(e),s=po(e);return n.Z().next(()=>r.Z()).next(()=>s.Z())}createTargetIndexes(e,n){return B.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new kv(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=fo(e);let s=!0;const i=new Map;return B.forEach(this.Mn(n),o=>this.xn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=we();const a=[];return B.forEach(i,(c,l)=>{X(xv,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(c)} to execute ${Fi(n)}`);const h=function(E,A){const L=am(A);if(L===void 0)return null;for(const M of Oh(E,L.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(l,c),f=function(E,A){const L=new Map;for(const M of di(A))for(const w of Oh(E,M.fieldPath))switch(w.op){case"==":case"in":L.set(M.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return L.set(M.fieldPath.canonicalString(),w.value),Array.from(L.values())}return null}(l,c),d=function(E,A){const L=[];let M=!0;for(const w of di(A)){const T=w.kind===0?uv(E,w.fieldPath,E.startAt):hv(E,w.fieldPath,E.startAt);L.push(T.value),M&&(M=T.inclusive)}return new Bs(L,M)}(l,c),m=function(E,A){const L=[];let M=!0;for(const w of di(A)){const T=w.kind===0?hv(E,w.fieldPath,E.endAt):uv(E,w.fieldPath,E.endAt);L.push(T.value),M&&(M=T.inclusive)}return new Bs(L,M)}(l,c),y=this.On(c,l,d),_=this.On(c,l,m),v=this.Nn(c,l,f),b=this.Bn(c.indexId,h,y,d.inclusive,_,m.inclusive,v);return B.forEach(b,R=>r.Y(R,n.limit).next(E=>{E.forEach(A=>{const L=te.fromSegments(A.documentKey);o.has(L)||(o=o.add(L),a.push(L))})}))}).next(()=>a)}return B.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=N6($e.create(e.filters,"and")).map(r=>gm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,a){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),l=c/(n!=null?n.length:1),h=[];for(let f=0;f<c;++f){const d=n?this.Ln(n[f/l]):Au,m=this.kn(e,d,r[f%l],s),y=this.qn(e,d,i[f%l],o),_=a.map(v=>this.kn(e,d,v,!0));h.push(...this.createRange(m,y,_))}return h}kn(e,n,r,s){const i=new yi(e,te.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new yi(e,te.empty(),n,r);return s?i.An():i}xn(e,n){const r=new kv(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.yn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Mn(n);return B.forEach(s,i=>this.xn(e,i).next(o=>{o?r!==0&&o.fields.length<function(c){let l=new je(lt.comparator),h=!1;for(const f of c.filters)for(const d of f.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?h=!0:l=l.add(d.field));for(const f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(h?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}Qn(e,n){const r=new Za;for(const s of di(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);_i.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new Za;return _i.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Za;return _i.Kt.Dt(Mi(this.databaseId,n),r.Pn(function(i){const o=di(i);return o.length===0?0:o[o.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Za);let i=0;for(const o of di(e)){const a=r[i++];for(const c of s)if(this.Un(n,o.fieldPath)&&el(a))s=this.Kn(s,o,a);else{const l=c.Pn(o.kind);_i.Kt.Dt(a,l)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const c=new Za;c.seed(a.un()),_i.Kt.Dt(o,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find(r=>r instanceof ke&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=ec(e),s=po(e);return(n?r.J(lm,IDBKeyRange.bound(n,n)):r.J()).next(i=>{const o=[];return B.forEach(i,a=>s.get([a.indexId,this.uid]).next(c=>{o.push(function(h,f){const d=f?new Xo(f.sequenceNumber,new An(ji(f.readTime),new te(or(f.documentKey)),f.largestBatchId)):Xo.empty(),m=h.fields.map(([y,_])=>new Ai(lt.fromServerFormat(y),_));return new Yo(h.indexId,h.collectionGroup,m,d)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:ye(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=ec(e),i=po(e);return this.Gn(e).next(o=>s.J(lm,IDBKeyRange.bound(n,n)).next(a=>B.forEach(a,c=>i.put(bv(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?B.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),B.forEach(a,c=>this.zn(e,s,c).next(l=>{const h=this.jn(i,c);return l.isEqual(h)?B.resolve():this.Jn(e,i,c,l,h)}))))})}Hn(e,n,r,s){return fo(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return fo(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=fo(e);let i=new je(cs);return s.ee({index:cP,range:IDBKeyRange.only([r.indexId,this.uid,Ju(this.$n(r,n))])},(o,a)=>{i=i.add(new yi(r.indexId,n,Cv(a.arrayValue),Cv(a.directionalValue)))}).next(()=>i)}jn(e,n){let r=new je(cs);const s=this.Qn(n,e);if(s==null)return r;const i=am(n);if(i!=null){const o=e.data.field(i.fieldPath);if(el(o))for(const a of o.arrayValue.values||[])r=r.add(new yi(n.indexId,e.key,this.Ln(a),s))}else r=r.add(new yi(n.indexId,e.key,Au,s));return r}Jn(e,n,r,s,i){X(xv,"Updating index entries for document '%s'",n.key);const o=[];return function(c,l,h,f,d){const m=c.getIterator(),y=l.getIterator();let _=uo(m),v=uo(y);for(;_||v;){let b=!1,R=!1;if(_&&v){const E=h(_,v);E<0?R=!0:E>0&&(b=!0)}else _!=null?R=!0:b=!0;b?(f(v),v=uo(y)):R?(d(_),_=uo(m)):(_=uo(m),v=uo(y))}}(s,i,cs,a=>{o.push(this.Hn(e,n,r,a))},a=>{o.push(this.Yn(e,n,r,a))}),B.waitFor(o)}Gn(e){let n=1;return po(e).ee({index:aP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>cs(o,a)).filter((o,a,c)=>!a||cs(o,c[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=cs(o,e),c=cs(o,n);if(a===0)s[0]=e.An();else if(a>0&&c<0)s.push(o),s.push(o.An());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const a=s[o].Vn(this.uid,Au,te.empty()),c=s[o+1].Vn(this.uid,Au,te.empty());i.push(IDBKeyRange.bound(a,c))}return i}Zn(e,n){return cs(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Lv)}getMinOffset(e,n){return B.mapArray(this.Mn(n),r=>this.xn(e,r).next(s=>s||ce(44426))).next(Lv)}}function Dv(t){return Nt(t,Jc)}function fo(t){return Nt(t,Sc)}function ec(t){return Nt(t,Ug)}function po(t){return Nt(t,Rc)}function Lv(t){de(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Vg(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new An(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gC=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,n){const r=t.store(Bn),s=t.store(Zo),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.ee({range:o},(h,f,d)=>(a++,d.delete()));i.push(c.next(()=>{de(a===1,47070,{batchId:n.batchId})}));const l=[];for(const h of n.mutations){const f=sP(e,h.key.path,n.batchId);i.push(s.delete(f)),l.push(h.key)}return B.waitFor(i).next(()=>l)}function Uh(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ce(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(gC,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class Uf{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){de(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Uf(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).ee({index:wi,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=vo(e),o=ls(e);return o.add({}).next(a=>{de(typeof a=="number",49019);const c=new Qg(a,n,r,s),l=function(m,y,_){const v=_.baseMutations.map(R=>rl(m.yt,R)),b=_.mutations.map(R=>rl(m.yt,R));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,c),h=[];let f=new je((d,m)=>ye(d.canonicalString(),m.canonicalString()));for(const d of s){const m=sP(this.userId,d.key.path,a);f=f.add(d.key.path.popLast()),h.push(o.put(l)),h.push(i.put(m,mj))}return f.forEach(d=>{h.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.Xn[a]=c.keys()}),B.waitFor(h).next(()=>c)})}lookupMutationBatch(e,n){return ls(e).get(n).next(r=>r?(de(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),gi(this.serializer,r)):null)}er(e,n){return this.Xn[n]?B.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ls(e).ee({index:wi,range:s},(o,a,c)=>{a.userId===this.userId&&(de(a.batchId>=r,47524,{tr:r}),i=gi(this.serializer,a)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ls;return ls(e).ee({index:wi,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Ls],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).J(wi,n).next(r=>r.map(s=>gi(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=qu(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return vo(e).ee({range:s},(o,a,c)=>{const[l,h,f]=o,d=or(h);if(l===this.userId&&n.path.isEqual(d))return ls(e).get(f).next(m=>{if(!m)throw ce(61480,{nr:o,batchId:f});de(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:f}),i.push(gi(this.serializer,m))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(ye);const s=[];return n.forEach(i=>{const o=qu(this.userId,i.path),a=IDBKeyRange.lowerBound(o),c=vo(e).ee({range:a},(l,h,f)=>{const[d,m,y]=l,_=or(m);d===this.userId&&i.path.isEqual(_)?r=r.add(y):f.done()});s.push(c)}),B.waitFor(s).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=qu(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new je(ye);return vo(e).ee({range:o},(c,l,h)=>{const[f,d,m]=c,y=or(d);f===this.userId&&r.isPrefixOf(y)?y.length===s&&(a=a.add(m)):h.done()}).next(()=>this.rr(e,a))}rr(e,n){const r=[],s=[];return n.forEach(i=>{s.push(ls(e).get(i).next(o=>{if(o===null)throw ce(35274,{batchId:i});de(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(gi(this.serializer,o))}))}),B.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return _C(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),B.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return vo(e).ee({range:r},(i,o,a)=>{if(i[0]===this.userId){const c=or(i[1]);s.push(c)}else a.done()}).next(()=>{de(s.length===0,56720,{sr:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return yC(e,this.userId,n)}_r(e){return EC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ls,lastStreamToken:""})}}function yC(t,e,n){const r=qu(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return vo(t).ee({range:i,X:!0},(a,c,l)=>{const[h,f,d]=a;h===e&&f===s&&(o=!0),l.done()}).next(()=>o)}function ls(t){return Nt(t,Bn)}function vo(t){return Nt(t,Zo)}function EC(t){return Nt(t,zc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qi(0)}static cr(){return new qi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new qi(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>pe.fromTimestamp(new Be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>mo(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(de(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return mo(e).ee((o,a)=>{const c=uc(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(i)).next(()=>s)}forEachTarget(e,n){return mo(e).ee((r,s)=>{const i=uc(s);n(i)})}lr(e){return Vv(e).get(Dh).next(n=>(de(n!==null,2888),n))}hr(e,n){return Vv(e).put(Dh,n)}Pr(e,n){return mo(e).put(dC(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Fi(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return mo(e).ee({range:s,index:oP},(o,a,c)=>{const l=uc(a);Nl(n,l.target)&&(i=l,c.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Is(e);return n.forEach(o=>{const a=nn(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),B.waitFor(s)}removeMatchingKeys(e,n,r){const s=Is(e);return B.forEach(n,i=>{const o=nn(i.path);return B.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Is(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Is(e);let i=we();return s.ee({range:r,X:!0},(o,a,c)=>{const l=or(o[1]),h=new te(l);i=i.add(h)}).next(()=>i)}containsKey(e,n){const r=nn(n.path),s=IDBKeyRange.bound([r],[QS(r)],!1,!0);let i=0;return Is(e).ee({index:Fg,X:!0,range:s},([o,a],c,l)=>{o!==0&&(i++,l.done())}).next(()=>i>0)}At(e,n){return mo(e).get(n).next(r=>r?uc(r):null)}}function mo(t){return Nt(t,ea)}function Vv(t){return Nt(t,Ri)}function Is(t){return Nt(t,ta)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",wC=1048576;function Fv([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class O6{constructor(e){this.Ir=e,this.buffer=new je(Fv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Fv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(Mv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Js(n)?X(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.Vr(3e5)})}}class V6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(dn.ce);const r=new O6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Ov)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Eo()<=Ce.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function vC(t,e){return new V6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.db=e,this.garbageCollector=vC(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,s)=>n(s))}addReference(e,n,r){return Ru(e,r)}removeReference(e,n,r){return Ru(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ru(e,n)}br(e,n){return function(s,i){let o=!1;return EC(s).te(a=>yC(s,a,i).next(c=>(c&&(o=!0),B.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,(o,a)=>{if(a<=n){const c=this.br(e,o).next(l=>{if(!l)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,pe.min()),Is(e).delete(function(f){return[0,nn(f.path)]}(o))))});s.push(c)}}).next(()=>B.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ru(e,n)}Sr(e,n){const r=Is(e);let s,i=dn.ce;return r.ee({index:Fg},([o,a],{path:c,sequenceNumber:l})=>{o===0?(i!==dn.ce&&n(new te(or(s)),i),i=l,s=c):i=dn.ce}).next(()=>{i!==dn.ce&&n(new te(or(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ru(t,e){return Is(t).put(function(r,s){return{targetId:0,path:nn(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return li(e).put(r)}removeEntry(e,n,r){return li(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Mh(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=it.newInvalidDocument(n);return li(e).ee({index:Hu,range:IDBKeyRange.only(tc(n))},(s,i)=>{r=this.Cr(n,i)}).next(()=>r)}vr(e,n){let r={size:0,document:it.newInvalidDocument(n)};return li(e).ee({index:Hu,range:IDBKeyRange.only(tc(n))},(s,i)=>{r={document:this.Cr(n,i),size:Uh(i)}}).next(()=>r)}getEntries(e,n){let r=mn();return this.Fr(e,n,(s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)}).next(()=>r)}Mr(e,n){let r=mn(),s=new rt(te.comparator);return this.Fr(e,n,(i,o)=>{const a=this.Cr(i,o);r=r.insert(i,a),s=s.insert(i,Uh(o))}).next(()=>({documents:r,Or:s}))}Fr(e,n,r){if(n.isEmpty())return B.resolve();let s=new je($v);n.forEach(c=>s=s.add(c));const i=IDBKeyRange.bound(tc(s.first()),tc(s.last())),o=s.getIterator();let a=o.getNext();return li(e).ee({index:Hu,range:i},(c,l,h)=>{const f=te.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&$v(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?h.j(tc(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Mh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return li(e).J(IDBKeyRange.bound(a,c,!0)).next(l=>{i?.incrementDocumentReadCount(l.length);let h=mn();for(const f of l){const d=this.Cr(te.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d.isFoundDocument()&&(Dl(n,d)||s.has(d.key))&&(h=h.insert(d.key,d))}return h})}getAllFromCollectionGroup(e,n,r,s){let i=mn();const o=Bv(n,r),a=Bv(n,An.max());return li(e).ee({index:iP,range:IDBKeyRange.bound(o,a,!0)},(c,l,h)=>{const f=this.Cr(te.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);i=i.insert(f.key,f),i.size===s&&h.done()}).next(()=>i)}newChangeBuffer(e){return new U6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Uv(e).get(cm).next(n=>(de(!!n,20021),n))}Dr(e,n){return Uv(e).put(cm,n)}Cr(e,n){if(n){const r=b6(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(pe.min())))return r}return it.newInvalidDocument(e)}}function bC(t){return new F6(t)}class U6 extends TC{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Yr(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new je((i,o)=>ye(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const c=vv(this.Nr.serializer,o);s=s.add(i.path.popLast());const l=Uh(c);r+=l-a.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=a.size,this.trackRemovals){const c=vv(this.Nr.serializer,o.convertToNoDocument(pe.min()));n.push(this.Nr.addEntry(e,i,c))}}),s.forEach(i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Nr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:s})=>(s.forEach((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function Uv(t){return Nt(t,Qc)}function li(t){return Nt(t,xh)}function tc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bv(t,e){const n=e.documentKey.path.toArray();return[t,Mh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $v(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=ye(n[i],r[i]),s)return s;return s=ye(n.length,r.length),s||(s=ye(n[n.length-2],r[r.length-2]),s||ye(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kc(r.mutation,s,pn.empty(),Be.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=ar();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cc();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=mn();const o=Cc(),a=function(){return Cc()}();return n.forEach((c,l)=>{const h=r.get(l.key);s.has(l.key)&&(h===void 0||h.mutation instanceof Xr)?i=i.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),kc(h.mutation,l,h.mutation.getFieldMask(),Be.now())):o.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>a.set(l,new B6(h,o.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new rt((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let h=r.get(c)||pn.empty();h=a.applyToLocalView(l,h),r.set(c,h);const f=(s.get(a.batchId)||we()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,f=BP();h.forEach(d=>{if(!i.has(d)){const m=GP(n.get(d),r.get(d));m!==null&&f.set(d,m),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(ar());let a=Jo,c=i;return o.next(l=>B.forEach(l,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{c=c.insert(h,d)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,we())).next(h=>({batchId:a,changes:UP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=cc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cc();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const l=function(f,d){return new Jr(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const h=l.getKey();o.get(h)===null&&(o=o.insert(h,it.newInvalidDocument(h)))});let a=cc();return o.forEach((c,l)=>{const h=i.get(c);h!==void 0&&kc(h.mutation,l,pn.empty(),Be.now()),Dl(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:It(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Mf(s.bundledQuery),readTime:It(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.overlays=new rt(te.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ar();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=ar(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new rt((l,h)=>l-h);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=i.get(l.largestBatchId);h===null&&(h=ar(),i=i.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=ar(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Yg(n,r));let i=this.qr.get(n);i===void 0&&(i=we(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Qr=new je(Lt.$r),this.Ur=new je(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new be([])),r=new Lt(n,e),s=new Lt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new be([])),r=new Lt(n,e),s=new Lt(n,e+1);let i=we();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||ye(e.Yr,n.Yr)}static Kr(e,n){return ye(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new je(Lt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qg(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Lt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ls:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(ye);return n.forEach(s=>{const i=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new Lt(new te(i),0);let a=new je(ye);return this.Zr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new Lt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Lt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.ri=e,this.docs=function(){return new rt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=mn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():it.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=mn();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Vg(ZS(h),r)<=0||(s.has(h.key)||Dl(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K6(this)}getSize(e){return B.resolve(this.size)}}class K6 extends TC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.persistence=e,this.si=new Yr(n=>Fi(n),Nl),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new n_,this.targetCount=0,this.ai=qi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){this.ui={},this.overlays={},this.ci=new dn(0),this.li=!1,this.li=!0,this.hi=new q6,this.referenceDelegate=e(this),this.Pi=new G6(this),this.indexManager=new x6,this.remoteDocumentCache=function(s){return new W6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new fC(n),this.Ii=new $6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new H6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new z6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class z6 extends tP{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.Ri=new n_,this.Vi=null}static mi(e){return new Bf(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.pi=new Yr(r=>nn(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vC(this,n)}static mi(e,n){return new Bh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ku(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.serializer=e}k(e,n,r,s){const i=new Rf("createOrUpgrade",n);r<1&&s>=1&&(function(c){c.createObjectStore(kl)}(e),function(c){c.createObjectStore(zc,{keyPath:pj}),c.createObjectStore(Bn,{keyPath:XI,autoIncrement:!0}).createIndex(wi,ZI,{unique:!0}),c.createObjectStore(Zo)}(e),jv(e),function(c){c.createObjectStore(pi)}(e));let o=B.resolve();return r<3&&s>=3&&(r!==0&&(function(c){c.deleteObjectStore(ta),c.deleteObjectStore(ea),c.deleteObjectStore(Ri)}(e),jv(e)),o=o.next(()=>function(c){const l=c.store(Ri),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return l.put(Dh,h)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(c,l){return l.store(Bn).J().next(f=>{c.deleteObjectStore(Bn),c.createObjectStore(Bn,{keyPath:XI,autoIncrement:!0}).createIndex(wi,ZI,{unique:!0});const d=l.store(Bn),m=f.map(y=>d.put(y));return B.waitFor(m)})}(e,i))),o=o.next(()=>{(function(c){c.createObjectStore(na,{keyPath:Tj})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.yi(i))),r<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore(Qc)}(e),this.wi(i)))),r<7&&s>=7&&(o=o.next(()=>this.Si(i))),r<8&&s>=8&&(o=o.next(()=>this.bi(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.Di(i))),r<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(Sf,{keyPath:bj})})(e),function(c){c.createObjectStore(Pf,{keyPath:Aj})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(c){const l=c.createObjectStore(Cf,{keyPath:xj});l.createIndex(um,Dj,{unique:!1}),l.createIndex(lP,Lj,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore(xh,{keyPath:gj});l.createIndex(Hu,_j),l.createIndex(iP,yj)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(pi))),r<14&&s>=14&&(o=o.next(()=>this.Fi(e,i))),r<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore(Ug,{keyPath:Rj,autoIncrement:!0}).createIndex(lm,Sj,{unique:!1}),c.createObjectStore(Rc,{keyPath:Pj}).createIndex(aP,Cj,{unique:!1}),c.createObjectStore(Sc,{keyPath:kj}).createIndex(cP,Nj,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(Rc).clear()}).next(()=>{n.objectStore(Sc).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(Bg,{keyPath:Oj})})(e)})),r<18&&s>=18&&JR()&&(o=o.next(()=>{n.objectStore(Rc).clear()}).next(()=>{n.objectStore(Sc).clear()})),o}wi(e){let n=0;return e.store(pi).ee((r,s)=>{n+=Uh(s)}).next(()=>{const r={byteSize:n};return e.store(Qc).put(cm,r)})}yi(e){const n=e.store(zc),r=e.store(Bn);return n.J().next(s=>B.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,Ls],[i.userId,i.lastAcknowledgedBatchId]);return r.J(wi,o).next(a=>B.forEach(a,c=>{de(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const l=gi(this.serializer,c);return _C(e,i.userId,l).next(()=>{})}))}))}Si(e){const n=e.store(ta),r=e.store(pi);return e.store(Ri).get(Dh).next(s=>{const i=[];return r.ee((o,a)=>{const c=new be(o),l=function(f){return[0,nn(f)]}(c);i.push(n.get(l).next(h=>h?B.resolve():(f=>n.put({targetId:0,path:nn(f),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>B.waitFor(i))})}bi(e,n){e.createObjectStore(Jc,{keyPath:vj});const r=n.store(Jc),s=new t_,i=o=>{if(s.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:nn(c)})}};return n.store(pi).ee({X:!0},(o,a)=>{const c=new be(o);return i(c.popLast())}).next(()=>n.store(Zo).ee({X:!0},([o,a,c],l)=>{const h=or(a);return i(h.popLast())}))}Di(e){const n=e.store(ea);return n.ee((r,s)=>{const i=uc(s),o=dC(this.serializer,i);return n.put(o)})}Ci(e,n){const r=n.store(pi),s=[];return r.ee((i,o)=>{const a=n.store(xh),c=function(f){return f.document?new te(be.fromString(f.document.name).popFirst(5)):f.noDocument?te.fromSegments(f.noDocument.path):f.unknownDocument?te.fromSegments(f.unknownDocument.path):ce(36783)}(o).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(l))}).next(()=>B.waitFor(s))}Fi(e,n){const r=n.store(Bn),s=bC(this.serializer),i=new r_(Bf.mi,this.serializer.yt);return r.J().next(o=>{const a=new Map;return o.forEach(c=>{let l=a.get(c.userId)??we();gi(this.serializer,c).keys().forEach(h=>l=l.add(h)),a.set(c.userId,l)}),B.forEach(a,(c,l)=>{const h=new Ot(l),f=Ff.wt(this.serializer,h),d=i.getIndexManager(h),m=Uf.wt(h,this.serializer,d,i.referenceDelegate);return new AC(s,m,f,d).recalculateAndSaveOverlaysForDocumentKeys(new hm(n,dn.ce),c).next()})})}}function jv(t){t.createObjectStore(ta,{keyPath:wj}).createIndex(Fg,Ij,{unique:!0}),t.createObjectStore(ea,{keyPath:"targetId"}).createIndex(oP,Ej,{unique:!0}),t.createObjectStore(Ri)}const us="IndexedDbPersistence",Jd=18e5,Yd=5e3,Xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RC="main";class s_{constructor(e,n,r,s,i,o,a,c,l,h,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=a,this.xi=l,this.Oi=h,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=d=>Promise.resolve(),!s_.v())throw new Q(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new M6(this,s),this.$i=n+RC,this.serializer=new fC(c),this.Ui=new dr(this.$i,this.Ni,new Q6(this.serializer)),this.hi=new R6,this.Pi=new L6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bC(this.serializer),this.Ii=new A6,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&yt(us,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(j.FAILED_PRECONDITION,Xd);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new dn(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Su(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(Js(e))return X(us,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X(us,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return nc(e).get(lo).next(n=>B.resolve(this.es(n)))}ts(e){return Su(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Jd)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nt(n,na);return r.J().next(s=>{const i=this.ss(s,Jd),o=s.filter(a=>i.indexOf(a)===-1);return B.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):nc(e).get(lo).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Yd)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Q(j.FAILED_PRECONDITION,Xd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Su(e).J().next(r=>this.ss(r,Yd).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X(us,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[kl,na],e=>{const n=new hm(e,dn.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Su(e).J().next(n=>this.ss(n,Jd).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Uf.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new D6(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ff.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){X(us,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(c){return c===18?Fj:c===17?dP:c===16?Mj:c===15?$g:c===14?fP:c===13?hP:c===12?Vj:c===11?uP:void ce(60245)}(this.Ni);let o;return this.Ui.runTransaction(e,s,i,a=>(o=new hm(a,this.ci?this.ci.next():dn.ce),n==="readwrite-primary"?this.Hi(o).next(c=>!!c||this.Yi(o)).next(c=>{if(!c)throw yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Q(j.FAILED_PRECONDITION,eP);return r(o)}).next(c=>this.Xi(o).next(()=>c)):this.Is(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Is(e){return nc(e).get(lo).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Yd)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Q(j.FAILED_PRECONDITION,Xd)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nc(e).put(lo,n)}static v(){return dr.v()}Zi(e){const n=nc(e);return n.get(lo).next(r=>this.es(r)?(X(us,"Releasing primary lease."),n.delete(lo)):B.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;QR()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return X(us,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return yt(us,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){yt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nc(t){return Nt(t,kl)}function Su(t){return Nt(t,na)}function i_(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new o_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QR()?8:nP(kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new J6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Eo()<=Ce.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Eo()<=Ce.DEBUG&&X("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Eo()<=Ce.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rn(n))):B.resolve())}ys(e,n){if(fv(n))return B.resolve(null);let r=rn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vh(n,null,"F"),r=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Ds(n,a);return this.Cs(n,l,o,c.readTime)?this.ys(e,Vh(n,null,"F")):this.vs(e,l,n,c)}))})))}ws(e,n,r,s){return fv(n)||s.isEqual(pe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Eo()<=Ce.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wo(n)),this.vs(e,o,n,XS(s,Jo)).next(a=>a))})}Ds(e,n){let r=new je(MP(e));return n.forEach((s,i)=>{Dl(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Eo()<=Ce.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(e,n,An.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LocalStore",Y6=3e8;class X6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new rt(ye),this.xs=new Yr(i=>Fi(i),Nl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PC(t,e,n,r){return new X6(t,e,n,r)}async function CC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=we();for(const l of s){o.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of i){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Ls:l,removedBatchIds:o,addedBatchIds:a}))})})}function Z6(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const f=l.batch,d=f.keys();let m=B.resolve();return d.forEach(y=>{m=m.next(()=>h.getEntry(c,y)).next(_=>{const v=l.docVersions.get(y);de(v!==null,48541),_.version.compareTo(v)<0&&(f.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),h.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function e9(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let m=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(_t.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(_,v,b){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Y6?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,m,h)&&a.push(n.Pi.updateTargetData(i,m))});let c=mn(),l=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(NC(i,o,e.documentUpdates).next(h=>{c=h.ks,l=h.qs})),!r.isEqual(pe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.Ms=s,i))}function NC(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=mn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X(a_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{ks:o,qs:s}})}function t9(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ls),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function la(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ua(t,e,n){const r=ne(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Js(o))throw o;X(a_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function $h(t,e,n){const r=ne(t);let s=pe.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,h){const f=ne(c),d=f.xs.get(h);return d!==void 0?B.resolve(f.Ms.get(d)):f.Pi.getTargetData(l,h)}(r,o,rn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:we())).next(a=>(LC(r,VP(e),a),{documents:a,Qs:i})))}function xC(t,e){const n=ne(t),r=ne(n.Pi),s=n.Ms.get(e);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",i=>r.At(i,e).next(o=>o?o.target:null))}function DC(t,e){const n=ne(t),r=n.Os.get(e)||pe.min();return n.persistence.runTransaction("Get new document changes","readonly",s=>n.Ns.getAllFromCollectionGroup(s,e,XS(r,Jo),Number.MAX_SAFE_INTEGER)).then(s=>(LC(n,e,s),s))}function LC(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}async function n9(t,e,n,r){const s=ne(t);let i=we(),o=mn();for(const l of n){const h=e.$s(l.metadata.name);l.document&&(i=i.add(h));const f=e.Us(l);f.setReadTime(e.Ks(l.metadata.readTime)),o=o.insert(h,f)}const a=s.Ns.newChangeBuffer({trackRemovals:!0}),c=await la(s,function(h){return rn(va(be.fromString(`__bundle__/docs/${h}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",l=>NC(l,a,o).next(h=>(a.apply(l),h)).next(h=>s.Pi.removeMatchingKeysForTargetId(l,c.targetId).next(()=>s.Pi.addMatchingKeys(l,i,c.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(l,h.ks,h.qs)).next(()=>h.ks)))}async function r9(t,e,n=we()){const r=await la(t,rn(Mf(e.bundledQuery))),s=ne(t);return s.persistence.runTransaction("Save named query","readwrite",i=>{const o=It(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return s.Ii.saveNamedQuery(i,e);const a=r.withResumeToken(_t.EMPTY_BYTE_STRING,o);return s.Ms=s.Ms.insert(a.targetId,a),s.Pi.updateTargetData(i,a).next(()=>s.Pi.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>s.Pi.addMatchingKeys(i,n,r.targetId)).next(()=>s.Ii.saveNamedQuery(i,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firestore_clients";function qv(t,e){return`${OC}_${t}_${e}`}const VC="firestore_mutations";function Hv(t,e,n){let r=`${VC}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const MC="firestore_targets";function Zd(t,e){return`${MC}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="SharedClientState";class jh{constructor(e,n,r,s){this.user=e,this.batchId=n,this.state=r,this.error=s}static Ws(e,n,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new Q(s.error.code,s.error.message))),o?new jh(e,n,s.state,i):(yt(rr,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new Q(r.error.code,r.error.message))),i?new Nc(e,r.state,s):(yt(rr,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=Kg();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=rP(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new qh(e,i):(yt(rr,`Failed to parse client data for instance '${e}': ${n}`),null)}}class c_{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new c_(n.clientId,n.onlineState):(yt(rr,`Failed to parse online state: ${e}`),null)}}class Rm{constructor(){this.activeTargetIds=Kg()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ep{constructor(e,n,r,s,i){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new rt(ye),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.eo=qv(this.persistenceKey,this.Js),this.no=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Rm),this.ro=new RegExp(`^${OC}_${o}_([^_]*)$`),this.io=new RegExp(`^${VC}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${MC}_${o}_(\\d+)$`),this.oo=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this._o=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const s=this.getItem(qv(this.persistenceKey,r));if(s){const i=qh.Ws(r,s);i&&(this.Zs=this.Zs.insert(i.clientId,i))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Zd(this.persistenceKey,e));if(s){const i=Nc.Ws(e,s);i&&(r=i.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zd(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach(s=>{this.Po(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return X(rr,"READ",e,n),n}setItem(e,n){X(rr,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){X(rr,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(X(rr,"EVENT",n.key,n.newValue),n.key===this.eo)return void yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=function(i){let o=dn.ce;if(i!=null)try{const a=JSON.parse(i);de(typeof a=="number",30636,{So:i}),o=a}catch(a){yt(rr,"Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==dn.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map(s=>this.syncEngine.Do(s)))}}}else this.Xs.push(n)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const s=new jh(this.currentUser,e,n,r),i=Hv(this.persistenceKey,this.currentUser,e);this.setItem(i,s.Gs())}Po(e){const n=Hv(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const s=Zd(this.persistenceKey,e),i=new Nc(e,n,r);this.setItem(s,i.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return qh.Ws(r,n)}fo(e,n){const r=this.io.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return jh.Ws(new Ot(i),s,n)}yo(e,n){const r=this.so.exec(e),s=Number(r[1]);return Nc.Ws(s,n)}uo(e){return c_.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);X(rr,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),s=this.lo(this.Zs),i=this.lo(r),o=[],a=[];return i.forEach(c=>{s.has(c)||o.push(c)}),s.forEach(c=>{i.has(c)||a.push(c)}),this.syncEngine.Fo(o,a).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=Kg();return e.forEach((r,s)=>{n=n.unionWith(s.activeTargetIds)}),n}}class FC{constructor(){this.Mo=new Rm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class Kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(Wv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(Wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function Sm(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",i9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Sm(),a=this.zo(e,n.toUriEncodedString());X(tp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:l}=new URL(a),h=Gi(l);return this.Jo(e,a,c,r,h).then(f=>(X(tp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Vn(tp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=i9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class c9 extends o9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Sm();return new Promise((a,c)=>{const l=new jS;l.setWithCredentials(!0),l.listenOnce(qS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ju.NO_ERROR:const f=l.getResponseJson();X(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case ju.TIMEOUT:X(Xt,`RPC '${e}' ${o} timed out`),c(new Q(j.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const d=l.getStatus();if(X(Xt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const _=function(b){const R=b.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(R)>=0?R:j.UNKNOWN}(y.status);c(new Q(_,y.message))}else c(new Q(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Q(j.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{X(Xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);X(Xt,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Sm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KS(),a=WS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");X(Xt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let d=!1,m=!1;const y=new a9({Yo:v=>{m?X(Xt,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(d||(X(Xt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),d=!0),X(Xt,`RPC '${e}' stream ${s} sending:`,v),f.send(v))},Zo:()=>f.close()}),_=(v,b,R)=>{v.listen(b,E=>{try{R(E)}catch(A){setTimeout(()=>{throw A},0)}})};return _(f,ac.EventType.OPEN,()=>{m||(X(Xt,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),_(f,ac.EventType.CLOSE,()=>{m||(m=!0,X(Xt,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),_(f,ac.EventType.ERROR,v=>{m||(m=!0,Vn(Xt,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),y.a_(new Q(j.UNAVAILABLE,"The operation could not be completed")))}),_(f,ac.EventType.MESSAGE,v=>{if(!m){const b=v.data[0];de(!!b,16349);const R=b,E=R?.error||R[0]?.error;if(E){X(Xt,`RPC '${e}' stream ${s} received error:`,E);const A=E.status;let L=function(T){const I=bt[T];if(I!==void 0)return YP(I)}(A),M=E.message;L===void 0&&(L=j.INTERNAL,M="Unknown error status: "+A+" with message "+E.message),m=!0,y.a_(new Q(L,M)),f.close()}else X(Xt,`RPC '${e}' stream ${s} received:`,b),y.u_(b)}}),_(a,HS.STAT_EVENT,v=>{v.stat===rm.PROXY?X(Xt,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===rm.NOPROXY&&X(Xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof window<"u"?window:null}function Yu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){return new p6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="PersistentStream";class BC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(yt(n.toString()),yt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(Gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l9 extends BC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_6(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?It(o.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Im(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Lh(c)?{documents:oC(i,c)}:{query:Vf(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tC(i,o.resumeToken);const l=Em(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=ca(i,o.snapshotVersion.toTimestamp());const l=Em(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=E6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Im(this.serializer),n.removeTarget=e,this.q_(n)}}class u9 extends BC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=y6(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rl(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{}class f9 extends h9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,wm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(j.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,wm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(j.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class d9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yt(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="RemoteStore";class p9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Xs(this)&&(X(Hi,"Restarting streams for network reachability change."),await async function(c){const l=ne(c);l.Ea.add(4),await Aa(l),l.Ra.set("Unknown"),l.Ea.delete(4),await Ml(l)}(this))})}),this.Ra=new d9(r,s)}}async function Ml(t){if(Xs(t))for(const e of t.da)await e(!0)}async function Aa(t){for(const e of t.da)await e(!1)}function $f(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),f_(n)?h_(n):Sa(n).O_()&&u_(n,e))}function ha(t,e){const n=ne(t),r=Sa(n);n.Ia.delete(e),r.O_()&&$C(n,e),n.Ia.size===0&&(r.O_()?r.L_():Xs(n)&&n.Ra.set("Unknown"))}function u_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).Y_(e)}function $C(t,e){t.Va.Ue(e),Sa(t).Z_(e)}function h_(t){t.Va=new u6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.Ra.ua()}function f_(t){return Xs(t)&&!Sa(t).x_()&&t.Ia.size>0}function Xs(t){return ne(t).Ea.size===0}function jC(t){t.Va=void 0}async function m9(t){t.Ra.set("Online")}async function g9(t){t.Ia.forEach((e,n)=>{u_(t,e)})}async function _9(t,e){jC(t),f_(t)?(t.Ra.ha(e),h_(t)):t.Ra.set("Unknown")}async function y9(t,e,n){if(t.Ra.set("Online"),e instanceof eC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){X(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(t,r)}else if(e instanceof Qu?t.Va.Ze(e):e instanceof ZP?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await kC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(l);h&&i.Ia.set(l,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),$C(i,c);const f=new Or(h.target,c,l,h.sequenceNumber);u_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Hi,"Failed to raise snapshot:",r),await Hh(t,r)}}async function Hh(t,e,n){if(!Js(e))throw e;t.Ea.add(1),await Aa(t),t.Ra.set("Offline"),n||(n=()=>kC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Hi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ml(t)})}function qC(t,e){return e().catch(n=>Hh(t,n,e))}async function Ra(t){const e=ne(t),n=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ls;for(;E9(e);)try{const s=await t9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,w9(e,s)}catch(s){await Hh(e,s)}HC(e)&&WC(e)}function E9(t){return Xs(t)&&t.Ta.length<10}function w9(t,e){t.Ta.push(e);const n=$s(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HC(t){return Xs(t)&&!$s(t).x_()&&t.Ta.length>0}function WC(t){$s(t).start()}async function I9(t){$s(t).ra()}async function v9(t){const e=$s(t);for(const n of t.Ta)e.ea(n.mutations)}async function T9(t,e,n){const r=t.Ta.shift(),s=Jg.from(r,e,n);await qC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ra(t)}async function b9(t,e){e&&$s(t).X_&&await async function(r,s){if(function(o){return JP(o)&&o!==j.ABORTED}(s.code)){const i=r.Ta.shift();$s(r).B_(),await qC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ra(r)}}(t,e),HC(t)&&WC(t)}async function zv(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),X(Hi,"RemoteStore received new credentials");const r=Xs(n);n.Ea.add(3),await Aa(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ml(n)}async function Pm(t,e){const n=ne(t);e?(n.Ea.delete(2),await Ml(n)):e||(n.Ea.add(2),await Aa(n),n.Ra.set("Unknown"))}function Sa(t){return t.ma||(t.ma=function(n,r,s){const i=ne(n);return i.sa(),new l9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:m9.bind(null,t),t_:g9.bind(null,t),r_:_9.bind(null,t),H_:y9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),f_(t)?h_(t):t.Ra.set("Unknown")):(await t.ma.stop(),jC(t))})),t.ma}function $s(t){return t.fa||(t.fa=function(n,r,s){const i=ne(n);return i.sa(),new u9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I9.bind(null,t),r_:b9.bind(null,t),ta:v9.bind(null,t),na:T9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ra(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Hi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new d_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pa(t,e){if(yt("AsyncQueue",`${e}: ${t}`),Js(t))return new Q(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{static emptySet(e){return new Si(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.ga=new rt(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wi{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wi(e,n,Si.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class R9{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ne(n),i=s.queries;s.queries=Jv(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Q(j.ABORTED,"Firestore shutting down"))}}function Jv(){return new Yr(t=>OP(t),xl)}async function p_(t,e){const n=ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new A9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Pa(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&g_(n)}async function m_(t,e){const n=ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S9(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&g_(n)}function P9(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function g_(t){t.Ca.forEach(e=>{e.next()})}var Cm,Yv;(Yv=Cm||(Cm={})).Ma="default",Yv.Cache="cache";class __{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.serializer=e}$s(e){return pr(this.serializer,e)}Us(e){return e.metadata.exists?Of(this.serializer,e.document,!1):it.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return It(e)}}class y_{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=GC(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=be.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new Xv(this.serializer);for(const s of e)if(s.metadata.queries){const i=r.$s(s.metadata.name);for(const o of s.metadata.queries){const a=(n.get(o)||we()).add(i);n.set(o,a)}}return n}async ja(e){const n=await n9(e,new Xv(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const s of this.Ka)await r9(e,s,r.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function GC(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.key=e}}class QC{constructor(e){this.key=e}}class JC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=MP(e),this.tu=new Si(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Qv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const d=s.get(h),m=Dl(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;d&&m?d.data.isEqual(m.data)?y!==_&&(r.track({type:3,doc:m}),v=!0):this.su(d,m)||(r.track({type:2,doc:m}),v=!0,(c&&this.eu(m,c)>0||l&&this.eu(m,l)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),v=!0):d&&!m&&(r.track({type:1,doc:d}),v=!0,(c||l)&&(a=!0)),v&&(m?(o=o.add(m),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(m,y){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:v})}};return _(m)-_(y)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,l=c!==this.Za;return this.Za=c,o.length!==0||l?{snapshot:new Wi(this.query,e.tu,i,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new QC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new zC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zs="SyncEngine";class C9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k9{constructor(e){this.key=e,this.hu=!1}}class N9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Yr(a=>OP(a),xl),this.Iu=new Map,this.Eu=new Set,this.du=new rt(te.comparator),this.Au=new Map,this.Ru=new n_,this.Vu={},this.mu=new Map,this.fu=qi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x9(t,e,n=!0){const r=jf(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await YC(r,e,n,!0),s}async function D9(t,e){const n=jf(t);await YC(n,e,!0,!1)}async function YC(t,e,n,r){const s=await la(t.localStore,rn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await E_(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&$f(t.remoteStore,s),a}async function E_(t,e,n,r,s){t.pu=(f,d,m)=>async function(_,v,b,R){let E=v.view.ru(b);E.Cs&&(E=await $h(_.localStore,v.query,!1).then(({documents:w})=>v.view.ru(w,E)));const A=R&&R.targetChanges.get(v.targetId),L=R&&R.targetMismatches.get(v.targetId)!=null,M=v.view.applyChanges(E,_.isPrimaryClient,A,L);return km(_,v.targetId,M.au),M.snapshot}(t,f,d,m);const i=await $h(t.localStore,e,!0),o=new JC(e,i.Qs),a=o.ru(i.documents),c=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);km(t,n,l.au);const h=new C9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function L9(t,e,n){const r=ne(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!xl(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ua(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ha(r.remoteStore,s.targetId),fa(r,s.targetId)}).catch(Qs)):(fa(r,s.targetId),await ua(r.localStore,s.targetId,!0))}async function O9(t,e){const n=ne(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ha(n.remoteStore,r.targetId))}async function V9(t,e,n){const r=T_(t);try{const s=await function(o,a){const c=ne(o),l=Be.now(),h=a.reduce((m,y)=>m.add(y.key),we());let f,d;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=mn(),_=we();return c.Ns.getEntries(m,h).next(v=>{y=v,y.forEach((b,R)=>{R.isValidDocument()||(_=_.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const b=[];for(const R of a){const E=a6(R,f.get(R.key).overlayedDocument);E!=null&&b.push(new Xr(R.key,E,bP(E.value.mapValue),ut.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,b,a)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:UP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Vu[o.currentUser.toKey()];l||(l=new rt(ye)),l=l.insert(a,c),o.Vu[o.currentUser.toKey()]=l}(r,s.batchId,n),await Zr(r,s.changes),await Ra(r.remoteStore)}catch(s){const i=Pa(s,"Failed to persist write");n.reject(i)}}async function XC(t,e){const n=ne(t);try{const r=await e9(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?de(o.hu,14607):s.removedDocuments.size>0&&(de(o.hu,42227),o.hu=!1))}),await Zr(n,r,e)}catch(r){await Qs(r)}}function Zv(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ne(o);c.onlineState=a;let l=!1;c.queries.forEach((h,f)=>{for(const d of f.Sa)d.va(a)&&(l=!0)}),l&&g_(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M9(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new rt(te.comparator);o=o.insert(i,it.newNoDocument(i,pe.min()));const a=we().add(i),c=new Ol(pe.min(),new Map,new rt(ye),o,a);await XC(r,c),r.du=r.du.remove(i),r.Au.delete(e),v_(r)}else await ua(r.localStore,e,!1).then(()=>fa(r,e,n)).catch(Qs)}async function F9(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await Z6(n.localStore,e);I_(n,r,null),w_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zr(n,s)}catch(s){await Qs(s)}}async function U9(t,e,n){const r=ne(t);try{const s=await function(o,a){const c=ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(de(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);I_(r,e,n),w_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zr(r,s)}catch(s){await Qs(s)}}async function B9(t,e){const n=ne(t);Xs(n.remoteStore)||X(Zs,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=ne(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(r===Ls)return void e.resolve();const s=n.mu.get(r)||[];s.push(e),n.mu.set(r,s)}catch(r){const s=Pa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function w_(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function I_(t,e,n){const r=ne(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function fa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ZC(t,r)})}function ZC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ha(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),v_(t))}function km(t,e,n){for(const r of n)r instanceof zC?(t.Ru.addReference(r.key,e),$9(t,r)):r instanceof QC?(X(Zs,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ZC(t,r.key)):ce(19791,{wu:r})}function $9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(Zs,"New document in limbo: "+n),t.Eu.add(r),v_(t))}function v_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(be.fromString(e)),r=t.fu.next();t.Au.set(r,new k9(n)),t.du=t.du.insert(n,r),$f(t.remoteStore,new Or(rn(va(n.path)),r,"TargetPurposeLimboResolution",dn.ce))}}async function Zr(t,e,n){const r=ne(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){s.push(l);const h=o_.As(c.targetId,l);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,l){const h=ne(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(l,d=>B.forEach(d.Es,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>B.forEach(d.ds,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Js(f))throw f;X(a_,"Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const m=h.Ms.get(d),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);h.Ms=h.Ms.insert(d,_)}}}(r.localStore,i))}async function j9(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){X(Zs,"User change. New user:",e.toKey());const r=await CC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Q(j.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zr(n,r.Ls)}}function q9(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}async function H9(t,e){const n=ne(t),r=await $h(n.localStore,e.query,!0),s=e.view.cu(r);return n.isPrimaryClient&&km(n,e.targetId,s.au),s}async function W9(t,e){const n=ne(t);return DC(n.localStore,e).then(r=>Zr(n,r))}async function K9(t,e,n,r){const s=ne(t),i=await function(a,c){const l=ne(a),h=ne(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.er(f,c).next(d=>d?l.localDocuments.getDocuments(f,d):B.resolve(null)))}(s.localStore,e);i!==null?(n==="pending"?await Ra(s.remoteStore):n==="acknowledged"||n==="rejected"?(I_(s,e,r||null),w_(s,e),function(a,c){ne(ne(a).mutationQueue).ir(c)}(s.localStore,e)):ce(6720,"Unknown batchState",{Su:n}),await Zr(s,i)):X(Zs,"Cannot apply mutation batch with id: "+e)}async function G9(t,e){const n=ne(t);if(jf(n),T_(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),s=await eT(n,r.toArray());n.gu=!0,await Pm(n.remoteStore,!0);for(const i of s)$f(n.remoteStore,i)}else if(e===!1&&n.gu!==!1){const r=[];let s=Promise.resolve();n.Iu.forEach((i,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then(()=>(fa(n,o),ua(n.localStore,o,!0))),ha(n.remoteStore,o)}),await s,await eT(n,r),function(o){const a=ne(o);a.Au.forEach((c,l)=>{ha(a.remoteStore,l)}),a.Ru.Jr(),a.Au=new Map,a.du=new rt(te.comparator)}(n),n.gu=!1,await Pm(n.remoteStore,!1)}}async function eT(t,e,n){const r=ne(t),s=[],i=[];for(const o of e){let a;const c=r.Iu.get(o);if(c&&c.length!==0){a=await la(r.localStore,rn(c[0]));for(const l of c){const h=r.Tu.get(l),f=await H9(r,h);f.snapshot&&i.push(f.snapshot)}}else{const l=await xC(r.localStore,o);a=await la(r.localStore,l),await E_(r,e0(l),o,!1,a.resumeToken)}s.push(a)}return r.Pu.H_(i),s}function e0(t){return xP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function z9(t){return function(n){return ne(ne(n).persistence).Ts()}(ne(t).localStore)}async function Q9(t,e,n,r){const s=ne(t);if(s.gu)return void X(Zs,"Ignoring unexpected query state notification.");const i=s.Iu.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const o=await DC(s.localStore,VP(i[0])),a=Ol.createSynthesizedRemoteEventForCurrentChange(e,n==="current",_t.EMPTY_BYTE_STRING);await Zr(s,o,a);break}case"rejected":await ua(s.localStore,e,!0),fa(s,e,r);break;default:ce(64155,n)}}async function J9(t,e,n){const r=jf(t);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){X(Zs,"Adding an already active target "+s);continue}const i=await xC(r.localStore,s),o=await la(r.localStore,i);await E_(r,e0(i),o.targetId,!1,o.resumeToken),$f(r.remoteStore,o)}for(const s of n)r.Iu.has(s)&&await ua(r.localStore,s,!1).then(()=>{ha(r.remoteStore,s),fa(r,s)}).catch(Qs)}}function jf(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M9.bind(null,e),e.Pu.H_=S9.bind(null,e.eventManager),e.Pu.yu=P9.bind(null,e.eventManager),e}function T_(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U9.bind(null,e),e}function Y9(t,e,n){const r=ne(t);(async function(i,o,a){try{const c=await o.getMetadata();if(await function(m,y){const _=ne(m),v=It(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",b=>_.Ii.getBundleMetadata(b,y.id)).then(b=>!!b&&b.createTime.compareTo(v)>=0)}(i.localStore,c))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(GC(c));const l=new y_(c,o.serializer);let h=await o.bu();for(;h;){const d=await l.Ga(h);d&&a._updateProgress(d),h=await o.bu()}const f=await l.ja(i.localStore);return await Zr(i,f.Ha,void 0),await function(m,y){const _=ne(m);return _.persistence.runTransaction("Save bundle","readwrite",v=>_.Ii.saveBundleMetadata(v,y))}(i.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Ja)}catch(c){return Vn(Zs,`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})(r,e,n).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}class da{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qi(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PC(this.persistence,new SC,e.initialUser,this.serializer)}Cu(e){return new r_(Bf.mi,this.serializer)}Du(e){return new FC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}da.provider={build:()=>new da};class b_ extends da{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof Bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new r_(r=>Bh.mi(r,n),this.serializer)}}class A_ extends da{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await T_(this.xu.syncEngine),await Ra(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return PC(this.persistence,new SC,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new IC(r,e.asyncQueue,n)}Mu(e,n){const r=new fj(n,this.persistence);return new hj(e.asyncQueue,r)}Cu(e){const n=i_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new s_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,UC(),Yu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new FC}}class t0 extends A_{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof ep&&(this.sharedClientState.syncEngine={Co:K9.bind(null,n),vo:Q9.bind(null,n),Fo:J9.bind(null,n),Ts:z9.bind(null,n),Do:W9.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await G9(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const n=UC();if(!ep.v(n))throw new Q(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=i_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ep(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class js{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j9.bind(null,this.syncEngine),await Pm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R9}()}createDatastore(e){const n=Qi(e.databaseInfo.databaseId),r=function(i){return new c9(i)}(e.databaseInfo);return function(i,o,a,c){return new f9(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new p9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Zv(this.syncEngine,n,0),function(){return Kv.v()?new Kv:new s9}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,h){const f=new N9(s,i,o,a,c,l);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=ne(n);X(Hi,"RemoteStore shutting down."),r.Ea.add(5),await Aa(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}js.provider={build:()=>new js};function tT(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Ft,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const s=await this.$u(r);return new KC(JSON.parse(s),e.length+r)}Uu(){return this.buffer.findIndex(e=>e===123)}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.bu();if(!r||!r.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.Qa)}`);this.metadata=r;do r=this.bu(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),n=this.$u(e);return new KC(JSON.parse(n),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new Q(j.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=ne(s),a={documents:i.map(f=>nl(o.serializer,f))},c=await o.Ho("BatchGetDocuments",o.serializer.databaseId,be.emptyPath(),a,i.length),l=new Map;c.forEach(f=>{const d=g6(o.serializer,f);l.set(d.key.toString(),d)});const h=[];return i.forEach(f=>{const d=l.get(f.toString());de(!!d,55234,{key:f}),h.push(d)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ba(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=te.fromPath(r);this.mutations.push(new zg(s,this.precondition(s)))}),await async function(r,s){const i=ne(r),o={writes:s.map(a=>rl(i.serializer,a))};await i.Go("Commit",i.serializer.databaseId,be.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ce(50498,{Gu:e.constructor.name});n=pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(pe.min())?ut.exists(!1):ut.updateTime(n):ut.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(pe.min()))throw new Q(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ut.updateTime(n)}return ut.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.zu=r.maxAttempts,this.M_=new l_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new eq(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Yu(s)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const n=this.updateFunction(e);return!Cl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!JP(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class nq{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ot.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X(qs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(qs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pa(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function np(t,e){t.asyncQueue.verifyOperationInProgress(),X(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await CC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R_(t);X(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zv(e.remoteStore,s)),t._onlineComponents=e}async function R_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(qs,"Using user provided OfflineComponentProvider");try{await np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vn("Error using user provided cache. Falling back to memory cache: "+n),await np(t,new da)}}else X(qs,"Using default OfflineComponentProvider"),await np(t,new b_(void 0));return t._offlineComponents}async function Hf(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(qs,"Using user provided OnlineComponentProvider"),await nT(t,t._uninitializedComponentsProvider._online)):(X(qs,"Using default OnlineComponentProvider"),await nT(t,new js))),t._onlineComponents}function n0(t){return R_(t).then(e=>e.persistence)}function Ca(t){return R_(t).then(e=>e.localStore)}function r0(t){return Hf(t).then(e=>e.remoteStore)}function S_(t){return Hf(t).then(e=>e.syncEngine)}function s0(t){return Hf(t).then(e=>e.datastore)}async function pa(t){const e=await Hf(t),n=e.eventManager;return n.onListen=x9.bind(null,e.syncEngine),n.onUnlisten=L9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=D9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O9.bind(null,e.syncEngine),n}function rq(t){return t.asyncQueue.enqueue(async()=>{const e=await n0(t),n=await r0(t);return e.setNetworkEnabled(!0),function(s){const i=ne(s);return i.Ea.delete(0),Ml(i)}(n)})}function sq(t){return t.asyncQueue.enqueue(async()=>{const e=await n0(t),n=await r0(t);return e.setNetworkEnabled(!1),async function(s){const i=ne(s);i.Ea.add(0),await Aa(i),i.Ra.set("Offline")}(n)})}function iq(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(s,i,o){try{const a=await function(l,h){const f=ne(l);return f.persistence.runTransaction("read document","readonly",d=>f.localDocuments.getDocument(d,h))}(s,i);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new Q(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const c=Pa(a,`Failed to get document '${i} from cache`);o.reject(c)}}(await Ca(t),e,n)),n.promise}function i0(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const h=new qf({next:d=>{h.Nu(),o.enqueueAndForget(()=>m_(i,f));const m=d.docs.has(a);!m&&d.fromCache?l.reject(new Q(j.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&c&&c.source==="server"?l.reject(new Q(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new __(va(a.path),h,{includeMetadataChanges:!0,qa:!0});return p_(i,f)}(await pa(t),t.asyncQueue,e,n,r)),r.promise}function oq(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(s,i,o){try{const a=await $h(s,i,!0),c=new JC(i,a.Qs),l=c.ru(a.documents),h=c.applyChanges(l,!1);o.resolve(h.snapshot)}catch(a){const c=Pa(a,`Failed to execute query '${i} against cache`);o.reject(c)}}(await Ca(t),e,n)),n.promise}function o0(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const h=new qf({next:d=>{h.Nu(),o.enqueueAndForget(()=>m_(i,f)),d.fromCache&&c.source==="server"?l.reject(new Q(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new __(a,h,{includeMetadataChanges:!0,qa:!0});return p_(i,f)}(await pa(t),t.asyncQueue,e,n,r)),r.promise}function aq(t,e,n){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>{try{const s=await s0(t);r.resolve(async function(o,a,c){const l=ne(o),{request:h,gt:f,parent:d}=aC(l.serializer,DP(a),c);l.connection.$o||delete h.parent;const m=(await l.Ho("RunAggregationQuery",l.serializer.databaseId,d,h,1)).filter(_=>!!_.result);de(m.length===1,64727);const y=m[0].result?.aggregateFields;return Object.keys(y).reduce((_,v)=>(_[f[v]]=y[v],_),{})}(s,e,n))}catch(s){r.reject(s)}}),r.promise}function cq(t,e){const n=new qf(e);return t.asyncQueue.enqueueAndForget(async()=>function(s,i){ne(s).Ca.add(i),i.next()}(await pa(t),n)),()=>{n.Nu(),t.asyncQueue.enqueueAndForget(async()=>function(s,i){ne(s).Ca.delete(i)}(await pa(t),n))}}function lq(t,e,n,r){const s=function(o,a){let c;return c=typeof o=="string"?XP().encode(o):o,function(h,f){return new X9(h,f)}(function(h,f){if(h instanceof Uint8Array)return tT(h,f);if(h instanceof ArrayBuffer)return tT(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,Qi(e));t.asyncQueue.enqueueAndForget(async()=>{Y9(await S_(t),s,r)})}function uq(t,e){return t.asyncQueue.enqueue(async()=>function(r,s){const i=ne(r);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ii.getNamedQuery(o,s))}(await Ca(t),e))}function a0(t,e){return function(r,s){return new Z9(r,s)}(t,e)}function hq(t,e){return t.asyncQueue.enqueue(async()=>async function(r,s){const i=ne(r),o=i.indexManager,a=[];return i.persistence.runTransaction("Configure indexes","readwrite",c=>o.getFieldIndexes(c).next(l=>function(f,d,m,y,_){f=[...f],d=[...d],f.sort(m),d.sort(m);const v=f.length,b=d.length;let R=0,E=0;for(;R<b&&E<v;){const A=m(f[E],d[R]);A<0?_(f[E++]):A>0?y(d[R++]):(R++,E++)}for(;R<b;)y(d[R++]);for(;E<v;)_(f[E++])}(l,s,aj,h=>{a.push(o.addFieldIndex(c,h))},h=>{a.push(o.deleteFieldIndex(c,h))})).next(()=>B.waitFor(a)))}(await Ca(t),e))}function fq(t,e){return t.asyncQueue.enqueue(async()=>function(r,s){ne(r).Fs.Vs=s}(await Ca(t),e))}function dq(t){return t.asyncQueue.enqueue(async()=>function(n){const r=ne(n),s=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",i=>s.deleteAllFieldIndexes(i))}(await Ca(t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="firestore.googleapis.com",sT=!0;class iT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l0,this.ssl=sT}else this.host=e.host,this.ssl=e.ssl??sT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wC)throw new Q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new J$;switch(r.type){case"firstParty":return new ej(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rT.get(n);r&&(X("ComponentProvider","Removing Datastore"),rT.delete(n),r.terminate())}(this),Promise.resolve()}}function pq(t,e,n,r={}){t=Re(t,Fl);const s=Gi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(wg(`https://${a}`),GR("Firestore",!0)),i.host!==l0&&i.host!==a&&Vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Yn(c,o)&&(t._setSettings(c),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=Ot.MOCK_USER;else{l=f2(r.mockUserToken,t._app?.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ot(f)}t._authCredentials=new Y$(new zS(l,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bt(this.firestore,e,this._query)}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zi(n,He._jsonSchema))return new He(e,r||null,new te(be.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:St("string",He._jsonSchemaVersion),referencePath:St("string")};class mr extends Bt{constructor(e,n,r){super(e,n,va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new te(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function q3(t,e,...n){if(t=qe(t),Og("collection","path",e),t instanceof Fl){const r=be.fromString(e,...n);return GI(r),new mr(t,null,r)}{if(!(t instanceof He||t instanceof mr))throw new Q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return GI(r),new mr(t.firestore,null,r)}}function H3(t,e){if(t=Re(t,Fl),Og("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Q(j.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bt(t,null,function(r){return new Jr(be.emptyPath(),r)}(e))}function mq(t,e,...n){if(t=qe(t),arguments.length===1&&(e=Lg.newId()),Og("doc","path",e),t instanceof Fl){const r=be.fromString(e,...n);return KI(r),new He(t,null,new te(r))}{if(!(t instanceof He||t instanceof mr))throw new Q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return KI(r),new He(t.firestore,t instanceof mr?t.converter:null,new te(r))}}function W3(t,e){return t=qe(t),e=qe(e),(t instanceof He||t instanceof mr)&&(e instanceof He||e instanceof mr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function u0(t,e){return t=qe(t),e=qe(e),t instanceof Bt&&e instanceof Bt&&t.firestore===e.firestore&&xl(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="AsyncQueue";class aT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l_(this,"async_queue_retry"),this._c=()=>{const r=Yu();r&&X(oT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Yu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ft;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Js(e))throw e;X(oT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,yt("INTERNAL UNHANDLED ERROR: ",cT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=d_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ce(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gq{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=-1;class Xe extends Fl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new aT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aT(e),this._firestoreClient=void 0,await e}}}function G3(t,e,n){n||(n=Xc);const r=bl(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Yn(i,e))return s;throw new Q(j.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Q(j.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wC)throw new Q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Gi(e.host)&&wg(e.host),r.initialize({options:e,instanceIdentifier:n})}function _q(t,e){const n=typeof t=="object"?t:tS(),r=typeof t=="string"?t:e||Xc,s=bl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=u2("firestore");i&&pq(s,...i)}return s}function dt(t){if(t._terminated)throw new Q(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h0(t),t._firestoreClient}function h0(t){const e=t._freezeSettings(),n=function(s,i,o,a){return new Bj(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,c0(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}}(t._componentsProvider))}function z3(t,e){Vn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return f0(t,js.provider,{build:r=>new A_(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function Q3(t){Vn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();f0(t,js.provider,{build:n=>new t0(n,e.cacheSizeBytes)})}function f0(t,e,n){if((t=Re(t,Xe))._firestoreClient||t._terminated)throw new Q(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Q(j.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},h0(t)}function J3(t){if(t._initialized&&!t._terminated)throw new Q(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ft;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!dr.v())return Promise.resolve();const s=r+RC;await dr.delete(s)}(i_(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Y3(t){return function(n){const r=new Ft;return n.asyncQueue.enqueueAndForget(async()=>B9(await S_(n),r)),r.promise}(dt(t=Re(t,Xe)))}function X3(t){return rq(dt(t=Re(t,Xe)))}function Z3(t){return sq(dt(t=Re(t,Xe)))}function eH(t){return b4(t.app,"firestore",t._databaseId.database),t._delete()}function lT(t,e){const n=dt(t=Re(t,Xe)),r=new gq;return lq(n,t._databaseId,e,r),r}function yq(t,e){return uq(dt(t=Re(t,Xe)),e).then(n=>n?new Bt(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Eq{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(_t.fromBase64String(e))}catch(n){throw new Q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vn(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zi(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:St("string",vn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function tH(){return new Ji(om)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(zi(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:St("string",gr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zi(e,Kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kn(e.vectorValues);throw new Q(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kn._jsonSchemaVersion="firestore/vectorValue/1.0",Kn._jsonSchema={type:St("string",Kn._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=/^__.*__$/;class Iq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ta(e,this.data,n,this.fieldTransforms)}}class d0{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Wf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p0(this.Ac)&&wq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qi(e)}Cc(e,n,r,s=!1){return new Wf({Ac:e,methodName:n,Dc:r,path:lt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xi(t){const e=t._freezeSettings(),n=Qi(t._databaseId);return new vq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kf(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);L_("Data must be an object, but it was:",o,r);const a=_0(r,o);let c,l;if(i.merge)c=new pn(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const d=il(e,f,n);if(!o.contains(d))throw new Q(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);E0(h,d)||h.push(d)}c=new pn(h),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new Iq(new Kt(a),c,l)}class Ul extends Yi{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ul}}function m0(t,e,n){return new Wf({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class P_ extends Yi{_toFieldTransform(e){return new Ll(e.path,new oa)}isEqual(e){return e instanceof P_}}class C_ extends Yi{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=m0(this,e,!0),r=this.vc.map(i=>Zi(i,n)),s=new Ui(r);return new Ll(e.path,s)}isEqual(e){return e instanceof C_&&Yn(this.vc,e.vc)}}class k_ extends Yi{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=m0(this,e,!0),r=this.vc.map(i=>Zi(i,n)),s=new Bi(r);return new Ll(e.path,s)}isEqual(e){return e instanceof k_&&Yn(this.vc,e.vc)}}class N_ extends Yi{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new aa(e.serializer,jP(e.serializer,this.Fc));return new Ll(e.path,n)}isEqual(e){return e instanceof N_&&this.Fc===e.Fc}}function x_(t,e,n,r){const s=t.Cc(1,e,n);L_("Data must be an object, but it was:",s,r);const i=[],o=Kt.empty();Ys(r,(c,l)=>{const h=Gf(e,c,n);l=qe(l);const f=s.yc(h);if(l instanceof Ul)i.push(h);else{const d=Zi(l,f);d!=null&&(i.push(h),o.set(h,d))}});const a=new pn(i);return new d0(o,a,s.fieldTransforms)}function D_(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[il(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(il(e,i[d])),c.push(i[d+1]);const l=[],h=Kt.empty();for(let d=a.length-1;d>=0;--d)if(!E0(l,a[d])){const m=a[d];let y=c[d];y=qe(y);const _=o.yc(m);if(y instanceof Ul)l.push(m);else{const v=Zi(y,_);v!=null&&(l.push(m),h.set(m,v))}}const f=new pn(l);return new d0(h,f,o.fieldTransforms)}function g0(t,e,n,r=!1){return Zi(n,t.Cc(r?4:3,e))}function Zi(t,e){if(y0(t=qe(t)))return L_("Unsupported field value:",e,t),_0(t,e);if(t instanceof Yi)return function(r,s){if(!p0(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Zi(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Be.fromDate(r);return{timestampValue:ca(s.serializer,i)}}if(r instanceof Be){const i=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ca(s.serializer,i)}}if(r instanceof gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vn)return{bytesValue:tC(s.serializer,r._byteString)};if(r instanceof He){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Kn)return function(o,a){return{mapValue:{fields:{[jg]:{stringValue:qg},[ra]:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return Gg(a.serializer,l)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Af(r)}`)}(t,e)}function _0(t,e){const n={};return mP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,s)=>{const i=Zi(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function y0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof gr||t instanceof vn||t instanceof He||t instanceof Yi||t instanceof Kn)}function L_(t,e,n){if(!y0(n)||!JS(n)){const r=Af(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function il(t,e,n){if((e=qe(e))instanceof Ji)return e._internalPath;if(typeof e=="string")return Gf(t,e);throw Wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tq=new RegExp("[~\\*/\\[\\]]");function Gf(t,e,n){if(e.search(Tq)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ji(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Q(j.INVALID_ARGUMENT,a+t+c)}function E0(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bq extends ol{data(){return super.data()}}function zf(t,e){return typeof e=="string"?Gf(t,e):e instanceof Ji?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O_{}class Bl extends O_{}function nH(t,e,...n){let r=[];e instanceof O_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof ka).length,a=i.filter(c=>c instanceof $l).length;if(o>1||o>0&&a>0)throw new Q(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class $l extends Bl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $l(e,n,r)}_apply(e){const n=this._parse(e);return v0(e._query,n),new Bt(e.firestore,e.converter,_m(e._query,n))}_parse(e){const n=Xi(e.firestore);return function(i,o,a,c,l,h,f){let d;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hT(f,h);const y=[];for(const _ of f)y.push(uT(c,i,_));d={arrayValue:{values:y}}}else d=uT(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hT(f,h),d=g0(a,o,f,h==="in"||h==="not-in");return ke.create(l,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rH(t,e,n){const r=e,s=zf("where",t);return $l._create(s,r,n)}class ka extends O_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ka(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)v0(o,c),o=_m(o,c)}(e._query,n),new Bt(e.firestore,e.converter,_m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sH(...t){return t.forEach(e=>T0("or",e)),ka._create("or",t)}function iH(...t){return t.forEach(e=>T0("and",e)),ka._create("and",t)}class V_ extends Bl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new V_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tl(i,o)}(e._query,this._field,this._direction);return new Bt(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Jr(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function oH(t,e="asc"){const n=e,r=zf("orderBy",t);return V_._create(r,n)}class Qf extends Bl{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Qf(e,n,r)}_apply(e){return new Bt(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}function aH(t){return YS("limit",t),Qf._create("limit",t,"F")}function cH(t){return YS("limitToLast",t),Qf._create("limitToLast",t,"L")}class Jf extends Bl{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Jf(e,n,r)}_apply(e){const n=I0(e,this.type,this._docOrFields,this._inclusive);return new Bt(e.firestore,e.converter,function(s,i){return new Jr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function lH(...t){return Jf._create("startAt",t,!0)}function uH(...t){return Jf._create("startAfter",t,!1)}class Yf extends Bl{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Yf(e,n,r)}_apply(e){const n=I0(e,this.type,this._docOrFields,this._inclusive);return new Bt(e.firestore,e.converter,function(s,i){return new Jr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,i)}(e._query,n))}}function hH(...t){return Yf._create("endBefore",t,!1)}function fH(...t){return Yf._create("endAt",t,!0)}function I0(t,e,n,r){if(n[0]=qe(n[0]),n[0]instanceof ol)return function(i,o,a,c,l){if(!c)throw new Q(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of Vo(i))if(f.field.isKeyField())h.push(Mi(o,c.key));else{const d=c.data.field(f.field);if(kf(d))throw new Q(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const m=f.field.canonicalString();throw new Q(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}h.push(d)}return new Bs(h,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Xi(t.firestore);return function(o,a,c,l,h,f){const d=o.explicitOrderBy;if(h.length>d.length)throw new Q(j.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<h.length;y++){const _=h[y];if(d[y].field.isKeyField()){if(typeof _!="string")throw new Q(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof _}`);if(!Wg(o)&&_.indexOf("/")!==-1)throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${_}' contains a slash.`);const v=o.path.child(be.fromString(_));if(!te.isDocumentKey(v))throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const b=new te(v);m.push(Mi(a,b))}else{const v=g0(c,l,_);m.push(v)}}return new Bs(m,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function uT(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new Q(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wg(e)&&n.indexOf("/")!==-1)throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!te.isDocumentKey(r))throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mi(t,new te(r))}if(n instanceof He)return Mi(t,n._key);throw new Q(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function hT(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v0(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function T0(t,e){if(!(e instanceof $l||e instanceof ka))throw new Q(j.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class b0{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){const n=e.fields?.[ra].arrayValue?.values?.map(r=>ct(r.doubleValue));return new Kn(n)}convertGeoPoint(e){return new gr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);de(hC(r),9688,{name:e});const s=new Vi(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||yt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class M_ extends b0{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){return new sl("sum",il("sum",t))}function pH(t){return new sl("avg",il("average",t))}function Aq(){return new sl("count")}function mH(t,e){return t instanceof sl&&e instanceof sl&&t.aggregateType===e.aggregateType&&t._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function gH(t,e){return u0(t.query,e.query)&&Yn(t.data(),e.data())}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="NOT SUPPORTED";class bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tn extends ol{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Tn._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function _H(t,e,n){if(zi(e,Tn._jsonSchema)){if(e.bundle===A0)throw new Q(j.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Qi(t._databaseId),s=a0(e.bundle,r),i=s.Wu(),o=new y_(s.getMetadata(),r);for(const h of i)o.Ga(h);const a=o.documents;if(a.length!==1)throw new Q(j.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${a.length} documents.`);const c=Of(r,a[0].document),l=new te(be.fromString(e.bundleName));return new Tn(t,new M_(t),l,c,new bs(!1,!1),n||null)}}Tn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tn._jsonSchema={type:St("string",Tn._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Xu extends Tn{data(e={}){return super.data(e)}}class bn{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xu(this._firestore,this._userDataWriter,r.key,r,new bs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Xu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bs(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Xu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new bs(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Rq(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yH(t,e,n){if(zi(e,bn._jsonSchema)){if(e.bundle===A0)throw new Q(j.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Qi(t._databaseId),s=a0(e.bundle,r),i=s.Wu(),o=new y_(s.getMetadata(),r);for(const d of i)o.Ga(d);if(o.queries.length!==1)throw new Q(j.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${o.queries.length} queries.`);const a=Mf(o.queries[0].bundledQuery),c=o.documents;let l=new Si;c.map(d=>{const m=Of(r,d.document);l=l.add(m)});const h=Wi.fromInitialDocuments(a,l,we(),!1,!1),f=new Bt(t,n||null,a);return new bn(t,new M_(t),f,h)}}function Rq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}function EH(t,e){return t instanceof Tn&&e instanceof Tn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof bn&&e instanceof bn&&t._firestore===e._firestore&&u0(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(t){t=Re(t,He);const e=Re(t.firestore,Xe);return i0(dt(e),t._key).then(n=>F_(e,t,n))}bn._jsonSchemaVersion="firestore/querySnapshot/1.0",bn._jsonSchema={type:St("string",bn._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class ei extends b0{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new He(this.firestore,null,n)}}function IH(t){t=Re(t,He);const e=Re(t.firestore,Xe),n=dt(e),r=new ei(e);return iq(n,t._key).then(s=>new Tn(e,r,t._key,s,new bs(s!==null&&s.hasLocalMutations,!0),t.converter))}function vH(t){t=Re(t,He);const e=Re(t.firestore,Xe);return i0(dt(e),t._key,{source:"server"}).then(n=>F_(e,t,n))}function TH(t){t=Re(t,Bt);const e=Re(t.firestore,Xe),n=dt(e),r=new ei(e);return w0(t._query),o0(n,t._query).then(s=>new bn(e,r,t,s))}function bH(t){t=Re(t,Bt);const e=Re(t.firestore,Xe),n=dt(e),r=new ei(e);return oq(n,t._query).then(s=>new bn(e,r,t,s))}function AH(t){t=Re(t,Bt);const e=Re(t.firestore,Xe),n=dt(e),r=new ei(e);return o0(n,t._query,{source:"server"}).then(s=>new bn(e,r,t,s))}function RH(t,e,n){t=Re(t,He);const r=Re(t.firestore,Xe),s=Xf(t.converter,e,n);return jl(r,[Kf(Xi(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ut.none())])}function SH(t,e,n,...r){t=Re(t,He);const s=Re(t.firestore,Xe),i=Xi(s);let o;return o=typeof(e=qe(e))=="string"||e instanceof Ji?D_(i,"updateDoc",t._key,e,n,r):x_(i,"updateDoc",t._key,e),jl(s,[o.toMutation(t._key,ut.exists(!0))])}function PH(t){return jl(Re(t.firestore,Xe),[new ba(t._key,ut.none())])}function CH(t,e){const n=Re(t.firestore,Xe),r=mq(t),s=Xf(t.converter,e);return jl(n,[Kf(Xi(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ut.exists(!1))]).then(()=>r)}function fT(t,...e){t=qe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Mo(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Mo(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let i,o,a;if(t instanceof He)o=Re(t.firestore,Xe),a=va(t._key.path),i={next:c=>{e[r]&&e[r](F_(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=Re(t,Bt);o=Re(c.firestore,Xe),a=c._query;const l=new ei(o);i={next:h=>{e[r]&&e[r](new bn(o,l,c,h))},error:e[r+1],complete:e[r+2]},w0(t._query)}return function(l,h,f,d){const m=new qf(d),y=new __(h,m,f);return l.asyncQueue.enqueueAndForget(async()=>p_(await pa(l),y)),()=>{m.Nu(),l.asyncQueue.enqueueAndForget(async()=>m_(await pa(l),y))}}(dt(o),a,s,i)}function kH(t,e,...n){const r=qe(t),s=function(c){const l={bundle:"",bundleName:"",bundleSource:""},h=["bundle","bundleName","bundleSource"];for(const f of h){if(!(f in c)){l.error=`snapshotJson missing required field: ${f}`;break}const d=c[f];if(typeof d!="string"){l.error=`snapshotJson field '${f}' must be a string.`;break}if(d.length===0){l.error=`snapshotJson field '${f}' cannot be an empty string.`;break}f==="bundle"?l.bundle=d:f==="bundleName"?l.bundleName=d:f==="bundleSource"&&(l.bundleSource=d)}return l}(e);if(s.error)throw new Q(j.INVALID_ARGUMENT,s.error);let i,o=0;if(typeof n[o]!="object"||Mo(n[o])||(i=n[o++]),s.bundleSource==="QuerySnapshot"){let a=null;if(typeof n[o]=="object"&&Mo(n[o])){const c=n[o++];a={next:c.next,error:c.error,complete:c.complete}}else a={next:n[o++],error:n[o++],complete:n[o++]};return function(l,h,f,d,m){let y,_=!1;return lT(l,h.bundle).then(()=>yq(l,h.bundleName)).then(b=>{b&&!_&&(m&&b.withConverter(m),y=fT(b,f||{},d))}).catch(b=>(d.error&&d.error(b),()=>{})),()=>{_||(_=!0,y&&y())}}(r,s,i,a,n[o])}if(s.bundleSource==="DocumentSnapshot"){let a=null;if(typeof n[o]=="object"&&Mo(n[o])){const c=n[o++];a={next:c.next,error:c.error,complete:c.complete}}else a={next:n[o++],error:n[o++],complete:n[o++]};return function(l,h,f,d,m){let y,_=!1;return lT(l,h.bundle).then(()=>{if(!_){const b=new He(l,m||null,te.fromPath(h.bundleName));y=fT(b,f||{},d)}}).catch(b=>(d.error&&d.error(b),()=>{})),()=>{_||(_=!0,y&&y())}}(r,s,i,a,n[o])}throw new Q(j.INVALID_ARGUMENT,`unsupported bundle source: ${s.bundleSource}`)}function NH(t,e){return cq(dt(t=Re(t,Xe)),Mo(e)?e:{next:e})}function jl(t,e){return function(r,s){const i=new Ft;return r.asyncQueue.enqueueAndForget(async()=>V9(await S_(r),s,i)),i.promise}(dt(t),e)}function F_(t,e,n){const r=n.docs.get(e._key),s=new ei(t);return new Tn(t,s,e._key,r,new bs(n.hasPendingWrites,n.fromCache),e.converter)}function xH(t){return Sq(t,{count:Aq()})}function Sq(t,e){const n=Re(t.firestore,Xe),r=dt(n),s=pP(e,(i,o)=>new QP(o,i.aggregateType,i._internalFieldPath));return aq(r,t._query,s).then(i=>function(a,c,l){const h=new ei(a);return new Eq(c,h,l)}(n,t,i))}class Pq{constructor(e){this.kind="memory",this._onlineComponentProvider=js.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new b_(void 0)}}toJSON(){return{kind:this.kind}}}class Cq{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Lq(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class kq{constructor(){this.kind="memoryEager",this._offlineComponentProvider=da.provider}toJSON(){return{kind:this.kind}}}class Nq{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new b_(e)}}toJSON(){return{kind:this.kind}}}function DH(){return new kq}function LH(t){return new Nq(t?.cacheSizeBytes)}function OH(t){return new Pq(t)}function VH(t){return new Cq(t)}class xq{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=js.provider,this._offlineComponentProvider={build:n=>new A_(n,e?.cacheSizeBytes,this.forceOwnership)}}}class Dq{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=js.provider,this._offlineComponentProvider={build:n=>new t0(n,e?.cacheSizeBytes)}}}function Lq(t){return new xq(t?.forceOwnership)}function MH(){return new Dq}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xi(e)}set(e,n,r){this._verifyNotCommitted();const s=As(e,this._firestore),i=Xf(s.converter,n,r),o=Kf(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ut.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=As(e,this._firestore);let o;return o=typeof(n=qe(n))=="string"||n instanceof Ji?D_(this._dataReader,"WriteBatch.update",i._key,n,r,s):x_(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ut.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=As(e,this._firestore);return this._mutations=this._mutations.concat(new ba(n._key,ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function As(t,e){if((t=qe(t)).firestore!==e)throw new Q(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Xi(e)}get(e){const n=As(e,this._firestore),r=new M_(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return ce(24041);const i=s[0];if(i.isFoundDocument())return new ol(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ol(this._firestore,r,n._key,null,n.converter);throw ce(18433,{doc:i})})}set(e,n,r){const s=As(e,this._firestore),i=Xf(s.converter,n,r),o=Kf(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(e,n,r,...s){const i=As(e,this._firestore);let o;return o=typeof(n=qe(n))=="string"||n instanceof Ji?D_(this._dataReader,"Transaction.update",i._key,n,r,s):x_(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(e){const n=As(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq extends Mq{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=As(e,this._firestore),r=new ei(this._firestore);return super.get(e).then(s=>new Tn(this._firestore,r,n._key,s._document,new bs(!1,!1),n.converter))}}function FH(t,e,n){t=Re(t,Xe);const r={...Oq,...n};return function(i){if(i.maxAttempts<1)throw new Q(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const c=new Ft;return i.asyncQueue.enqueueAndForget(async()=>{const l=await s0(i);new tq(i.asyncQueue,l,a,o,c).ju()}),c.promise}(dt(t),s=>e(new Fq(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return new Ul("deleteField")}function BH(){return new P_("serverTimestamp")}function $H(...t){return new C_("arrayUnion",t)}function jH(...t){return new k_("arrayRemove",t)}function qH(t){return new N_("increment",t)}function HH(t){return new Kn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t){return dt(t=Re(t,Xe)),new Vq(t,e=>jl(t,e))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t,e){const n=dt(t=Re(t,Xe));if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return Vn("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(i){const o=typeof i=="string"?function(l){try{return JSON.parse(l)}catch(h){throw new Q(j.INVALID_ARGUMENT,"Failed to parse JSON: "+h?.message)}}(i):i,a=[];if(Array.isArray(o.indexes))for(const c of o.indexes){const l=dT(c,"collectionGroup"),h=[];if(Array.isArray(c.fields))for(const f of c.fields){const d=Gf("setIndexConfiguration",dT(f,"fieldPath"));f.arrayConfig==="CONTAINS"?h.push(new Ai(d,2)):f.order==="ASCENDING"?h.push(new Ai(d,0)):f.order==="DESCENDING"&&h.push(new Ai(d,1))}a.push(new Yo(Yo.UNKNOWN_ID,l,h,Xo.empty()))}return a}(e);return hq(n,r)}function dT(t,e){if(typeof t[e]!="string")throw new Q(j.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function GH(t){t=Re(t,Xe);const e=pT.get(t);if(e)return e;if(dt(t)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new Uq(t);return pT.set(t,r),r}function zH(t){R0(t,!0)}function QH(t){R0(t,!1)}function JH(t){dq(dt(t._firestore)).then(e=>X("deleting all persistent cache indexes succeeded")).catch(e=>Vn("deleting all persistent cache indexes failed",e))}function R0(t,e){fq(dt(t._firestore),e).then(n=>X(`setting persistent cache index auto creation isEnabled=${e} succeeded`)).catch(n=>Vn(`setting persistent cache index auto creation isEnabled=${e} failed`,n))}const pT=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(t){const e=dt(Re(t.firestore,Xe)),n=e._onlineComponents?.datastore.serializer;return n===void 0?null:Vf(n,rn(t._query)).ft}function XH(t,e){const n=pP(e,(i,o)=>new QP(o,i.aggregateType,i._internalFieldPath)),r=dt(Re(t.firestore,Xe)),s=r._onlineComponents?.datastore.serializer;return s===void 0?null:aC(s,DP(t._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return U_.instance.onExistenceFilterMismatch(e)}}class U_{constructor(){this.Mc=new Map}static get instance(){return Cu||(Cu=new U_,function(n){if(ym)throw new Error("a TestingHooksSpi instance is already set");ym=n}(Cu)),Cu}lt(e){this.Mc.forEach(n=>n(e))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.Mc;return r.set(n,e),()=>r.delete(n)}}let Cu=null;(function(e,n=!0){(function(s){Ia=s})(Ea),zo(new Di("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Xe(new X$(r.getProvider("auth-internal")),new tj(o,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(l.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xs(HI,WI,e),xs(HI,WI,"esm2020")})();const Bq=vt(async()=>{let t,e;const n=Ki().public.firebase;if(!n?.apiKey)return;const r=wI().length?wI()[0]:eS({apiKey:n.apiKey,authDomain:n.authDomain,projectId:n.projectId,storageBucket:n.storageBucket,messagingSenderId:n.messagingSenderId,appId:n.appId,measurementId:n.measurementId}),s=z$(r);[t,e]=lr(()=>FB(s,CS)),await t,e();const i=_q(r);return{provide:{firebaseApp:r,auth:s,db:i}}}),$q=vt(()=>(EA({script:[{children:`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KPRR33NW');`,type:"text/javascript"}],noscript:[{children:`<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KPRR33NW"
height="0" width="0" style="display:none;visibility:hidden"></iframe>`}]}),window.dataLayer=window.dataLayer||[],{provide:{gtm:{push(e){window.dataLayer&&window.dataLayer.push(e)}}}})),jq=vt(()=>{{const t={rootMargin:"50px",threshold:.1},e=new IntersectionObserver(n=>{n.forEach(r=>{if(r.isIntersecting){const s=r.target;s.dataset.lazy&&s.classList.add("loaded")}})},t);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-lazy]").forEach(r=>e.observe(r))})}});function qq(t,e){if(t==null)return;let n=t;for(let r=0;r<e.length;r++){if(n==null||n[e[r]]==null)return;n=n[e[r]]}return n}function B_(t,e,n){if(n.length===0)return e;const r=n[0];return n.length>1&&(e=B_(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,r)?Number.isInteger(Number(n[1]))?[]:{}:t[r],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(r))&&Array.isArray(t)?t.slice()[r]:Object.assign({},t,{[r]:e})}function S0(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const r in t)n[r]=t[r];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const r in t)n[r]=t[r];return n}return B_(t,S0(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function P0(t,e){return e.map(n=>n.split(".")).map(n=>[n,qq(t,n)]).filter(n=>n[1]!==void 0).reduce((n,r)=>B_(n,r[1],r[0]),{})}function C0(t,e){return e.map(n=>n.split(".")).reduce((n,r)=>S0(n,r),t)}function mT(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:c},l,h=!0){try{h&&a?.(l);const f=e.getItem(r);if(f){const d=n.deserialize(f),m=i?P0(d,i):d,y=o?C0(m,o):m;t.$patch(y)}h&&c?.(l)}catch(f){s&&console.error("[pinia-plugin-persistedstate]",f)}}function gT(t,{storage:e,serializer:n,key:r,debug:s,pick:i,omit:o}){try{const a=i?P0(t,i):t,c=o?C0(a,o):a,l=n.serialize(c);e.setItem(r,l)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function Hq(t,e,n){const{pinia:r,store:s,options:{persist:i=n}}=t;if(!i)return;if(!(s.$id in r.state.value)){const c=r._s.get(s.$id.replace("__hot:",""));c&&Promise.resolve().then(()=>c.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:c=!0}={})=>{a.forEach(l=>{mT(s,l,t,c)})},s.$persist=()=>{a.forEach(c=>{gT(s.$state,c)})},a.forEach(c=>{mT(s,c,t),s.$subscribe((l,h)=>gT(h,c),{detached:!0})})}function Wq(t={}){return function(e){Hq(e,n=>({key:(t.key?t.key:r=>r)(n.key??e.store.$id),debug:n.debug??t.debug??!1,serializer:n.serializer??t.serializer??{serialize:r=>JSON.stringify(r),deserialize:r=>jo(r)},storage:n.storage??t.storage??window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}),t.auto??!1)}}const Kq=vt(t=>{t.$pinia.use(Wq({storage:localStorage}))}),Gq=vt({name:"i18n:plugin:ssg-detect",dependsOn:["i18n:plugin","i18n:plugin:route-locale-detect"],enforce:"post",setup(t){const e=Se(t._id),n=El(e);e.hook("app:mounted",async()=>{const r=Vp(e,e.$router.currentRoute.value);await e.runWithContext(()=>e.$i18n.setLocale(r)),n.initial=!1})}}),zq=[nL,sL,lL,NO,xO,DO,LO,VO,ZO,nV,rV,XF,ZF,eU,rU,n2,Bq,$q,jq,Kq,Gq],k0=(t="RouteProvider")=>Mn({name:t,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const n=e.renderKey,r=e.route,s={};for(const i in e.route)Object.defineProperty(s,i,{get:()=>n===e.renderKey?e.route[i]:r[i],enumerable:!0});return Ps(Ni,ir(s)),()=>e.vnode?Et(e.vnode,{ref:e.vnodeRef}):e.vnode}}),Qq=k0(),_T=new WeakMap,Jq=Mn({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,slots:n,expose:r}){const s=Se(),i=Mt(),o=Pt(Ni,null);let a;r({pageRef:i});const c=Pt(uA,null);let l;const h=s.deferHydration();if(s.isHydrating){const d=s.hooks.hookOnce("app:error",h);_n().beforeEach(d)}t.pageKey&&gn(()=>t.pageKey,(d,m)=>{d!==m&&s.callHook("page:loading:start")});let f=!1;{const d=_n().beforeResolve(()=>{f=!1});dl(()=>{d()})}return()=>Et(VA,{name:t.name,route:t.route,...e},{default:d=>{const m=Xq(o,d.route,d.Component),y=o&&o.matched.length===d.route.matched.length;if(!d.Component){if(l&&!y)return l;h();return}if(l&&c&&!c.isCurrent(d.route))return l;if(m&&o&&(!c||c?.isCurrent(o)))return y?l:null;const _=Dp(d,t.pageKey),v=Zq(o,d.route,d.Component);!s.isHydrating&&a===_&&!v&&_r(()=>{f=!0,s.callHook("page:loading:end")}),a=_;const b=!!(t.transition??d.route.meta.pageTransition??bE),R=b&&Yq([t.transition,d.route.meta.pageTransition,bE,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",d.Component)}}]),E=t.keepalive??d.route.meta.keepalive??Wx;return l=FA(b&&R,gO(E,Et(Jm,{suspensible:!0,onPending:()=>{b&&(s._runningTransition=!0),s.callHook("page:start",d.Component)},onResolve:()=>{_r(()=>s.callHook("page:finish",d.Component).then(()=>{if(!f&&!v)return f=!0,s.callHook("page:loading:end")}).finally(h))}},{default:()=>{const A={key:_||void 0,vnode:n.default?e3(n.default,d):d.Component,route:d.route,renderKey:_||void 0,trackRootNodes:b,vnodeRef:i};if(!E)return Et(Qq,A);const L=d.Component.type,M=L;let w=_T.get(M);return w||(w=k0(L.name||L.__name),_T.set(M,w)),Et(w,A)}}))).default(),l}})}});function Yq(t){const e=t.filter(Boolean).map(n=>({...n,onAfterLeave:n.onAfterLeave?ag(n.onAfterLeave):void 0}));return cA(...e)}function Xq(t,e,n){if(!t)return!1;const r=e.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:e.matched.slice(0,r).some((s,i)=>s.components?.default!==t.matched[i]?.components?.default)||n&&Dp({route:e,Component:n})!==Dp({route:t,Component:n})}function Zq(t,e,n){return t?e.matched.findIndex(s=>s.components?.default===n?.type)<e.matched.length-1:!1}function e3(t,e){const n=t(e);return n.length===1?Et(n[0]):Et(Vt,void 0,n)}const t3=Mn({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,e){return()=>Et(vs[t.name],t.layoutProps,e.slots)}}),n3={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},r3=Mn({name:"NuxtLayout",inheritAttrs:!1,props:n3,setup(t,e){const n=Se(),r=Pt(Ni),i=!r||r===of()?MA():r,o=gt(()=>{let h=Qe(t.name)??i?.meta.layout??"default";return h&&!(h in vs)&&t.fallback&&(h=Qe(t.fallback)),h}),a=Os();e.expose({layoutRef:a});const c=n.deferHydration();if(n.isHydrating){const h=n.hooks.hookOnce("app:error",c);_n().beforeEach(h)}let l;return()=>{const h=o.value&&o.value in vs,f=i?.meta.layoutTransition??Hx,d=l;return l=o.value,FA(h&&f,{default:()=>Et(Jm,{suspensible:!0,onResolve:()=>{_r(c)}},{default:()=>Et(s3,{layoutProps:Ub(e.attrs,{ref:a}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:m=>m!==d&&m===o.value,hasTransition:!!f},e.slots)})}).default()}}}),s3=Mn({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,e){const n=t.name;t.shouldProvide&&Ps(uA,{isCurrent:i=>n===(i.meta.layout??"default")});const r=Pt(Ni);if(r&&r===of()){const i=MA(),o={};for(const a in i){const c=a;Object.defineProperty(o,c,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?i[c]:r[c]})}Ps(Ni,ir(o))}return()=>!n||typeof n=="string"&&!(n in vs)?e.slots.default?.():Et(t3,{key:n,layoutProps:t.layoutProps,name:n},e.slots)}}),i3=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},o3={};function a3(t,e){const n=Jq,r=r3;return kn(),sr(r,null,{default:Hm(()=>[ht(n)]),_:1})}const c3=i3(o3,[["render",a3]]),l3={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(f=>({text:f.replace("webpack:/","").replace(".vue",".js").trim(),internal:f.includes("node_modules")&&!f.includes(".cache")||f.includes("internal")||f.includes("new Promise")})).map(f=>`<span class="stack${f.internal?" internal":""}">${f.text}</span>`).join(`
`);const r=Number(n.statusCode||500),s=r===404,i=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,h=s?ko(()=>Ze(()=>import("./C_IwXNAj.js"),__vite__mapDeps([24,6,25]),import.meta.url)):ko(()=>Ze(()=>import("./CCqoo6A-.js"),__vite__mapDeps([26,27]),import.meta.url));return(f,d)=>(kn(),sr(Qe(h),uk(Mb({statusCode:Qe(r),statusMessage:Qe(i),description:Qe(o),stack:Qe(a)})),null,16))}},u3={key:0},yT={__name:"nuxt-root",setup(t){const e=()=>null,n=Se(),r=n.deferHydration();if(n.isHydrating){const l=n.hooks.hookOnce("app:error",r);_n().beforeEach(l)}const s=!1;Ps(Ni,of()),n.hooks.callHookWith(l=>l.map(h=>h()),"vue:setup");const i=af(),o=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;ub((l,h,f)=>{if(n.hooks.callHook("vue:error",l,h,f).catch(d=>console.error("[nuxt] Error in `vue:error` hook",d)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",l),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,l),!1;if(fA(l)&&(l.fatal||l.unhandled))return n.runWithContext(()=>hi(l)),!1});const c=!1;return(l,h)=>(kn(),sr(Jm,{onResolve:Qe(r)},{default:Hm(()=>[Qe(o)?(kn(),W1("div",u3)):Qe(i)?(kn(),sr(Qe(l3),{key:1,error:Qe(i)},null,8,["error"])):Qe(c)?(kn(),sr(Qe(e),{key:2,context:Qe(c)},null,8,["context"])):Qe(s)?(kn(),sr(h1(Qe(s)),{key:3})):(kn(),sr(Qe(c3),{key:4}))]),_:1},8,["onResolve"]))}};let ET;{let t;ET=async function(){if(t)return t;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?FN(yT):MN(yT),s=Qx({vueApp:r});async function i(o){await s.callHook("app:error",o),s.payload.error||=Ti(o)}r.config.errorHandler=i,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===i&&(r.config.errorHandler=void 0)}),!n&&AE.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(AE.id)?.remove()});try{await Xx(s,zq)}catch(o){i(o)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(Kx),await s.hooks.callHook("app:mounted",r),await _r()}catch(o){i(o)}return r},t=ET().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{h3 as $,O3 as A,V3 as B,N3 as C,x3 as D,L3 as E,Mn as F,_s as G,_n as H,Os as I,cg as J,mw as K,dl as L,A3 as M,Et as N,d3 as O,Zm as P,uD as Q,QO as R,wr as S,ki as T,Ki as U,Ip as V,Ho as W,I3 as X,EA as Y,E3 as Z,i3 as _,Vb as a,J$ as a$,mE as a0,y3 as a1,_g as a2,Qh as a3,cN as a4,f3 as a5,_r as a6,$r as a7,b3 as a8,Ws as a9,Ji as aA,Yi as aB,Xe as aC,Q as aD,gr as aE,gq as aF,Uq as aG,Bt as aH,ka as aI,Bl as aJ,Xu as aK,Yf as aL,$l as aM,Qf as aN,V_ as aO,bn as aP,Jf as aQ,bs as aR,Be as aS,Fq as aT,Kn as aU,Vq as aV,Lg as aW,_t as aX,Vi as aY,te as aZ,B3 as a_,wT as aa,ll as ab,eh as ac,QD as ad,_3 as ae,G1 as af,Vt as ag,p3 as ah,Ni as ai,w3 as aj,XO as ak,S3 as al,P3 as am,uU as an,C3 as ao,kN as ap,Ze as aq,v3 as ar,b0 as as,sl as at,Eq as au,vn as av,K3 as aw,mr as ax,He as ay,Tn as az,ht as b,Lq as b$,lt as b0,ZH as b1,Re as b2,U3 as b3,XH as b4,YH as b5,j3 as b6,Vn as b7,oj as b8,CH as b9,jl as bA,Sq as bB,xH as bC,wH as bD,IH as bE,vH as bF,TH as bG,bH,AH as bI,_q as bJ,GH as bK,qH as bL,G3 as bM,aH as bN,cH as bO,lT as bP,DH as bQ,OH as bR,LH as bS,yq as bT,fT as bU,kH as bV,NH as bW,sH as bX,oH as bY,VH as bZ,MH as b_,mH as ba,gH as bb,iH as bc,jH as bd,$H as be,pH as bf,J3 as bg,q3 as bh,H3 as bi,pq as bj,Aq as bk,JH as bl,PH as bm,UH as bn,Z3 as bo,QH as bp,mq as bq,tH as br,_H as bs,z3 as bt,Q3 as bu,X3 as bv,zH as bw,fH as bx,hH as by,dt as bz,W1 as c,nH as c0,u0 as c1,yH as c2,W3 as c3,FH as c4,BH as c5,RH as c6,KH as c7,F3 as c8,EH as c9,uH as ca,lH as cb,dH as cc,eH as cd,SH as ce,HH as cf,Y3 as cg,rH as ch,WH as ci,Er as d,ef as e,g3 as f,sr as g,Fb as h,T3 as i,gt as j,fl as k,Jh as l,Hm as m,yc as n,kn as o,m3 as p,Se as q,Mt as r,D3 as s,pk as t,Qe as u,M3 as v,gn as w,k3 as x,FB as y,CS as z};
